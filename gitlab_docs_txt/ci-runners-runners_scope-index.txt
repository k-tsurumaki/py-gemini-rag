Source Path: gitlab_docs_html/ci/runners/runners_scope/index.html

Manage runners
Tier
: Free, Premium, Ultimate
Offering
: GitLab.com, GitLab Self-Managed, GitLab Dedicated
GitLab Runner has the following types of runners, which are available based on who you want to have access:
Instance runners
are available to all groups and projects in a GitLab instance.
Group runners
are available to all projects and subgroups in a group.
Project runners
are associated with specific projects.
Typically, project runners are used by one project at a time.
Instance runners
Instance runners
are available to every project in a GitLab instance.
Use instance runners when you have multiple jobs with similar requirements. Rather than
having multiple runners idling for many projects, you can have a few runners that handle
multiple projects.
If you are using GitLab Self-Managed, administrators can:
Install GitLab Runner
and register an instance runner.
Configure a maximum number of instance runner
compute minutes for each group
.
If you are using GitLab.com:
You can select from a list of
instance runners that GitLab maintains
.
The instance runners consume the
compute minutes
included with your account.
Create an instance runner with a runner authentication token
History
Introduced
in GitLab 15.10. Deployed behind the
create_runner_workflow_for_admin
flag
Enabled by default
in GitLab 16.0.
Generally available
in GitLab 16.2. Feature flag
create_runner_workflow_for_admin
removed.
Prerequisites:
You must be an administrator.
When you create a runner, it is assigned a runner authentication token that you use to register it. The runner uses the token to authenticate with GitLab when picking up jobs from the job queue.
To create an instance runner:
On the left sidebar, at the bottom, select
Admin
. If you’ve
turned on the new navigation
, in the upper-right corner, select
Admin
.
Select
CI/CD > Runners
.
Select
New instance runner
.
Select the operating system where GitLab Runner is installed.
In the
Tags
section, in the
Tags
field, enter the job tags to specify jobs the runner can run.
If there are no job tags for this runner, select
Run untagged
.
Optional. In the
Runner description
field, to add a runner description
that displays in GitLab, enter a runner description.
Optional. In the
Configuration
section, add additional configurations.
Select
Create runner
.
Follow the on-screen instructions to register the runner from the command line. When prompted by the command line:
For the
GitLab instance URL
, use the URL for your GitLab instance. For example, if your project
is hosted on
gitlab.example.com/yourname/yourproject
, your GitLab instance URL is
https://gitlab.example.com
.
For the
executor
, enter the type of
executor
. The executor is the
environment where the runner executes the job.
You can also
use the API
to create a runner.
The runner authentication token displays in the UI for a limited period of time during registration. After you register the runner,
the authentication token is stored in the
config.toml
.
Create an instance runner with a registration token (deprecated)
The option to pass runner registration tokens and support for certain configuration arguments is considered legacy
and is not recommended.
Use the
runner creation workflow
to generate an authentication token to register runners. This process provides full
traceability of runner ownership and enhances your runner fleet’s security.
For more information, see
Migrating to the new runner registration workflow
.
Prerequisites:
Runner registration tokens must be
enabled
in the
Admin
area.
You must be an administrator.
To create an instance runner:
On the left sidebar, at the bottom, select
Admin
. If you’ve
turned on the new navigation
, in the upper-right corner, select
Admin
.
Select
CI/CD > Runners
.
Select
Register an instance runner
.
Copy the registration token.
Register the runner
.
Pause or resume an instance runner
Prerequisites:
You must be an administrator.
You can pause a runner so that it does not accept jobs from groups and projects in the GitLab instance.
On the left sidebar, at the bottom, select
Admin
. If you’ve
turned on the new navigation
, in the upper-right corner, select
Admin
.
Select
CI/CD > Runners
.
In the search box, enter the runner description or filter the runner list.
In the runner list, to the right of the runner:
To pause the runner, select
Pause
(
pause
).
To resume the runner, select
Resume
(
play
).
Delete instance runners
Prerequisites:
You must be an administrator.
When you delete an instance runner, it is permanently deleted from the GitLab instance and can
no longer be used by groups and projects. If you want to temporarily stop the runner from accepting
jobs, you can
pause
the runner instead.
To delete a single or multiple instance runners:
On the left sidebar, at the bottom, select
Admin
. If you’ve
turned on the new navigation
, in the upper-right corner, select
Admin
.
Select
CI/CD > Runners
.
In the search box, enter the runner description or filter the list of runners.
Delete the instance runner:
To delete a single runner, next to the runner, select
Delete runner
(
remove
).
To delete multiple instance runners, select the checkbox for each runner and select
Delete selected
.
To delete all runners, select the checkbox at the top of the runner list and select
Delete selected
.
Select
Permanently delete runner
.
Enable instance runners for a project
On GitLab.com,
instance runners
are enabled in all projects by
default.
On GitLab Self-Managed, an administrator can
enable them for all new projects
.
For existing projects, an administrator must
install
and
register
them.
To enable instance runners for a project:
On the left sidebar, select
Search or go to
and find your project. If you’ve
turned on the new navigation
, this field is on the top bar.
Select
Settings
>
CI/CD
.
Expand
Runners
.
Enable the
Turn on instance runners for this project
toggle.
Enable instance runners for a group
To enable instance runners for a group:
On the left sidebar, select
Search or go to
and find your group. If you’ve
turned on the new navigation
, this field is on the top bar.
Select
Settings
>
CI/CD
.
Expand
Runners
.
Enable the
Turn on instance runners for this group
toggle.
Disable instance runners for a project
You can disable instance runners for individual projects or for groups.
You must have the Owner role for the project
or group.
To disable instance runners for a project:
On the left sidebar, select
Search or go to
and find your project. If you’ve
turned on the new navigation
, this field is on the top bar.
Select
Settings
>
CI/CD
.
Expand
Runners
.
In the
Instance runners
area, turn off the
Turn on runners for this project
toggle.
Instance runners are automatically disabled for a project:
If the instance runners setting for the parent group is disabled, and
If overriding this setting is not permitted for projects.
Disable instance runners for a group
To disable instance runners for a group:
On the left sidebar, select
Search or go to
and find your group. If you’ve
turned on the new navigation
, this field is on the top bar.
Select
Settings
>
CI/CD
.
Expand
Runners
.
Turn off the
Enable instance runners for this group
toggle.
Optional. To allow instance runners to be enabled for individual projects or subgroups,
select
Allow projects and subgroups to override the group setting
.
How instance runners pick jobs
Instance runners process jobs by using a fair usage queue. This queue prevents
projects from creating hundreds of jobs and using all available
instance runner resources.
The fair usage queue algorithm assigns jobs based on the projects that have the
fewest number of jobs already running on instance runners.
For example, if these jobs are in the queue:
Job 1 for Project 1
Job 2 for Project 1
Job 3 for Project 1
Job 4 for Project 2
Job 5 for Project 2
Job 6 for Project 3
When several CI/CD jobs run concurrently, the fair usage algorithm assigns jobs in this order:
Job 1 is first, because it has the lowest job number from projects with no running jobs (that is, all projects).
Job 4 is next, because 4 is now the lowest job number from projects with no running jobs (Project 1 has a job running).
Job 6 is next, because 6 is now the lowest job number from projects with no running jobs (Projects 1 and 2 have jobs running).
Job 2 is next, because, of projects with the lowest number of jobs running (each has 1), it is the lowest job number.
Job 5 is next, because Project 1 now has 2 jobs running and Job 5 is the lowest remaining job number between Projects 2 and 3.
Finally is Job 3 because it’s the only job left.
When only one job runs at a time, the fair usage algorithm assigns jobs in this order:
Job 1 is chosen first, because it has the lowest job number from projects with no running jobs (that is, all projects).
Job 1 finishes.
Job 2 is next, because, having finished Job 1, all projects have 0 jobs running again, and 2 is the lowest available job number.
Job 4 is next, because with Project 1 running a Job, 4 is the lowest number from projects running no jobs (Projects 2 and 3).
Job 4 finishes.
Job 5 is next, because having finished Job 4, Project 2 has no jobs running again.
Job 6 is next, because Project 3 is the only project left with no running jobs.
Finally, Job 3 is next because it’s the only job left.
Group runners
Use group runners when you want all projects in a group
to have access to a set of runners.
Group runners process jobs by using a first in, first out queue.
Create a group runner with a runner authentication token
History
Introduced
in GitLab 15.10. Deployed behind the
create_runner_workflow_for_namespace
flag
. Disabled by default.
Enabled by default
in GitLab 16.0.
Generally available
in GitLab 16.2. Feature flag
create_runner_workflow_for_admin
removed.
Prerequisites:
You must have the Owner role for the group.
You can create a group runner for GitLab Self-Managed or for GitLab.com.
When you create a runner, it is assigned a runner authentication token that you use to register it.
The runner uses the token to authenticate with GitLab when it picks up jobs from the job queue.
To create a group runner:
On the left sidebar, select
Search or go to
and find your group. If you’ve
turned on the new navigation
, this field is on the top bar.
Select
Build
>
Runners
.
Select
New group runner
.
In the
Tags
section, in the
Tags
field, enter the job tags to specify jobs the runner can run.
If there are no job tags for this runner, select
Run untagged
.
Optional. In the
Runner description
field, add a runner description
that displays in GitLab.
Optional. In the
Configuration
section, add additional configurations.
Select
Create runner
.
Select the platform where GitLab Runner is installed.
Complete the onscreen instructions:
For Linux, macOS, and Windows, when prompted by the command line:
For the
GitLab instance URL
, use the URL for your GitLab instance. For example, if your project
is hosted on
gitlab.example.com/yourname/yourproject
, your GitLab instance URL is
https://gitlab.example.com
.
For the
executor
, enter the type of
executor
. The executor is the
environment where the runner executes the job.
For Google Cloud, see
Provisioning runners in Google Cloud
.
You can also
use the API
to create a runner.
The runner authentication token displays in the UI for only a short period of time during registration.
Create a group runner with a registration token (deprecated)
History
Path changed from
Settings > CI/CD > Runners
.
The option to pass runner registration tokens and support for certain configuration arguments is considered legacy
and is not recommended.
Use the
runner creation workflow
to generate an authentication token to register runners. This process provides full
traceability of runner ownership and enhances your runner fleet’s security.
For more information, see
Migrating to the new runner registration workflow
.
Prerequisites:
Runner registration tokens must be
enabled
in the top-level group.
You must have the Owner role for the group.
To create a group runner:
Install GitLab Runner
.
On the left sidebar, select
Search or go to
and find your group. If you’ve
turned on the new navigation
, this field is on the top bar.
Select
Build
>
Runners
.
In the upper-right corner, select
Register a group runner
.
Select
Show runner installation and registration instructions
.
These instructions include the token, URL, and a command to register a runner.
Alternately, you can copy the registration token and follow the documentation for
how to
register a runner
.
View group runners
History
Ability for users with the Maintainer role to view group runners
introduced
in GitLab 16.4.
Prerequisites:
You must have the Maintainer or Owner role for the group.
You can view all runners for a group and its subgroups and projects.
You can do this for GitLab Self-Managed or for GitLab.com.
On the left sidebar, select
Search or go to
and find your group. If you’ve
turned on the new navigation
, this field is on the top bar.
Select
Build
>
Runners
.
Filter group runners to show only inherited
History
Introduced
in GitLab 15.5.
Generally available
in GitLab 15.5. Feature flag
runners_finder_all_available
removed.
You can choose to show all runners in the list, or show only
those that are inherited from the instance or other groups.
By default, only those that are inherited are shown.
To show all runners available in the instance, including instance runners and
those in other groups:
On the left sidebar, select
Search or go to
and find your group. If you’ve
turned on the new navigation
, this field is on the top bar.
Select
Build
>
Runners
.
Above the list, turn off the
Show only inherited
toggle.
Pause or resume a group runner
Prerequisites:
You must be an administrator or have the Owner role for the group.
You can pause a runner so that it does not accept jobs from subgroups and projects in the GitLab
instance. If you pause a group runner that is used by multiple projects, the runner pauses for all projects.
On the left sidebar, select
Search or go to
and find your group. If you’ve
turned on the new navigation
, this field is on the top bar.
Select
Build
>
Runners
.
In the search box, enter the runner description or filter the runner list.
In the runner list, to the right of the runner:
To pause the runner, select
Pause
(
pause
).
To resume the runner, select
Resume
(
play
).
Delete a group runner
History
Multiple runner deletion
introduced
in GitLab 15.6.
Prerequisites:
You must be an administrator or have the Owner role for the group.
When you delete a group runner, it is permanently deleted from the GitLab instance and can
no longer be used by subgroups and projects. If you want to temporarily stop the runner from accepting
jobs, you can
pause
the runner instead.
To delete a single or multiple group runners:
On the left sidebar, select
Search or go to
and find your group. If you’ve
turned on the new navigation
, this field is on the top bar.
Select
Build
>
Runners
.
In the search box, enter the runner description or filter the list of runners.
Delete the group runner:
To delete a single runner, next to the runner, select
Delete runner
(
remove
).
To delete multiple instance runners, select the checkbox for each runner and select
Delete selected
.
To delete all runners, select the checkbox at the top of the runner list and select
Delete selected
.
Select
Permanently delete runner
.
Clean up stale group runners
Tier
: Ultimate
Offering
: GitLab.com, GitLab Self-Managed, GitLab Dedicated
History
Introduced
in GitLab 15.1.
Prerequisites:
You must have the Owner role for the group.
You can clean up group runners that have been inactive for more than three months.
Group runners are those that were created in a specific group.
On the left sidebar, select
Search or go to
and find your group. If you’ve
turned on the new navigation
, this field is on the top bar.
Select
Settings
>
CI/CD
.
Expand
Runners
.
Turn on the
Enable stale runner cleanup
toggle.
View stale runner cleanup logs
You can check the
Sidekiq logs
to see the cleanup result. In Kibana you can use the following query:
{
"query"
:
{
"match_phrase"
:
{
"json.class.keyword"
:
"Ci::Runners::StaleGroupRunnersPruneCronWorker"
}
}
}
Filter entries where stale runners were removed:
{
"query"
:
{
"range"
:
{
"json.extra.ci_runners_stale_group_runners_prune_cron_worker.total_pruned"
:
{
"gte"
:
1
,
"lt"
:
null
}
}
}
}
Project runners
Use project runners when you want to use runners for specific projects. For example,
when you have:
Jobs with specific requirements, like a deploy job that requires credentials.
Projects with a lot of CI activity that can benefit from being separate from other runners.
You can set up a project runner to be used by multiple projects. Project runners
must be enabled for each project explicitly.
Project runners process jobs by using a first in, first out (
FIFO
) queue.
Project runners do not get instance with forked projects automatically.
A fork does copy the CI/CD settings of the cloned repository.
Project runner ownership
When a runner first connects to a project, that project becomes the runner’s owner.
If you delete the owner project:
GitLab finds all other projects that share the runner.
GitLab assigns ownership to the project with the oldest association.
If no other projects share the runner, GitLab deletes the runner automatically.
You cannot unassign a runner from the owner project. Delete the runner instead.
Create a project runner with a runner authentication token
History
Introduced
in GitLab 15.10. Deployed behind the
create_runner_workflow_for_namespace
flag
. Disabled by default.
Enabled by default
in GitLab 16.0.
Generally available
in GitLab 16.2. Feature flag
create_runner_workflow_for_admin
removed.
Prerequisites:
You must have the Maintainer role for the project.
You can create a project runner for GitLab Self-Managed or for GitLab.com. When you create a runner,
it is assigned a runner authentication token that you use to register to the runner. The runner uses the token to
authenticate with GitLab when it picks up jobs from the job queue.
To create a project runner:
On the left sidebar, select
Search or go to
and find your project. If you’ve
turned on the new navigation
, this field is on the top bar.
Select
Settings
>
CI/CD
.
Expand the
Runners
section.
Select
New project runner
.
Select the operating system where GitLab Runner is installed.
In the
Tags
section, in the
Tags
field, enter the job tags to specify jobs the runner can run.
If there are no job tags for this runner, select
Run untagged
.
Optional. In the
Runner description
field, add a description for the runner
that displays in GitLab.
Optional. In the
Configuration
section, add additional configurations.
Select
Create runner
.
Select the platform where GitLab Runner is installed.
Complete the onscreen instructions:
For Linux, macOS, and Windows, when prompted by the command line:
For the
GitLab instance URL
, use the URL for your GitLab instance. For example, if your project
is hosted on
gitlab.example.com/yourname/yourproject
, your GitLab instance URL is
https://gitlab.example.com
.
For the
executor
, enter the type of
executor
. The executor is the
environment where the runner executes the job.
For Google Cloud, see
Provisioning runners in Google Cloud
.
You can also
use the API
to create a runner.
The runner authentication token displays in the UI for only a short period of time during registration.
Create a project runner with a registration token (deprecated)
The option to pass runner registration tokens and support for certain configuration arguments is considered legacy
and is not recommended.
Use the
runner creation workflow
to generate an authentication token to register runners. This process provides full
traceability of runner ownership and enhances your runner fleet’s security.
For more information, see
Migrating to the new runner registration workflow
.
Prerequisites:
Runner registration tokens must be
enabled
in the top-level group.
You must have at least the Maintainer role for the project.
To create a project runner:
Install GitLab Runner
.
On the left sidebar, select
Search or go to
and find the project where you want to use the runner. If you’ve
turned on the new navigation
, this field is on the top bar.
Select
Settings
>
CI/CD
.
Expand
Runners
.
In the
Project runners
section, note the URL and token.
Register the runner
.
The runner is now enabled for the project.
Pause or resume a project runner
Prerequisites:
You must be an administrator, or have the Maintainer role for the project.
You can pause a project runner so that it does not accept jobs from projects it’s assigned to
in the GitLab instance.
On the left sidebar, select
Search or go to
and find the project where you want to enable the runner. If you’ve
turned on the new navigation
, this field is on the top bar.
Select
Settings
>
CI/CD
.
Expand
Runners
.
In the
Assigned project runners
section, find the runner.
To the right of the runner:
To pause the runner, select
Pause
(
pause
), then select
Pause
.
To resume the runner, select
Resume
(
play
).
Delete a project runner
Prerequisites:
You must be an administrator, or have the Maintainer role for the project.
You cannot delete a project runner that is assigned to more than one project. Before you can delete the runner, you must
disable
it in all projects where it is enabled.
When you delete a project runner, it is permanently deleted from the GitLab instance and can
no longer be used by projects. If you want to temporarily stop the runner from accepting
jobs, you can
pause
the runner instead.
When you delete a runner, its configuration still exists in the runner host’s
config.toml
file.
If the deleted runner’s configuration is still present in this file, the runner host continues to contact GitLab.
To prevent unnecessary API traffic, you must also
unregister the deleted runner
.
On the left sidebar, select
Search or go to
and find the project where you want to enable the runner. If you’ve
turned on the new navigation
, this field is on the top bar.
Select
Settings
>
CI/CD
.
Expand
Runners
.
In the
Assigned project runners
section, find the runner.
To the right of the runner, select
Remove runner
.
To delete the runner, select
Remove
.
Enable a project runner for a different project
After a project runner is created, you can enable it for other projects.
Prerequisites:
You must have at least the Maintainer role for:
The project where the runner is already enabled.
The project where you want to enable the runner.
The project runner must not be
locked
.
To enable a project runner for a project:
On the left sidebar, select
Search or go to
and find the project where you want to enable the runner. If you’ve
turned on the new navigation
, this field is on the top bar.
Select
Settings
>
CI/CD
.
Expand
Runners
.
In the
Project runners
area, by the runner you want, select
Enable for this project
.
You can edit a project runner from any of the projects it’s enabled for.
The modifications, which include unlocking and editing tags and the description,
affect all projects that use the runner.
An administrator can
enable the runner for multiple projects
.
Prevent a project runner from being enabled for other projects
You can configure a project runner so it is “locked” and cannot be enabled for other projects.
This setting can be enabled when you first
register a runner
,
but can also be changed later.
To lock or unlock a project runner:
On the left sidebar, select
Search or go to
and find the project where you want to enable the runner. If you’ve
turned on the new navigation
, this field is on the top bar.
Select
Settings
>
CI/CD
.
Expand
Runners
.
Find the project runner you want to lock or unlock. Make sure it’s enabled. You cannot lock instance or group runners.
Select
Edit
(
pencil
).
Select the
Lock to current projects
checkbox.
Select
Save changes
.
Runner statuses
A runner can have one of the following statuses.
Status
Description
online
The runner has contacted GitLab in the last 2 hours and is available to run jobs.
offline
The runner has not contacted GitLab in more than 2 hours and is not available to run jobs. Check the runner to see if you can bring it online.
stale
The runner has not contacted GitLab in more than 7 days. If the runner was created more than 7 days ago, but it never contacted the instance, it is also considered
stale
.
never_contacted
The runner has never contacted GitLab. To make the runner contact GitLab, run
gitlab-runner run
.
Stale runner manager cleanup
GitLab periodically deletes stale runner managers to maintain a lean database.
If a runner contacts the GitLab instance, the connection is recreated.
View statistics for runner performance
Tier
: Ultimate
Offering
: GitLab.com, GitLab Self-Managed, GitLab Dedicated
History
Introduced
in GitLab 15.8.
As an administrator, you can view runner statistics to learn about the performance of your runner fleet.
The
Median job queued time
value is calculated by sampling the queue duration of the
most recent 100 jobs that were run by Instance runners. Jobs from only the latest 5000
runners are considered.
The median is a value that falls into the 50th percentile. Half of the jobs
queue longer than the median value, and half queue for less time than the
median value.
To view runner statistics:
On the left sidebar, at the bottom, select
Admin
. If you’ve
turned on the new navigation
, in the upper-right corner, select
Admin
.
Select
CI/CD > Runners
.
Select
View metrics
.
Determine which runners need to be upgraded
Tier
: Ultimate
Offering
: GitLab.com, GitLab Self-Managed, GitLab Dedicated
History
Introduced
in GitLab 15.3.
The version of GitLab Runner used by your runners should be
kept up-to-date
.
To determine which runners need to be upgraded:
View the list of runners:
For a group:
On the left sidebar, select
Search or go to
and find your group. If you’ve
turned on the new navigation
, this field is on the top bar.
Select
Build
>
Runners
.
For the instance:
On the left sidebar, at the bottom, select
Admin
. If you’ve
turned on the new navigation
, in the upper-right corner, select
Admin
.
Select
CI/CD > Runners
.
Above the list of runners, view the status:
Outdated - recommended
: The runner does not have the latest
PATCH
version, which may make it vulnerable
to security or high severity bugs. Or, the runner is one or more
MAJOR
versions behind your GitLab instance, so some features may not be available or work properly.
Outdated - available
: Newer versions are available but upgrading is not critical.
Filter the list by status to view which individual runners need to be upgraded.
Determine the IP address of a runner
To troubleshoot runner issues, you might need to know the runner’s IP address.
GitLab stores and displays the IP address by viewing the source of the
HTTP requests when the runner polls for jobs.
GitLab automatically updates the runner’s IP address whenever it is updated.
The IP address for instance runners and project runners can be found in
different places.
Determine the IP address of an instance runner
Prerequisites:
You must have administrator access to the instance.
To determine the IP address of an instance runner:
On the left sidebar, at the bottom, select
Admin
. If you’ve
turned on the new navigation
, in the upper-right corner, select
Admin
.
Select
CI/CD > Runners
.
Find the runner in the table and view the
IP Address
column.
Determine the IP address of a project runner
To can find the IP address of a runner for a project,
you must have the Owner role for the
project.
Go to the project’s
Settings
>
CI/CD
and expand the
Runners
section.
Select the runner name and find the
IP Address
row.
Add maintenance notes to runner configuration
Tier
: Ultimate
Offering
: GitLab.com, GitLab Self-Managed, GitLab Dedicated
History
Introduced for administrators
in GitLab 15.1.
Made available for groups and projects
in GitLab 18.2.
You can add a maintenance note to document the runner. Users who can edit the runner
see the note when they view the runner details.
Use this feature to inform others about consequences or problems related to changing the runner configuration.
Enable use of runner registration tokens in projects and groups
History
Introduced
in GitLab 16.11
The option to pass runner registration tokens and support for certain configuration arguments is considered legacy
and is not recommended.
Use the
runner creation workflow
to generate an authentication token to register runners. This process provides full
traceability of runner ownership and enhances your runner fleet’s security.
For more information, see
Migrating to the new runner registration workflow
.
In GitLab 17.0, the use of runner registration tokens is disabled in all GitLab instances.
Prerequisites:
Runner registration tokens must be
enabled
in the
Admin
area.
To enable the use of runner registration token in project and groups:
On the left sidebar, select
Search or go to
and find your group. If you’ve
turned on the new navigation
, this field is on the top bar.
Select
Settings
>
CI/CD
.
Expand
Runners
.
Turn on the
Allow members of projects and groups to create runners with runner registration tokens
toggle.