<!doctype html><html lang=en-us dir=ltr><head><script src=https://cdn.cookielaw.org/consent/7f944245-c5cd-4eed-a90e-dd955adfdd08/OtAutoBlock.js></script><script src=https://cdn.cookielaw.org/scripttemplates/otSDKStub.js data-domain-script=7f944245-c5cd-4eed-a90e-dd955adfdd08></script><script type=text/javascript>function OptanonWrapper(){}</script><script>const callback=(e)=>{for(const t of e)t.type==="childList"&&t.addedNodes.forEach(e=>{e.nodeName==="IMG"&&document.querySelectorAll('img:not([src^="http"]):not([data-ot-ignore])').forEach(e=>{e.setAttribute("data-ot-ignore","")})})},config={attributes:!0,childList:!0,subtree:!0,attributeFilter:["src"]},observer=new MutationObserver(callback);observer.observe(document.documentElement,config)</script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","GTM-NJXWQL"),gtag("consent","default",{analytics_storage:"granted",ad_storage:"granted",functionality_storage:"granted",wait_for_update:500}),gtag("consent","default",{analytics_storage:"denied",ad_storage:"denied",functionality_storage:"denied",region:["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","IS","LI","NO","GB","PE","RU"],wait_for_update:500}),window.geofeed=e=>{dataLayer.push({event:"OneTrustCountryLoad",oneTrustCountryId:e.country.toString()})};const json=document.createElement("script");json.setAttribute("src","https://geolocation.onetrust.com/cookieconsentpub/v1/geo/location/geofeed"),document.head.appendChild(json)</script><meta charset=utf-8><meta name=viewport content="width=device-width"><title>Customize pipeline configuration | GitLab Docs</title><link rel=icon href=/favicon.ico sizes=any><link rel=icon href=/favicon.svg type=image/svg+xml><link rel=apple-touch-icon href=/apple-touch-icon.png><link rel=manifest href=/manifests/manifest.webmanifest><meta name=theme-color content="#FC6D26"><link rel=canonical href=https://docs.gitlab.com/ci/pipelines/settings/><meta name=description content="GitLab product documentation."><script type=application/ld+json>{"@context":"https://schema.org","@type":"WebSite","name":"GitLab Docs","url":"https://docs.gitlab.com/"}</script><link rel=preload href=/gitlab_ui/fonts/GitLabSans.woff2 type=font/woff2 as=font crossorigin><link rel=prefetch href=/gitlab_ui/fonts/GitLabSans-Italic.woff2 crossorigin><link rel=prefetch href=/gitlab_ui/fonts/GitLabMono.woff2 crossorigin><link rel=stylesheet href=/gitlab_ui/ui/index.css><link rel=stylesheet href=/vite/main.css><link rel=stylesheet href=/css/syntax-dark.min.css id=syntax-dark-theme><link rel=stylesheet href=/css/syntax-light.min.css id=syntax-light-theme><script>(function(){const p="gitlab-docs-theme",g="gitlab-docs-layout",e={LIGHT:"light",DARK:"dark",AUTO:"auto"},i={FIXED:"fixed",FLUID:"fluid"},d="light",f="fixed";let r=!1;const t=localStorage?.getItem(p),m=localStorage?.getItem(g),l=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?e.DARK:e.LIGHT;function h(){return t&&(t===e.LIGHT||t===e.DARK)?t:(t===e.AUTO&&(r=!0),l||d)}function u(){return m===i.FLUID?i.FLUID:f}const s=h(),c=u(),n=document.documentElement;n.classList.remove("gl-dark","gl-light"),n.classList.add(s===e.DARK?"gl-dark":"gl-light"),c===i.FLUID&&(n.classList.add("fluid"),n.classList.remove("fixed"));const a=document.getElementById("syntax-dark-theme"),o=document.getElementById("syntax-light-theme");a&&o&&(s===e.DARK?(a.disabled=!1,o.disabled=!0):(a.disabled=!0,o.disabled=!1)),window.__initialTheme=r?e.AUTO:s,window.__initialLayout=c})()</script><meta name=gitlab_docs_base_url content="/"><meta name=gitlab_docs_page_owner data-stage=Verify data-group="Pipeline Execution"><meta class=elastic name=gitlab_docs_version content="18.6"><meta class=elastic name=gitlab_docs_section content="use_gitlab"><meta class=elastic name=gitlab_docs_breadcrumbs content="Use GitLab › Use CI/CD to build your application › Pipelines"><script>window.pageMetadata={trail:[{path:"user/",title:"Use GitLab"},{path:"topics/build_your_application/",title:"Use CI/CD to build your application"},{path:"ci/pipelines/",title:"Pipelines"},{path:"ci/pipelines/settings/",title:"Customize pipeline configuration"}]}</script><meta name=gitlab_docs_legacy_path content="/ee/ci/pipelines/settings.html"><meta name=gitlab_docs_hugo_launch_version content="17.9"><script>const ELASTIC_CLOUD_ID="gitlab-docs-website:dXMtY2VudHJhbDEuZ2NwLmNsb3VkLmVzLmlvJDQwZTQyYTQzMTJiZjQyMzNiMzBiZTg0MTU5YjlkNmE1JGMxODg4Y2U5OTY0YzQzZjc5ZjQ1YTk5NDZmMjI0ODg0",ELASTIC_KEY="cDFpLWJaSUJXVHBqWWI4VGZKN3M6eENBSjl4WDRSRnlCUW94ajRQazhLQQ==",ELASTIC_INDEX="search-gitlab-docs-hugo"</script><script type=module src=/vite/elastic_search.js></script><script type=module src=/vite/history.js></script><script>const FS_IDENTIFIER="AIzaSyCLdi3jHHjkmLji9D8uj_RNPMHcdrYoIW4",RECAPTCHA_PUBLIC_KEY="6Le4R3UrAAAAALsIlK_siq0_UhPD-0rD-ImF1gfO"</script><meta name=google-site-verification content="AcGSBNaKDWnLgcYotlVibGy6STm2Y6_KJSaRxrA90xY"><meta name=google-site-verification content="6eFQOFLxYAer08ROqc3I-SAi44F9NmvH7PrUUBR3oCI"><meta name=google-site-verification content="xAUTWp3CDg-tU1LVVwsM9OrVhLR7L3SmiyKzkOuPNos"><meta name=google-site-verification content="F0zzwaMpiyWFcPQ1Lqu18qN3EnuQsqFXbySl_29yvHs"><meta name=google-site-verification content="nwo1bVaU0t9TZxZyM-aOI6-CofaH9GRL-uBPbdREWgc"><meta name=google-site-verification content="rWoHrtHEmIX0t28oOb1ZEDMYZb_EZA6rr6ZOl5otEPI"><meta name=google-site-verification content="fSxr8-uslxcuFL0N-oECp3Tm0RPNEGX97wbdayKOEL8"><meta name=google-site-verification content="ISxyLVnZqU8oY3jwrK7EO9o-2DOTvLJwPse7bZz6yhs"><meta name=google-site-verification content="x1WspIvz3ZHqS0gezfX_P-qiRDOeP2Oyrd68zrU2ErI"><meta name=google-site-verification content="DfXB2Za52GT3zs_vuLIAL4Mi3M3K4qxXcg7MAs0CUqo"><meta name=google-site-verification content="BCEBC2LC7A1NzO9Com1oBrWK88tV_QXfUL0i9mwXPL0"><meta name=google-site-verification content="a2lNcHMorfS43aoISjZt5_BBPo-H1UaTKMQdBgZO9iY"><meta name=google-site-verification content="0s16pP9MelY6wDHRf-izXb5pwLU01IogP-Uc_e8f3GU"><meta name=google-site-verification content="H474RNof35Xp8fLg02fZbg9Dzxdtfch6vtcjzpmUraU"><meta name=google-site-verification content="E0FlhpgBGeE7d1pQ6amdcIWPMDLDeu15-HLQVoDTguE"><meta name=google-site-verification content="opQd7_rXtPy-pX5CO_XZiztzeQEsXnB3j6Y1_dZAizA"><meta name=google-site-verification content="06Kq4AoXdmBOjOAkbPvnYGtSxnn4Q9QBqEO55PLlw5c"><meta name=google-site-verification content="djBBokRFSWV_VRlSE51V5TZSPzMC6hml5l-Sb22WglE"><meta name=google-site-verification content="UOW6nOsvbyMeIySuamzbws4kNC_WqehamWfoxxtKjZ8"><meta name=google-site-verification content="hXU1Gsdba74DUbvbdUHRl9o0cQeiwXIhAdIllOG6p8E"><meta name=google-site-verification content="YFeHIAPk9lE76ubVMeq4P0sQVnzo2-a4k1oU_bPY8yE"><meta name=google-site-verification content="h8ICI4eDkvXmYaGDuLTLoWuXnLn-KUkChqYB-roMRsw"><meta name=google-site-verification content="9QW7feFNlCpMLPm7vAWEU-v14vdzb0Bb3RAk-8e_a18"><meta name=google-site-verification content="26kXLBOjaYRb2UwzWTDl1I1nzA2NxMunhp7SUtxGV6E"><meta name=google-site-verification content="jr3C8t6vKGPyN9GV3esdHY_xGYyQaUNznIl-Un2RObA"><meta name=google-site-verification content="WdlBpRU0ec1ieKqrTY_772OhG23FY45VQ4Lv9DyLJ_Y"><meta name=google-site-verification content="n9i6B9q4Xjr_etK2nQGZH1msoo7vIv9SXV8SQLOUA7c"><meta name=zd-site-verification content="ony3w7hk1vs6tfyrc51mld"><meta name=zd-site-verification content="gtuq65qdzt6n31viazi6hj"></head><body data-elastic-exclude><nav data-ga-section=header data-elastic-exclude><div class="header-wrapper gl-w-full gl-fixed gl-z-4"><div class=header><div class="header-top gl-flex gl-items-center"><a href=#skipTarget class="gl-sr-only skip-link">Skip to main content</a>
<a class=navbar-logo href=/><span class=gl-sr-only>Go to GitLab Docs homepage</span></a><div class="mobile-header gl-w-full gl-text-base"><div class=mobile-header-overlay></div><div class="header-right collapse gl-z-4 gl-border-t lg:gl-border-0"><div class="search-wrapper lg:gl-ml-4 lg:gl-grow"><div class="js-elastic-search-form gl-spinner-container"><span role=status aria-label=Loading class="gl-ml-3 gl-align-text-bottom! gl-spinner gl-spinner gl-spinner-sm"></span></div></div><div class="gl-flex gl-flex-col gl-gap-3 gl-mt-5 lg:gl-mt-0 lg:gl-flex-row lg:gl-items-center gl-ml-auto"><a class="whats-new gl-button btn-default btn-default-tertiary gl-hidden lg:gl-block" href=https://about.gitlab.com/releases/categories/releases/ target=_blank rel="noopener noreferrer">What's new?</a><div data-vue-app=versions-menu></div><div data-vue-app=appearance-toggle class="gl-hidden lg:gl-block"></div><div class="gl-flex gl-justify-evenly lg:gl-justify-normal gl-items-center gl-gap-5"><a class="whats-new gl-button btn-default btn-default-tertiary gl-w-full lg:gl-hidden hover:gl-no-underline" href=https://about.gitlab.com/releases/categories/releases/ target=_blank rel="noopener noreferrer">What's new?</a>
<a class="free-trial-btn cta-button gl-button btn-confirm gl-w-full hover:gl-no-underline" href="https://gitlab.com/-/trial_registrations/new?glm_source=docs.gitlab.com&amp;amp;glm_content=navigation-cta-docs" target=_blank rel="noopener noreferrer" role=button>Get free trial</a></div></div></div></div><button class="navbar-toggle gl-button btn-default lg:gl-hidden" data-toggle=collapse data-target=.header-right>
<span class=navbar-toggle-icon></span>
<span class=gl-sr-only>Toggle menu</span></button></div><div class="header-bottom gl-border-t lg:gl-border-b"><ul class="subheader-menu gl-hidden lg:gl-flex gl-list-none gl-text-base gl-space-x-5 gl-py-4 gl-pl-0 gl-mb-0"><li><a href=/user/ class=active>Use GitLab</a></li><li><a href=/user/gitlab_duo/>GitLab Duo</a></li><li><a href=/api/>Extend</a></li><li><a href=/install/>Install</a></li><li><a href=/administration/>Administer</a></li><li><a href=/subscriptions/>Subscribe</a></li><li><a href=/development/>Contribute</a></li><li><a href=/solutions/>Solutions</a></li></ul></div></div></div></nav><main data-ga-section=content-body><div id=js-version-banner></div><div class="template-single gl-flex gl-h-full"><div class=side-nav data-ga-section=side-nav data-vue-app=sidebar-menu></div><div data-pagefind-body class=main-content><div class=docs-content><div class="gl-flex gl-h-5 gl-items-center gl-my-6"><div data-vue-app=open-sidebar></div><div data-vue-app=breadcrumb-nav></div></div><hr class="gl-border-t gl-px-5 lg:gl-hidden"><div class="gl-pt-4 gl-mt-4 lg:gl-pt-0 lg:gl-mt-0 lg:gl-border-t-0"><h1 id=skipTarget class=gl-mb-6>Customize pipeline configuration</h1></div><div data-elastic-include><div class="availability gl-pl-4 gl-mb-5"><ul class="gl-list-none gl-p-0 gl-m-0"><li><span class=gl-font-bold>Tier</span>: Free, Premium, Ultimate</li><li><span class=gl-font-bold>Offering</span>: GitLab.com, GitLab Self-Managed, GitLab Dedicated</li></ul></div><p>You can customize how pipelines run for your project.</p><h2 id=change-which-users-can-view-your-pipelines>Change which users can view your pipelines</h2><p>For public and internal projects, you can change who can see your:</p><ul><li>Pipelines</li><li>Job output logs</li><li>Job artifacts</li><li><a href=/user/application_security/detect/security_scanning_results/>Pipeline security results</a></li></ul><p>To change the visibility of your pipelines and related features:</p><ol><li><p>On the left sidebar, select <strong>Search or go to</strong> and find your project. If you&rsquo;ve <a href=/user/interface_redesign/#turn-new-navigation-on-or-off>turned on the new navigation</a>, this field is on the top bar.</p></li><li><p>Select <strong>Settings</strong> > <strong>CI/CD</strong>.</p></li><li><p>Expand <strong>General pipelines</strong>.</p></li><li><p>Select or clear the <strong>Project-based pipeline visibility</strong> checkbox.
When it is selected, pipelines and related features are visible:</p><ul><li>For <a href=/user/public_access/><strong>Public</strong></a> projects, to everyone.</li><li>For <strong>Internal</strong> projects, to all authenticated users except <a href=/administration/external_users/>external users</a>.</li><li>For <strong>Private</strong> projects, to all project members (Guest or higher).</li></ul><p>When it is cleared:</p><ul><li>For <strong>Public</strong> projects, job logs, job artifacts, the pipeline security dashboard,
and the <strong>CI/CD</strong> menu items are visible only to project members (Reporter or higher).
Other users, including guest users, can only view the status of pipelines and jobs, and only
when viewing merge requests or commits.</li><li>For <strong>Internal</strong> projects, pipelines are visible to all authenticated users except <a href=/administration/external_users/>external users</a>.
Related features are visible only to project members (Reporter or higher).</li><li>For <strong>Private</strong> projects, pipelines and related features are visible to project members (Reporter or higher) only.</li></ul></li></ol><h3 id=change-pipeline-visibility-for-non-project-members-in-public-projects>Change pipeline visibility for non-project members in public projects</h3><p>You can control the visibility of pipelines for non-project members in <a href=/user/public_access/>public projects</a>.</p><p>This setting has no effect when:</p><ul><li>Project visibility is set to <a href=/user/public_access/><strong>Internal</strong> or <strong>Private</strong></a>,
because non-project members cannot access internal or private projects.</li><li>The <a href=/ci/pipelines/settings/#change-which-users-can-view-your-pipelines><strong>Project-based pipeline visibility</strong></a> setting is disabled.</li></ul><p>To change the pipeline visibility for non-project members:</p><ol><li>On the left sidebar, select <strong>Search or go to</strong> and find your project. If you&rsquo;ve <a href=/user/interface_redesign/#turn-new-navigation-on-or-off>turned on the new navigation</a>, this field is on the top bar.</li><li>Select <strong>Settings</strong> > <strong>General</strong>.</li><li>Expand <strong>Visibility, project features, permissions</strong>.</li><li>For <strong>CI/CD</strong>, choose:<ul><li><strong>Only project members</strong>: Only project members can view pipelines.</li><li><strong>Everyone With Access</strong>: Non-project members can also view pipelines.</li></ul></li><li>Select <strong>Save changes</strong>.</li></ol><p>The <a href=/user/permissions/#cicd>CI/CD permissions table</a>
lists the pipeline features non-project members can access when <strong>Everyone With Access</strong>
is selected.</p><h2 id=auto-cancel-redundant-pipelines>Auto-cancel redundant pipelines</h2><p>You can set pending or running pipelines to cancel automatically when a pipeline for new changes runs on the same branch. You can enable this in the project settings:</p><ol><li>On the left sidebar, select <strong>Search or go to</strong> and find your project. If you&rsquo;ve <a href=/user/interface_redesign/#turn-new-navigation-on-or-off>turned on the new navigation</a>, this field is on the top bar.</li><li>Select <strong>Settings</strong> > <strong>CI/CD</strong>.</li><li>Expand <strong>General Pipelines</strong>.</li><li>Select the <strong>Auto-cancel redundant pipelines</strong> checkbox.</li><li>Select <strong>Save changes</strong>.</li></ol><p>Use the <a href=/ci/yaml/#interruptible><code>interruptible</code></a> keyword to indicate if a
running job can be canceled before it completes. After a job with
<code>interruptible: false</code> starts, the entire pipeline is no longer considered interruptible.</p><h2 id=prevent-outdated-deployment-jobs>Prevent outdated deployment jobs</h2><p>Your project may have multiple concurrent deployment jobs that are
scheduled to run in the same time frame.</p><p>This can lead to a situation where an older deployment job runs after a
newer one, which may not be what you want.</p><p>To avoid this scenario:</p><ol><li>On the left sidebar, select <strong>Search or go to</strong> and find your project. If you&rsquo;ve <a href=/user/interface_redesign/#turn-new-navigation-on-or-off>turned on the new navigation</a>, this field is on the top bar.</li><li>Select <strong>Settings</strong> > <strong>CI/CD</strong>.</li><li>Expand <strong>General pipelines</strong>.</li><li>Select the <strong>Prevent outdated deployment jobs</strong> checkbox.</li><li>Optional. Clear the <strong>Allow job retries for rollback deployments</strong> checkbox.</li><li>Select <strong>Save changes</strong>.</li></ol><p>For more information, see <a href=/ci/environments/deployment_safety/#prevent-outdated-deployment-jobs>Deployment safety</a>.</p><h2 id=restrict-roles-that-can-cancel-pipelines-or-jobs>Restrict roles that can cancel pipelines or jobs</h2><div class="availability gl-pl-4 gl-mb-5"><ul class="gl-list-none gl-p-0 gl-m-0"><li><span class=gl-font-bold>Tier</span>: Premium, Ultimate</li><li><span class=gl-font-bold>Offering</span>: GitLab.com, GitLab Self-Managed, GitLab Dedicated</li></ul></div><div class="collapsible-section gl-my-5"><button class="gl-align-middle gl-text-left gl-border-0 gl-pl-0" type=button aria-expanded=false aria-controls=collapsible-2 aria-label="Toggle section" data-toggle=collapse data-target=#collapsible-2>History<span class="gl-ml-2 icon"></span></button><div id=collapsible-2 class="collapsible-list collapse" aria-hidden=true><ul><li><a href=https://gitlab.com/gitlab-org/gitlab/-/merge_requests/137301>Introduced</a> in GitLab 16.7.</li></ul></div></div><p>You can customize which roles have permission to cancel pipelines or jobs.</p><p>By default, users with at least the Developer role can cancel pipelines or jobs.
You can restrict cancellation permission to only users with at least the Maintainer role,
or completely prevent cancellation of any pipelines or jobs.</p><p>To change the permissions to cancel pipelines or jobs:</p><ol><li>On the left sidebar, select <strong>Search or go to</strong> and find your project. If you&rsquo;ve <a href=/user/interface_redesign/#turn-new-navigation-on-or-off>turned on the new navigation</a>, this field is on the top bar.</li><li>Select <strong>Settings</strong> > <strong>CI/CD</strong>.</li><li>Expand <strong>General pipelines</strong>.</li><li>Select an option from <strong>Minimum role required to cancel a pipeline or job</strong>.</li><li>Select <strong>Save changes</strong>.</li></ol><h2 id=specify-a-custom-cicd-configuration-file>Specify a custom CI/CD configuration file</h2><p>GitLab expects to find the CI/CD configuration file (<code>.gitlab-ci.yml</code>) in the project&rsquo;s root
directory. However, you can specify an alternate filename path, including locations outside the project.</p><p>To customize the path:</p><ol><li>On the left sidebar, select <strong>Search or go to</strong> and find your project. If you&rsquo;ve <a href=/user/interface_redesign/#turn-new-navigation-on-or-off>turned on the new navigation</a>, this field is on the top bar.</li><li>Select <strong>Settings</strong> > <strong>CI/CD</strong>.</li><li>Expand <strong>General pipelines</strong>.</li><li>In the <strong>CI/CD configuration file</strong> field, enter the filename. If the file:<ul><li>Is not in the root directory, include the path.</li><li>Is in a different project, include the group and project name.</li><li>Is on an external site, enter the full URL.</li></ul></li><li>Select <strong>Save changes</strong>.</li></ol><div class="alert alert-type-note gl-rounded-lg"><div class=alert-icon></div><div class=gl-min-w-0><p>You cannot use your project&rsquo;s <a href=/ci/pipeline_editor/>pipeline editor</a> to
edit CI/CD configuration files in other projects or on an external site.</p></div></div><h3 id=custom-cicd-configuration-file-examples>Custom CI/CD configuration file examples</h3><p>If the CI/CD configuration file is not in the root directory, the path must be relative to it.
For example:</p><ul><li><code>my/path/.gitlab-ci.yml</code></li><li><code>my/path/.my-custom-file.yml</code></li></ul><p>If the CI/CD configuration file is on an external site, the URL must end with <code>.yml</code>:</p><ul><li><code>http://example.com/generate/ci/config.yml</code></li></ul><p>If the CI/CD configuration file is in a different project:</p><ul><li>The file must exist on its default branch, or specify the branch as refname.</li><li>The path must be relative to the root directory in the other project.</li><li>The path must be followed by an <code>@</code> symbol and the full group and project path.</li></ul><p>For example:</p><ul><li><code>.gitlab-ci.yml@namespace/another-project</code></li><li><code>my/path/.my-custom-file.yml@namespace/subgroup/another-project</code></li><li><code>my/path/.my-custom-file.yml@namespace/subgroup1/subgroup2/another-project:refname</code></li></ul><p>If the configuration file is in a separate project, you can set more granular permissions. For example:</p><ul><li>Create a public project to host the configuration file.</li><li>Give write permissions on the project only to users who are allowed to edit the file.</li></ul><p>Then other users and projects can access the configuration file without being
able to edit it.</p><h2 id=choose-the-default-git-strategy>Choose the default Git strategy</h2><p>You can choose how your repository is fetched from GitLab when a job runs.</p><ol><li>On the left sidebar, select <strong>Search or go to</strong> and find your project. If you&rsquo;ve <a href=/user/interface_redesign/#turn-new-navigation-on-or-off>turned on the new navigation</a>, this field is on the top bar.</li><li>Select <strong>Settings</strong> > <strong>CI/CD</strong>.</li><li>Expand <strong>General pipelines</strong>.</li><li>Under <strong>Git strategy</strong>, select an option:<ul><li><code>git clone</code> is slower because it clones the repository from scratch
for every job. However, the local working copy is always pristine.</li><li><code>git fetch</code> is faster because it re-uses the local working copy (and falls
back to clone if it doesn&rsquo;t exist). This is recommended, especially for
<a href=/user/project/repository/monorepos/#use-git-fetch-in-cicd-operations>large repositories</a>.</li></ul></li></ol><p>The configured Git strategy can be overridden by the <a href=/ci/runners/configure_runners/#git-strategy><code>GIT_STRATEGY</code> variable</a>
in the <code>.gitlab-ci.yml</code> file.</p><h2 id=limit-the-number-of-changes-fetched-during-clone>Limit the number of changes fetched during clone</h2><p>You can limit the number of changes that GitLab CI/CD fetches when it clones
a repository.</p><ol><li>On the left sidebar, select <strong>Search or go to</strong> and find your project. If you&rsquo;ve <a href=/user/interface_redesign/#turn-new-navigation-on-or-off>turned on the new navigation</a>, this field is on the top bar.</li><li>Select <strong>Settings</strong> > <strong>CI/CD</strong>.</li><li>Expand <strong>General pipelines</strong>.</li><li>Under <strong>Git strategy</strong>, under <strong>Git shallow clone</strong>, enter a value.
The maximum value is <code>1000</code>. To disable shallow clone and make GitLab CI/CD
fetch all branches and tags each time, keep the value empty or set to <code>0</code>.</li></ol><p>Newly created projects have a default <code>git depth</code> value of <code>20</code>.</p><p>This value can be overridden by the <a href=/user/project/repository/monorepos/#use-shallow-clones-and-filters-in-cicd-processes><code>GIT_DEPTH</code> variable</a>
in the <code>.gitlab-ci.yml</code> file.</p><h2 id=set-a-limit-for-how-long-jobs-can-run>Set a limit for how long jobs can run</h2><p>You can define how long a job can run before it times out.</p><ol><li>On the left sidebar, select <strong>Search or go to</strong> and find your project. If you&rsquo;ve <a href=/user/interface_redesign/#turn-new-navigation-on-or-off>turned on the new navigation</a>, this field is on the top bar.</li><li>Select <strong>Settings</strong> > <strong>CI/CD</strong>.</li><li>Expand <strong>General pipelines</strong>.</li><li>In the <strong>Timeout</strong> field, enter the number of minutes, or a human-readable value like <code>2 hours</code>.
Must be 10 minutes or more, and less than one month. Default is 60 minutes.
Pending jobs are dropped after 24 hours of inactivity.</li></ol><p>Jobs that exceed the timeout are marked as failed.</p><p>When both a project timeout and a <a href=/ci/runners/configure_runners/#set-the-maximum-job-timeout>runner timeout</a>
are set, the lower value takes precedence.</p><p>Jobs without an output for one hour are dropped regardless of the timeout. To prevent this from happening, add a script to continuously output progress. For more information, see <a href=https://gitlab.com/gitlab-org/gitlab/-/issues/25359#workaround>issue 25359</a>.</p><h2 id=pipeline-badges>Pipeline badges</h2><p>You can use <a href=/user/project/badges/>pipeline badges</a> to indicate the pipeline status and
test coverage of your projects. These badges are determined by the latest successful pipeline.</p><h2 id=disable-gitlab-cicd-pipelines>Disable GitLab CI/CD pipelines</h2><p>GitLab CI/CD pipelines are enabled by default on all new projects. If you use an external CI/CD server like
Jenkins or Drone CI, you can disable GitLab CI/CD to avoid conflicts with the commits status API.</p><p>You can disable GitLab CI/CD per project or <a href=/administration/cicd/>for all new projects on an instance</a>.</p><p>When you disable GitLab CI/CD:</p><ul><li>The <strong>CI/CD</strong> item in the left sidebar is removed.</li><li>The <code>/pipelines</code> and <code>/jobs</code> pages are no longer available.</li><li>Existing jobs and pipelines are hidden, not removed.</li></ul><p>To disable GitLab CI/CD in your project:</p><ol><li>On the left sidebar, select <strong>Search or go to</strong> and find your project. If you&rsquo;ve <a href=/user/interface_redesign/#turn-new-navigation-on-or-off>turned on the new navigation</a>, this field is on the top bar.</li><li>Select <strong>Settings</strong> > <strong>General</strong>.</li><li>Expand <strong>Visibility, project features, permissions</strong>.</li><li>In the <strong>Repository</strong> section, turn off <strong>CI/CD</strong>.</li><li>Select <strong>Save changes</strong>.</li></ol><p>These changes do not apply to projects in an <a href=/user/project/integrations/#available-integrations>external integration</a>.</p><h2 id=automatic-pipeline-cleanup>Automatic pipeline cleanup</h2><div class="availability gl-pl-4 gl-mb-5"><ul class="gl-list-none gl-p-0 gl-m-0"><li><span class=gl-font-bold>Tier</span>: Free, Premium, Ultimate</li><li><span class=gl-font-bold>Offering</span>: GitLab.com, GitLab Self-Managed, GitLab Dedicated</li></ul></div><div class="collapsible-section gl-my-5"><button class="gl-align-middle gl-text-left gl-border-0 gl-pl-0" type=button aria-expanded=false aria-controls=collapsible-5 aria-label="Toggle section" data-toggle=collapse data-target=#collapsible-5>History<span class="gl-ml-2 icon"></span></button><div id=collapsible-5 class="collapsible-list collapse" aria-hidden=true><ul><li><a href=https://gitlab.com/gitlab-org/gitlab/-/issues/498969>Introduced</a> in GitLab 17.7 <a href=/administration/feature_flags/>with a flag</a> named <code>ci_delete_old_pipelines</code>. Disabled by default.</li><li><a href=https://gitlab.com/gitlab-org/gitlab/-/issues/503153>Feature flag <code>ci_delete_old_pipelines</code></a> removed in GitLab 17.9.</li></ul></div></div><p>Users with the Owner role can set a CI/CD pipeline expiry time to help manage pipeline storage and improve system performance.
The system automatically deletes pipelines that were created before the configured value.</p><ol><li>On the left sidebar, select <strong>Search or go to</strong> and find your project. If you&rsquo;ve <a href=/user/interface_redesign/#turn-new-navigation-on-or-off>turned on the new navigation</a>, this field is on the top bar.</li><li>Select <strong>Settings</strong> > <strong>CI/CD</strong>.</li><li>Expand <strong>General pipelines</strong>.</li><li>In the <strong>Automatic pipeline cleanup</strong> field, enter the number of seconds, or a human-readable value like <code>2 weeks</code>.
Must be one day or more, and less than one year. Leave empty to never delete pipelines automatically.
Empty by default.</li><li>Select <strong>Save changes</strong>.</li></ol><p>For GitLab Self-Managed, administrators can increase the upper limit for
<a href=/administration/instance_limits/#maximum-config-value-for-automatic-pipeline-cleanup>automatic pipeline cleanup</a>.</p></div><div data-vue-app=back-to-top-button></div></div><div class="feedback gl-min-h-8" data-ga-section=feedback data-elastic-exclude><div data-component=docs-feedback></div></div></div><aside class=sidebar-right><div data-ga-section=toc data-vue-app=toc></div></aside></div></main><footer data-ga-section=footer><section data-ga-section=footer><div id=footer class="footer-section container gl-grid gl-grid-cols-2 gl-grid-rows-3 gl-grid-rows-auto gl-gap-8 lg:gl-grid-cols-5 lg:gl-grid-rows-1 lg:gl-justify-items-center gl-px-8 gl-py-8 lg:gl-py-10"><div class="gl-col-span-2 lg:gl-col-span-1 gl-row-start-1"><div class="docs-title gl-flex gl-items-center"><a href=/><img src=/gitlab-logo-footer.svg alt="GitLab Docs logo" class=logo width=176 height=24></a></div><ul class="docs-social gl-list-none gl-flex"><li><a href=https://www.facebook.com/gitlab class=facebook><span class=gl-sr-only>Facebook</span></a></li><li><a href=https://www.linkedin.com/company/gitlab-com class=linkedin><span class=gl-sr-only>LinkedIn</span></a></li><li><a href=https://twitter.com/gitlab class=twitter><span class=gl-sr-only>Twitter</span></a></li><li><a href=https://www.youtube.com/channel/UCnMGQ8QHMAnVIsI3xJrihhg class=youtube><span class=gl-sr-only>YouTube</span></a></li></ul><a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="license noopener noreferrer" class=gl-mt-0><img src=/by-sa.svg alt="Creative Commons License" width=80 height=15></a></div><div class="gl-col-span-1 gl-row-start-2 lg:gl-row-start-1"><div class="footer-section-title gl-heading-3">Company</div><ul class="gl-list-none gl-p-0"><li><a href=https://about.gitlab.com/company/>About GitLab</a></li><li><a href=https://about.gitlab.com/pricing/>View pricing</a></li><li><a href=https://about.gitlab.com/free-trial/>Try GitLab for free</a></li></ul></div><div class="gl-col-span-1 gl-row-start-2 lg:gl-row-start-1"><div class="footer-section-title gl-heading-3">Feedback</div><ul class="gl-list-none gl-p-0"><li><a href=https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/ci/pipelines/settings.md>View page source</a></li><li><a href=https://gitlab.com/-/ide/project/gitlab-org/gitlab/edit/master/-/doc/ci/pipelines/settings.md>Edit in web IDE</a></li><li><a href=https://about.gitlab.com/community/contribute/>Contribute to GitLab</a></li><li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Documentation">Suggest updates</a></li></ul></div><div class="gl-col-span-1 gl-row-start-3 lg:gl-row-start-1"><div class="footer-section-title gl-heading-3">Help & Community</div><ul class="gl-list-none gl-p-0"><li><a href=https://university.gitlab.com/pages/certifications>Get certified</a></li><li><a href=https://about.gitlab.com/support/>Get support</a></li><li><a href="https://forum.gitlab.com/new-topic?title=topic%20title&amp;body=topic%20body&amp;tags=docs-feedback">Post on the GitLab forum</a></li></ul></div><div class="gl-col-span-1 gl-row-start-3 lg:gl-row-start-1"><div class="footer-section-title gl-heading-3">Resources</div><ul class="gl-list-none gl-p-0"><li><a href=https://about.gitlab.com/terms/>Terms</a></li><li><a href=https://about.gitlab.com/privacy/>Privacy statement</a></li><li><a href=/legal/use_generative_ai/>Use of generative AI</a></li><li><a href=/legal/licensing_policy/>Acceptable use of user licenses</a></li><li><button id=ot-sdk-btn class=ot-sdk-show-settings></button></li></ul></div></div></section></footer><script type=module src=/vite/main.js></script><script async>(function(e,t,n,s,o){e[s]=e[s]||[],e[s].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],i=t.createElement(n),r=s!="dataLayer"?"&l="+s:"";i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+o+r,a.parentNode.insertBefore(i,a)})(window,document,"script","dataLayer","GTM-NJXWQL")</script><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJXWQL" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><script async>(function(){var e,t=!1;function n(){t===!1&&(t=!0,Munchkin.init("194-VVC-221",{useBeaconAPI:!0}))}e=document.createElement("script"),e.type="text/javascript",e.async=!0,e.src="https://munchkin.marketo.net/munchkin.js",e.onreadystatechange=function(){(this.readyState=="complete"||this.readyState=="loaded")&&n()},e.onload=n,document.getElementsByTagName("head")[0].appendChild(e)})()</script><script async src=https://cdn.bizible.com/scripts/bizible.js></script><script async>_linkedin_partner_id="30694",window._linkedin_data_partner_ids=window._linkedin_data_partner_ids||[],window._linkedin_data_partner_ids.push(_linkedin_partner_id),function(){var t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://snap.licdn.com/li.lms-analytics/insight.min.js",t.parentNode.insertBefore(e,t)}()</script><noscript><img height=1 width=1 style=display:none alt src="https://dc.ads.linkedin.com/collect/?pid=30694&fmt=gif"></noscript></body></html>