<!doctype html><html lang=en-us dir=ltr><head><script src=https://cdn.cookielaw.org/consent/7f944245-c5cd-4eed-a90e-dd955adfdd08/OtAutoBlock.js></script><script src=https://cdn.cookielaw.org/scripttemplates/otSDKStub.js data-domain-script=7f944245-c5cd-4eed-a90e-dd955adfdd08></script><script type=text/javascript>function OptanonWrapper(){}</script><script>const callback=(e)=>{for(const t of e)t.type==="childList"&&t.addedNodes.forEach(e=>{e.nodeName==="IMG"&&document.querySelectorAll('img:not([src^="http"]):not([data-ot-ignore])').forEach(e=>{e.setAttribute("data-ot-ignore","")})})},config={attributes:!0,childList:!0,subtree:!0,attributeFilter:["src"]},observer=new MutationObserver(callback);observer.observe(document.documentElement,config)</script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","GTM-NJXWQL"),gtag("consent","default",{analytics_storage:"granted",ad_storage:"granted",functionality_storage:"granted",wait_for_update:500}),gtag("consent","default",{analytics_storage:"denied",ad_storage:"denied",functionality_storage:"denied",region:["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","IS","LI","NO","GB","PE","RU"],wait_for_update:500}),window.geofeed=e=>{dataLayer.push({event:"OneTrustCountryLoad",oneTrustCountryId:e.country.toString()})};const json=document.createElement("script");json.setAttribute("src","https://geolocation.onetrust.com/cookieconsentpub/v1/geo/location/geofeed"),document.head.appendChild(json)</script><meta charset=utf-8><meta name=viewport content="width=device-width"><title>Pipeline efficiency | GitLab Docs</title><link rel=icon href=/favicon.ico sizes=any><link rel=icon href=/favicon.svg type=image/svg+xml><link rel=apple-touch-icon href=/apple-touch-icon.png><link rel=manifest href=/manifests/manifest.webmanifest><meta name=theme-color content="#FC6D26"><link rel=canonical href=https://docs.gitlab.com/ci/pipelines/pipeline_efficiency/><meta name=description content="GitLab product documentation."><script type=application/ld+json>{"@context":"https://schema.org","@type":"WebSite","name":"GitLab Docs","url":"https://docs.gitlab.com/"}</script><link rel=preload href=/gitlab_ui/fonts/GitLabSans.woff2 type=font/woff2 as=font crossorigin><link rel=prefetch href=/gitlab_ui/fonts/GitLabSans-Italic.woff2 crossorigin><link rel=prefetch href=/gitlab_ui/fonts/GitLabMono.woff2 crossorigin><link rel=stylesheet href=/gitlab_ui/ui/index.css><link rel=stylesheet href=/vite/main.css><link rel=stylesheet href=/css/syntax-dark.min.css id=syntax-dark-theme><link rel=stylesheet href=/css/syntax-light.min.css id=syntax-light-theme><script>(function(){const p="gitlab-docs-theme",g="gitlab-docs-layout",e={LIGHT:"light",DARK:"dark",AUTO:"auto"},i={FIXED:"fixed",FLUID:"fluid"},d="light",f="fixed";let r=!1;const t=localStorage?.getItem(p),m=localStorage?.getItem(g),l=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?e.DARK:e.LIGHT;function h(){return t&&(t===e.LIGHT||t===e.DARK)?t:(t===e.AUTO&&(r=!0),l||d)}function u(){return m===i.FLUID?i.FLUID:f}const s=h(),c=u(),n=document.documentElement;n.classList.remove("gl-dark","gl-light"),n.classList.add(s===e.DARK?"gl-dark":"gl-light"),c===i.FLUID&&(n.classList.add("fluid"),n.classList.remove("fixed"));const a=document.getElementById("syntax-dark-theme"),o=document.getElementById("syntax-light-theme");a&&o&&(s===e.DARK?(a.disabled=!1,o.disabled=!0):(a.disabled=!0,o.disabled=!1)),window.__initialTheme=r?e.AUTO:s,window.__initialLayout=c})()</script><meta name=gitlab_docs_base_url content="/"><meta name=gitlab_docs_page_owner data-stage=Verify data-group="Pipeline Execution"><meta class=elastic name=gitlab_docs_version content="18.6"><meta class=elastic name=gitlab_docs_section content="use_gitlab"><meta class=elastic name=gitlab_docs_breadcrumbs content="Use GitLab › Use CI/CD to build your application › Pipelines"><script>window.pageMetadata={trail:[{path:"user/",title:"Use GitLab"},{path:"topics/build_your_application/",title:"Use CI/CD to build your application"},{path:"ci/pipelines/",title:"Pipelines"},{path:"ci/pipelines/pipeline_efficiency/",title:"Pipeline efficiency"}]}</script><meta name=gitlab_docs_legacy_path content="/ee/ci/pipelines/pipeline_efficiency.html"><meta name=gitlab_docs_hugo_launch_version content="17.9"><script>const ELASTIC_CLOUD_ID="gitlab-docs-website:dXMtY2VudHJhbDEuZ2NwLmNsb3VkLmVzLmlvJDQwZTQyYTQzMTJiZjQyMzNiMzBiZTg0MTU5YjlkNmE1JGMxODg4Y2U5OTY0YzQzZjc5ZjQ1YTk5NDZmMjI0ODg0",ELASTIC_KEY="cDFpLWJaSUJXVHBqWWI4VGZKN3M6eENBSjl4WDRSRnlCUW94ajRQazhLQQ==",ELASTIC_INDEX="search-gitlab-docs-hugo"</script><script type=module src=/vite/elastic_search.js></script><script type=module src=/vite/history.js></script><script>const FS_IDENTIFIER="AIzaSyCLdi3jHHjkmLji9D8uj_RNPMHcdrYoIW4",RECAPTCHA_PUBLIC_KEY="6Le4R3UrAAAAALsIlK_siq0_UhPD-0rD-ImF1gfO"</script><meta name=google-site-verification content="AcGSBNaKDWnLgcYotlVibGy6STm2Y6_KJSaRxrA90xY"><meta name=google-site-verification content="6eFQOFLxYAer08ROqc3I-SAi44F9NmvH7PrUUBR3oCI"><meta name=google-site-verification content="xAUTWp3CDg-tU1LVVwsM9OrVhLR7L3SmiyKzkOuPNos"><meta name=google-site-verification content="F0zzwaMpiyWFcPQ1Lqu18qN3EnuQsqFXbySl_29yvHs"><meta name=google-site-verification content="nwo1bVaU0t9TZxZyM-aOI6-CofaH9GRL-uBPbdREWgc"><meta name=google-site-verification content="rWoHrtHEmIX0t28oOb1ZEDMYZb_EZA6rr6ZOl5otEPI"><meta name=google-site-verification content="fSxr8-uslxcuFL0N-oECp3Tm0RPNEGX97wbdayKOEL8"><meta name=google-site-verification content="ISxyLVnZqU8oY3jwrK7EO9o-2DOTvLJwPse7bZz6yhs"><meta name=google-site-verification content="x1WspIvz3ZHqS0gezfX_P-qiRDOeP2Oyrd68zrU2ErI"><meta name=google-site-verification content="DfXB2Za52GT3zs_vuLIAL4Mi3M3K4qxXcg7MAs0CUqo"><meta name=google-site-verification content="BCEBC2LC7A1NzO9Com1oBrWK88tV_QXfUL0i9mwXPL0"><meta name=google-site-verification content="a2lNcHMorfS43aoISjZt5_BBPo-H1UaTKMQdBgZO9iY"><meta name=google-site-verification content="0s16pP9MelY6wDHRf-izXb5pwLU01IogP-Uc_e8f3GU"><meta name=google-site-verification content="H474RNof35Xp8fLg02fZbg9Dzxdtfch6vtcjzpmUraU"><meta name=google-site-verification content="E0FlhpgBGeE7d1pQ6amdcIWPMDLDeu15-HLQVoDTguE"><meta name=google-site-verification content="opQd7_rXtPy-pX5CO_XZiztzeQEsXnB3j6Y1_dZAizA"><meta name=google-site-verification content="06Kq4AoXdmBOjOAkbPvnYGtSxnn4Q9QBqEO55PLlw5c"><meta name=google-site-verification content="djBBokRFSWV_VRlSE51V5TZSPzMC6hml5l-Sb22WglE"><meta name=google-site-verification content="UOW6nOsvbyMeIySuamzbws4kNC_WqehamWfoxxtKjZ8"><meta name=google-site-verification content="hXU1Gsdba74DUbvbdUHRl9o0cQeiwXIhAdIllOG6p8E"><meta name=google-site-verification content="YFeHIAPk9lE76ubVMeq4P0sQVnzo2-a4k1oU_bPY8yE"><meta name=google-site-verification content="h8ICI4eDkvXmYaGDuLTLoWuXnLn-KUkChqYB-roMRsw"><meta name=google-site-verification content="9QW7feFNlCpMLPm7vAWEU-v14vdzb0Bb3RAk-8e_a18"><meta name=google-site-verification content="26kXLBOjaYRb2UwzWTDl1I1nzA2NxMunhp7SUtxGV6E"><meta name=google-site-verification content="jr3C8t6vKGPyN9GV3esdHY_xGYyQaUNznIl-Un2RObA"><meta name=google-site-verification content="WdlBpRU0ec1ieKqrTY_772OhG23FY45VQ4Lv9DyLJ_Y"><meta name=google-site-verification content="n9i6B9q4Xjr_etK2nQGZH1msoo7vIv9SXV8SQLOUA7c"><meta name=zd-site-verification content="ony3w7hk1vs6tfyrc51mld"><meta name=zd-site-verification content="gtuq65qdzt6n31viazi6hj"></head><body data-elastic-exclude><nav data-ga-section=header data-elastic-exclude><div class="header-wrapper gl-w-full gl-fixed gl-z-4"><div class=header><div class="header-top gl-flex gl-items-center"><a href=#skipTarget class="gl-sr-only skip-link">Skip to main content</a>
<a class=navbar-logo href=/><span class=gl-sr-only>Go to GitLab Docs homepage</span></a><div class="mobile-header gl-w-full gl-text-base"><div class=mobile-header-overlay></div><div class="header-right collapse gl-z-4 gl-border-t lg:gl-border-0"><div class="search-wrapper lg:gl-ml-4 lg:gl-grow"><div class="js-elastic-search-form gl-spinner-container"><span role=status aria-label=Loading class="gl-ml-3 gl-align-text-bottom! gl-spinner gl-spinner gl-spinner-sm"></span></div></div><div class="gl-flex gl-flex-col gl-gap-3 gl-mt-5 lg:gl-mt-0 lg:gl-flex-row lg:gl-items-center gl-ml-auto"><a class="whats-new gl-button btn-default btn-default-tertiary gl-hidden lg:gl-block" href=https://about.gitlab.com/releases/categories/releases/ target=_blank rel="noopener noreferrer">What's new?</a><div data-vue-app=versions-menu></div><div data-vue-app=appearance-toggle class="gl-hidden lg:gl-block"></div><div class="gl-flex gl-justify-evenly lg:gl-justify-normal gl-items-center gl-gap-5"><a class="whats-new gl-button btn-default btn-default-tertiary gl-w-full lg:gl-hidden hover:gl-no-underline" href=https://about.gitlab.com/releases/categories/releases/ target=_blank rel="noopener noreferrer">What's new?</a>
<a class="free-trial-btn cta-button gl-button btn-confirm gl-w-full hover:gl-no-underline" href="https://gitlab.com/-/trial_registrations/new?glm_source=docs.gitlab.com&amp;amp;glm_content=navigation-cta-docs" target=_blank rel="noopener noreferrer" role=button>Get free trial</a></div></div></div></div><button class="navbar-toggle gl-button btn-default lg:gl-hidden" data-toggle=collapse data-target=.header-right>
<span class=navbar-toggle-icon></span>
<span class=gl-sr-only>Toggle menu</span></button></div><div class="header-bottom gl-border-t lg:gl-border-b"><ul class="subheader-menu gl-hidden lg:gl-flex gl-list-none gl-text-base gl-space-x-5 gl-py-4 gl-pl-0 gl-mb-0"><li><a href=/user/ class=active>Use GitLab</a></li><li><a href=/user/gitlab_duo/>GitLab Duo</a></li><li><a href=/api/>Extend</a></li><li><a href=/install/>Install</a></li><li><a href=/administration/>Administer</a></li><li><a href=/subscriptions/>Subscribe</a></li><li><a href=/development/>Contribute</a></li><li><a href=/solutions/>Solutions</a></li></ul></div></div></div></nav><main data-ga-section=content-body><div id=js-version-banner></div><div class="template-single gl-flex gl-h-full"><div class=side-nav data-ga-section=side-nav data-vue-app=sidebar-menu></div><div data-pagefind-body class=main-content><div class=docs-content><div class="gl-flex gl-h-5 gl-items-center gl-my-6"><div data-vue-app=open-sidebar></div><div data-vue-app=breadcrumb-nav></div></div><hr class="gl-border-t gl-px-5 lg:gl-hidden"><div class="gl-pt-4 gl-mt-4 lg:gl-pt-0 lg:gl-mt-0 lg:gl-border-t-0"><h1 id=skipTarget class=gl-mb-6>Pipeline efficiency</h1></div><div data-elastic-include><div class="availability gl-pl-4 gl-mb-5"><ul class="gl-list-none gl-p-0 gl-m-0"><li><span class=gl-font-bold>Tier</span>: Free, Premium, Ultimate</li><li><span class=gl-font-bold>Offering</span>: GitLab.com, GitLab Self-Managed, GitLab Dedicated</li></ul></div><p><a href=/ci/pipelines/>CI/CD Pipelines</a> are the fundamental building blocks for <a href=/ci/>GitLab CI/CD</a>.
Making pipelines more efficient helps you save developer time, which:</p><ul><li>Speeds up your DevOps processes</li><li>Reduces costs</li><li>Shortens the development feedback loop</li></ul><p>It&rsquo;s common that new teams or projects start with slow and inefficient pipelines,
and improve their configuration over time through trial and error. A better process is
to use pipeline features that improve efficiency right away, and get a faster software
development lifecycle earlier.</p><p>First ensure you are familiar with <a href=/ci/>GitLab CI/CD fundamentals</a>
and understand the <a href=/ci/quick_start/>quick start guide</a>.</p><h2 id=identify-bottlenecks-and-common-failures>Identify bottlenecks and common failures</h2><p>The easiest indicators to check for inefficient pipelines are the runtimes of the jobs,
stages, and the total runtime of the pipeline itself. The total pipeline duration is
heavily influenced by the:</p><ul><li><a href=/user/project/repository/monorepos/>Size of the repository</a></li><li>Total number of stages and jobs.</li><li>Dependencies between jobs.</li><li>The <a href=/ci/pipelines/pipeline_efficiency/#needs-dependency-visualization>&ldquo;critical path&rdquo;</a>, which represents
the minimum and maximum pipeline duration.</li></ul><p>Additional points to pay attention relate to <a href=/ci/runners/>GitLab Runners</a>:</p><ul><li>Availability of the runners and the resources they are provisioned with.</li><li>Build dependencies, their installation time, and storage space requirements.</li><li><a href=/ci/pipelines/pipeline_efficiency/#docker-images>Container image size</a>.</li><li>Network latency and slow connections.</li></ul><p>Pipelines frequently failing unnecessarily also causes slowdowns in the development
lifecycle. You should look for problematic patterns with failed jobs:</p><ul><li>Flaky unit tests which fail randomly, or produce unreliable test results.</li><li>Test coverage drops and code quality correlated to that behavior.</li><li>Failures that can be safely ignored, but that halt the pipeline instead.</li><li>Tests that fail at the end of a long pipeline, but could be in an earlier stage,
causing delayed feedback.</li></ul><h2 id=pipeline-analysis>Pipeline analysis</h2><p>Analyze the performance of your pipeline to find ways to improve efficiency. Analysis
can help identify possible blockers in the CI/CD infrastructure. This includes analyzing:</p><ul><li>Job workloads.</li><li>Bottlenecks in the execution times.</li><li>The overall pipeline architecture.</li></ul><p>It&rsquo;s important to understand and document the pipeline workflows, and discuss possible
actions and changes. Refactoring pipelines may need careful interaction between teams
in the DevSecOps lifecycle.</p><p>Pipeline analysis can help identify issues with cost efficiency. For example, <a href=/ci/runners/>runners</a>
hosted with a paid cloud service may be provisioned with:</p><ul><li>More resources than needed for CI/CD pipelines, wasting money.</li><li>Not enough resources, causing slow runtimes and wasting time.</li></ul><h3 id=pipeline-insights>Pipeline Insights</h3><p>The <a href=/ci/pipelines/#pipeline-success-and-duration-charts>Pipeline success and duration charts</a>
give information about pipeline runtime and failed job counts.</p><p>Tests like <a href=/ci/testing/unit_test_reports/>unit tests</a>, integration tests, end-to-end tests,
<a href=/ci/testing/code_quality/>code quality</a> tests, and others
ensure that problems are automatically found by the CI/CD pipeline. There could be many
pipeline stages involved causing long runtimes.</p><p>You can improve runtimes by running jobs that test different things in parallel, in
the same stage, reducing overall runtime. The downside is that you need more runners
running simultaneously to support the parallel jobs.</p><h3 id=needs-dependency-visualization><code>needs</code> dependency visualization</h3><p>Viewing the <code>needs</code> dependencies in the <a href=/ci/pipelines/#group-jobs-by-stage-or-needs-configuration>full pipeline graph</a>
can help analyze the critical path in the pipeline and understand possible blockers.</p><h3 id=pipeline-monitoring>Pipeline Monitoring</h3><p>Global pipeline health is a key indicator to monitor along with job and pipeline duration.
<a href=/ci/pipelines/#pipeline-success-and-duration-charts>CI/CD analytics</a> give a visual
representation of pipeline health.</p><p>Instance administrators have access to additional <a href=/administration/monitoring/>performance metrics and self-monitoring</a>.</p><p>You can fetch specific pipeline health metrics from the <a href=/api/rest/>API</a>.
External monitoring tools can poll the API and verify pipeline health or collect
metrics for long term SLA analytics.</p><p>For example, the <a href=https://github.com/mvisonneau/gitlab-ci-pipelines-exporter>GitLab CI Pipelines Exporter</a>
for Prometheus fetches metrics from the API and pipeline events. It can check branches in projects automatically
and get the pipeline status and duration. In combination with a Grafana dashboard,
this helps build an actionable view for your operations team. Metric graphs can also
be embedded into incidents making problem resolving easier. Additionally, it can also export metrics about jobs and environments.</p><p>If you use the GitLab CI Pipelines Exporter, you should start with the <a href=https://github.com/mvisonneau/gitlab-ci-pipelines-exporter/blob/main/docs/configuration_syntax.md>example configuration</a>.</p><p><a href=/ci/pipelines/img/ci_efficiency_pipeline_health_grafana_dashboard_v13_7.png target=_blank rel="noopener noreferrer"><img alt="Grafana Dashboard showing CI run statuses and historical statistics including frequency and fail rate." height=1024 src=/ci/pipelines/img/ci_efficiency_pipeline_health_grafana_dashboard_v13_7.png width=1920></a></p><p>Alternatively, you can use a monitoring tool that can execute scripts, like
<a href=https://gitlab.com/6uellerBpanda/check_gitlab><code>check_gitlab</code></a> for example.</p><h4 id=runner-monitoring>Runner monitoring</h4><p>You can also <a href=https://docs.gitlab.com/runner/monitoring/>monitor CI runners</a> on
their host systems, or in clusters like Kubernetes. This includes checking:</p><ul><li>Disk and disk IO</li><li>CPU usage</li><li>Memory</li><li>Runner process resources</li></ul><p>The <a href=https://prometheus.io/docs/guides/node-exporter/>Prometheus Node Exporter</a>
can monitor runners on Linux hosts, and <a href=https://github.com/kubernetes/kube-state-metrics><code>kube-state-metrics</code></a>
runs in a Kubernetes cluster.</p><p>You can also test <a href=https://docs.gitlab.com/runner/configuration/autoscale.html>GitLab Runner auto-scaling</a>
with cloud providers, and define offline times to reduce costs.</p><h4 id=dashboards-and-incident-management>Dashboards and incident management</h4><p>Use your existing monitoring tools and dashboards to integrate CI/CD pipeline monitoring,
or build them from scratch. Ensure that the runtime data is actionable and useful
in teams, and operations/SREs are able to identify problems early enough.
<a href=/operations/incident_management/>Incident management</a> can help here too,
with embedded metric charts and all valuable details to analyze the problem.</p><h3 id=storage-usage>Storage usage</h3><p>Review the storage use of the following to help analyze costs and efficiency:</p><ul><li><a href=/ci/jobs/job_artifacts/>Job artifacts</a> and their <a href=/ci/yaml/#artifactsexpire_in><code>expire_in</code></a>
configuration. If kept for too long, storage usage grows and could slow pipelines down.</li><li><a href=/user/packages/container_registry/>Container registry</a> usage.</li><li><a href=/user/packages/package_registry/>Package registry</a> usage.</li></ul><h2 id=pipeline-configuration>Pipeline configuration</h2><p>Make careful choices when configuring pipelines to speed up pipelines and reduce
resource usage. This includes making use of GitLab CI/CD&rsquo;s built-in features that
make pipelines run faster and more efficiently.</p><h3 id=reduce-how-often-jobs-run>Reduce how often jobs run</h3><p>Try to find which jobs don&rsquo;t need to run in all situations, and use pipeline configuration
to stop them from running:</p><ul><li>Use the <a href=/ci/yaml/#interruptible><code>interruptible</code></a> keyword to stop old pipelines
when they are superseded by a newer pipeline.</li><li>Use <a href=/ci/yaml/#rules><code>rules</code></a> to skip tests that aren&rsquo;t needed. For example,
skip backend tests when only the frontend code is changed.</li><li>Run non-essential <a href=/ci/pipelines/schedules/>scheduled pipelines</a> less frequently.</li><li>Distribute <a href=/ci/pipelines/schedules/#distribute-pipeline-schedules-to-prevent-system-load><code>cron</code> schedules</a> evenly across time.</li></ul><h3 id=fail-fast>Fail fast</h3><p>Ensure that errors are detected early in the CI/CD pipeline. A job that takes a very long
time to complete keeps a pipeline from returning a failed status until the job completes.</p><p>Design pipelines so that jobs that can <a href=/ci/testing/fail_fast_testing/>fail fast</a>
run earlier. For example, add an early stage and move the syntax, style linting,
Git commit message verification, and similar jobs in there.</p><p>Decide if it&rsquo;s important for long jobs to run early, before fast feedback from
faster jobs. The initial failures may make it clear that the rest of the pipeline
shouldn&rsquo;t run, saving pipeline resources.</p><h3 id=needs-keyword><code>needs</code> keyword</h3><p>In a basic configuration, jobs always wait for all other jobs in earlier stages to complete
before running. This is the simplest configuration, but it&rsquo;s also the slowest in most
cases. <a href=/ci/yaml/needs/>Pipelines with the <code>needs</code> keyword</a> and
<a href=/ci/pipelines/downstream_pipelines/#parent-child-pipelines>parent/child pipelines</a> are more flexible and can
be more efficient, but can also make pipelines harder to understand and analyze.</p><h3 id=caching>Caching</h3><p>Another optimization method is to <a href=/ci/caching/>cache</a> dependencies. If your
dependencies change rarely, like <a href=/ci/caching/#cache-nodejs-dependencies>NodeJS <code>/node_modules</code></a>,
caching can make pipeline execution much faster.</p><p>You can use <a href=/ci/yaml/#cachewhen><code>cache:when</code></a> to cache downloaded dependencies
even when a job fails.</p><h3 id=docker-images>Docker Images</h3><p>Downloading and initializing Docker images can be a large part of the overall runtime
of jobs.</p><p>If a Docker image is slowing down job execution, analyze the base image size and network
connection to the registry. If GitLab is running in the cloud, look for a cloud container
registry offered by the vendor. In addition to that, you can make use of the
<a href=/user/packages/container_registry/>GitLab container registry</a> which can be accessed
by the GitLab instance faster than other registries.</p><h4 id=optimize-docker-images>Optimize Docker images</h4><p>Build optimized Docker images because large Docker images use up a lot of space and
take a long time to download with slower connection speeds. If possible, avoid using
one large image for all jobs. Use multiple smaller images, each for a specific task,
that download and run faster.</p><p>Try to use custom Docker images with the software pre-installed. It&rsquo;s usually much
faster to download a larger pre-configured image than to use a common image and install
software on it each time. The Docker <a href=https://docs.docker.com/develop/develop-images/dockerfile_best-practices/>Best practices for writing Dockerfiles article</a>
has more information about building efficient Docker images.</p><p>Methods to reduce Docker image size:</p><ul><li>Use a small base image, for example <code>debian-slim</code>.</li><li>Do not install convenience tools such as vim or curl if they aren&rsquo;t strictly needed.</li><li>Create a dedicated development image.</li><li>Disable man pages and documentation installed by packages to save space.</li><li>Reduce the <code>RUN</code> layers and combine software installation steps.</li><li>Use <a href=https://blog.alexellis.io/mutli-stage-docker-builds/>multi-stage builds</a>
to merge multiple Dockerfiles that use the builder pattern into one Dockerfile, which can reduce image size.</li><li>If using <code>apt</code>, add <code>--no-install-recommends</code> to avoid unnecessary packages.</li><li>Clean up caches and files that are no longer needed at the end. For example
<code>rm -rf /var/lib/apt/lists/*</code> for Debian and Ubuntu, or <code>yum clean all</code> for RHEL and CentOS.</li><li>Use tools like <a href=https://github.com/wagoodman/dive>dive</a> or <a href=https://github.com/docker-slim/docker-slim>DockerSlim</a>
to analyze and shrink images.</li></ul><p>To simplify Docker image management, you can create a dedicated group for managing
<a href=/ci/docker/>Docker images</a> and test, build and publish them with CI/CD pipelines.</p><h2 id=test-document-and-learn>Test, document, and learn</h2><p>Improving pipelines is an iterative process. Make small changes, monitor the effect,
then iterate again. Many small improvements can add up to a large increase in pipeline
efficiency.</p><p>It can help to document the pipeline design and architecture. You can do this with
<a href=/user/markdown/#mermaid>Mermaid charts in Markdown</a> directly in the GitLab
repository.</p><p>Document CI/CD pipeline problems and incidents in issues, including research done
and solutions found. This helps onboarding new team members, and also helps
identify recurring problems with CI pipeline efficiency.</p><h3 id=related-topics>Related topics</h3><ul><li><a href="https://docs.google.com/presentation/d/1ONwIIzRB7GWX-WOSziIIv8fz1ngqv77HO1yVfRooOHM/edit?usp=sharing">CI Monitoring Webcast Slides</a></li><li>GitLab.com Monitoring Handbook</li><li><a href=https://aws.amazon.com/builders-library/building-dashboards-for-operational-visibility/>Buildings dashboards for operational visibility</a></li></ul></div><div data-vue-app=back-to-top-button></div></div><div class="feedback gl-min-h-8" data-ga-section=feedback data-elastic-exclude><div data-component=docs-feedback></div></div></div><aside class=sidebar-right><div data-ga-section=toc data-vue-app=toc></div></aside></div></main><footer data-ga-section=footer><section data-ga-section=footer><div id=footer class="footer-section container gl-grid gl-grid-cols-2 gl-grid-rows-3 gl-grid-rows-auto gl-gap-8 lg:gl-grid-cols-5 lg:gl-grid-rows-1 lg:gl-justify-items-center gl-px-8 gl-py-8 lg:gl-py-10"><div class="gl-col-span-2 lg:gl-col-span-1 gl-row-start-1"><div class="docs-title gl-flex gl-items-center"><a href=/><img src=/gitlab-logo-footer.svg alt="GitLab Docs logo" class=logo width=176 height=24></a></div><ul class="docs-social gl-list-none gl-flex"><li><a href=https://www.facebook.com/gitlab class=facebook><span class=gl-sr-only>Facebook</span></a></li><li><a href=https://www.linkedin.com/company/gitlab-com class=linkedin><span class=gl-sr-only>LinkedIn</span></a></li><li><a href=https://twitter.com/gitlab class=twitter><span class=gl-sr-only>Twitter</span></a></li><li><a href=https://www.youtube.com/channel/UCnMGQ8QHMAnVIsI3xJrihhg class=youtube><span class=gl-sr-only>YouTube</span></a></li></ul><a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="license noopener noreferrer" class=gl-mt-0><img src=/by-sa.svg alt="Creative Commons License" width=80 height=15></a></div><div class="gl-col-span-1 gl-row-start-2 lg:gl-row-start-1"><div class="footer-section-title gl-heading-3">Company</div><ul class="gl-list-none gl-p-0"><li><a href=https://about.gitlab.com/company/>About GitLab</a></li><li><a href=https://about.gitlab.com/pricing/>View pricing</a></li><li><a href=https://about.gitlab.com/free-trial/>Try GitLab for free</a></li></ul></div><div class="gl-col-span-1 gl-row-start-2 lg:gl-row-start-1"><div class="footer-section-title gl-heading-3">Feedback</div><ul class="gl-list-none gl-p-0"><li><a href=https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/ci/pipelines/pipeline_efficiency.md>View page source</a></li><li><a href=https://gitlab.com/-/ide/project/gitlab-org/gitlab/edit/master/-/doc/ci/pipelines/pipeline_efficiency.md>Edit in web IDE</a></li><li><a href=https://about.gitlab.com/community/contribute/>Contribute to GitLab</a></li><li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Documentation">Suggest updates</a></li></ul></div><div class="gl-col-span-1 gl-row-start-3 lg:gl-row-start-1"><div class="footer-section-title gl-heading-3">Help & Community</div><ul class="gl-list-none gl-p-0"><li><a href=https://university.gitlab.com/pages/certifications>Get certified</a></li><li><a href=https://about.gitlab.com/support/>Get support</a></li><li><a href="https://forum.gitlab.com/new-topic?title=topic%20title&amp;body=topic%20body&amp;tags=docs-feedback">Post on the GitLab forum</a></li></ul></div><div class="gl-col-span-1 gl-row-start-3 lg:gl-row-start-1"><div class="footer-section-title gl-heading-3">Resources</div><ul class="gl-list-none gl-p-0"><li><a href=https://about.gitlab.com/terms/>Terms</a></li><li><a href=https://about.gitlab.com/privacy/>Privacy statement</a></li><li><a href=/legal/use_generative_ai/>Use of generative AI</a></li><li><a href=/legal/licensing_policy/>Acceptable use of user licenses</a></li><li><button id=ot-sdk-btn class=ot-sdk-show-settings></button></li></ul></div></div></section></footer><script type=module src=/vite/main.js></script><script async>(function(e,t,n,s,o){e[s]=e[s]||[],e[s].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],i=t.createElement(n),r=s!="dataLayer"?"&l="+s:"";i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+o+r,a.parentNode.insertBefore(i,a)})(window,document,"script","dataLayer","GTM-NJXWQL")</script><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJXWQL" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><script async>(function(){var e,t=!1;function n(){t===!1&&(t=!0,Munchkin.init("194-VVC-221",{useBeaconAPI:!0}))}e=document.createElement("script"),e.type="text/javascript",e.async=!0,e.src="https://munchkin.marketo.net/munchkin.js",e.onreadystatechange=function(){(this.readyState=="complete"||this.readyState=="loaded")&&n()},e.onload=n,document.getElementsByTagName("head")[0].appendChild(e)})()</script><script async src=https://cdn.bizible.com/scripts/bizible.js></script><script async>_linkedin_partner_id="30694",window._linkedin_data_partner_ids=window._linkedin_data_partner_ids||[],window._linkedin_data_partner_ids.push(_linkedin_partner_id),function(){var t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://snap.licdn.com/li.lms-analytics/insight.min.js",t.parentNode.insertBefore(e,t)}()</script><noscript><img height=1 width=1 style=display:none alt src="https://dc.ads.linkedin.com/collect/?pid=30694&fmt=gif"></noscript></body></html>