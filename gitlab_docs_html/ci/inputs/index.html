<!doctype html><html lang=en-us dir=ltr><head><script src=https://cdn.cookielaw.org/consent/7f944245-c5cd-4eed-a90e-dd955adfdd08/OtAutoBlock.js></script><script src=https://cdn.cookielaw.org/scripttemplates/otSDKStub.js data-domain-script=7f944245-c5cd-4eed-a90e-dd955adfdd08></script><script type=text/javascript>function OptanonWrapper(){}</script><script>const callback=(e)=>{for(const t of e)t.type==="childList"&&t.addedNodes.forEach(e=>{e.nodeName==="IMG"&&document.querySelectorAll('img:not([src^="http"]):not([data-ot-ignore])').forEach(e=>{e.setAttribute("data-ot-ignore","")})})},config={attributes:!0,childList:!0,subtree:!0,attributeFilter:["src"]},observer=new MutationObserver(callback);observer.observe(document.documentElement,config)</script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","GTM-NJXWQL"),gtag("consent","default",{analytics_storage:"granted",ad_storage:"granted",functionality_storage:"granted",wait_for_update:500}),gtag("consent","default",{analytics_storage:"denied",ad_storage:"denied",functionality_storage:"denied",region:["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","IS","LI","NO","GB","PE","RU"],wait_for_update:500}),window.geofeed=e=>{dataLayer.push({event:"OneTrustCountryLoad",oneTrustCountryId:e.country.toString()})};const json=document.createElement("script");json.setAttribute("src","https://geolocation.onetrust.com/cookieconsentpub/v1/geo/location/geofeed"),document.head.appendChild(json)</script><meta charset=utf-8><meta name=viewport content="width=device-width"><title>CI/CD inputs | GitLab Docs</title><link rel=icon href=/favicon.ico sizes=any><link rel=icon href=/favicon.svg type=image/svg+xml><link rel=apple-touch-icon href=/apple-touch-icon.png><link rel=manifest href=/manifests/manifest.webmanifest><meta name=theme-color content="#FC6D26"><link rel=canonical href=https://docs.gitlab.com/ci/inputs/><meta name=description content="GitLab product documentation."><script type=application/ld+json>{"@context":"https://schema.org","@type":"WebSite","name":"GitLab Docs","url":"https://docs.gitlab.com/"}</script><link rel=preload href=/gitlab_ui/fonts/GitLabSans.woff2 type=font/woff2 as=font crossorigin><link rel=prefetch href=/gitlab_ui/fonts/GitLabSans-Italic.woff2 crossorigin><link rel=prefetch href=/gitlab_ui/fonts/GitLabMono.woff2 crossorigin><link rel=stylesheet href=/gitlab_ui/ui/index.css><link rel=stylesheet href=/vite/main.css><link rel=stylesheet href=/css/syntax-dark.min.css id=syntax-dark-theme><link rel=stylesheet href=/css/syntax-light.min.css id=syntax-light-theme><script>(function(){const p="gitlab-docs-theme",g="gitlab-docs-layout",e={LIGHT:"light",DARK:"dark",AUTO:"auto"},i={FIXED:"fixed",FLUID:"fluid"},d="light",f="fixed";let r=!1;const t=localStorage?.getItem(p),m=localStorage?.getItem(g),l=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?e.DARK:e.LIGHT;function h(){return t&&(t===e.LIGHT||t===e.DARK)?t:(t===e.AUTO&&(r=!0),l||d)}function u(){return m===i.FLUID?i.FLUID:f}const s=h(),c=u(),n=document.documentElement;n.classList.remove("gl-dark","gl-light"),n.classList.add(s===e.DARK?"gl-dark":"gl-light"),c===i.FLUID&&(n.classList.add("fluid"),n.classList.remove("fixed"));const a=document.getElementById("syntax-dark-theme"),o=document.getElementById("syntax-light-theme");a&&o&&(s===e.DARK?(a.disabled=!1,o.disabled=!0):(a.disabled=!0,o.disabled=!1)),window.__initialTheme=r?e.AUTO:s,window.__initialLayout=c})()</script><meta name=gitlab_docs_base_url content="/"><meta name=gitlab_docs_page_owner data-stage=Verify data-group="Pipeline Authoring"><meta class=elastic name=gitlab_docs_version content="18.6"><meta class=elastic name=gitlab_docs_section content="use_gitlab"><meta class=elastic name=gitlab_docs_breadcrumbs content="Use GitLab › Use CI/CD to build your application › Variables"><script>window.pageMetadata={trail:[{path:"user/",title:"Use GitLab"},{path:"topics/build_your_application/",title:"Use CI/CD to build your application"},{path:"ci/variables/",title:"Variables"},{path:"ci/inputs/",title:"Inputs"}]}</script><meta name=gitlab_docs_legacy_path content="/ee/ci/inputs/index.html"><meta name=gitlab_docs_hugo_launch_version content="17.9"><script>const ELASTIC_CLOUD_ID="gitlab-docs-website:dXMtY2VudHJhbDEuZ2NwLmNsb3VkLmVzLmlvJDQwZTQyYTQzMTJiZjQyMzNiMzBiZTg0MTU5YjlkNmE1JGMxODg4Y2U5OTY0YzQzZjc5ZjQ1YTk5NDZmMjI0ODg0",ELASTIC_KEY="cDFpLWJaSUJXVHBqWWI4VGZKN3M6eENBSjl4WDRSRnlCUW94ajRQazhLQQ==",ELASTIC_INDEX="search-gitlab-docs-hugo"</script><script type=module src=/vite/elastic_search.js></script><script type=module src=/vite/history.js></script><script>const FS_IDENTIFIER="AIzaSyCLdi3jHHjkmLji9D8uj_RNPMHcdrYoIW4",RECAPTCHA_PUBLIC_KEY="6Le4R3UrAAAAALsIlK_siq0_UhPD-0rD-ImF1gfO"</script><meta name=google-site-verification content="AcGSBNaKDWnLgcYotlVibGy6STm2Y6_KJSaRxrA90xY"><meta name=google-site-verification content="6eFQOFLxYAer08ROqc3I-SAi44F9NmvH7PrUUBR3oCI"><meta name=google-site-verification content="xAUTWp3CDg-tU1LVVwsM9OrVhLR7L3SmiyKzkOuPNos"><meta name=google-site-verification content="F0zzwaMpiyWFcPQ1Lqu18qN3EnuQsqFXbySl_29yvHs"><meta name=google-site-verification content="nwo1bVaU0t9TZxZyM-aOI6-CofaH9GRL-uBPbdREWgc"><meta name=google-site-verification content="rWoHrtHEmIX0t28oOb1ZEDMYZb_EZA6rr6ZOl5otEPI"><meta name=google-site-verification content="fSxr8-uslxcuFL0N-oECp3Tm0RPNEGX97wbdayKOEL8"><meta name=google-site-verification content="ISxyLVnZqU8oY3jwrK7EO9o-2DOTvLJwPse7bZz6yhs"><meta name=google-site-verification content="x1WspIvz3ZHqS0gezfX_P-qiRDOeP2Oyrd68zrU2ErI"><meta name=google-site-verification content="DfXB2Za52GT3zs_vuLIAL4Mi3M3K4qxXcg7MAs0CUqo"><meta name=google-site-verification content="BCEBC2LC7A1NzO9Com1oBrWK88tV_QXfUL0i9mwXPL0"><meta name=google-site-verification content="a2lNcHMorfS43aoISjZt5_BBPo-H1UaTKMQdBgZO9iY"><meta name=google-site-verification content="0s16pP9MelY6wDHRf-izXb5pwLU01IogP-Uc_e8f3GU"><meta name=google-site-verification content="H474RNof35Xp8fLg02fZbg9Dzxdtfch6vtcjzpmUraU"><meta name=google-site-verification content="E0FlhpgBGeE7d1pQ6amdcIWPMDLDeu15-HLQVoDTguE"><meta name=google-site-verification content="opQd7_rXtPy-pX5CO_XZiztzeQEsXnB3j6Y1_dZAizA"><meta name=google-site-verification content="06Kq4AoXdmBOjOAkbPvnYGtSxnn4Q9QBqEO55PLlw5c"><meta name=google-site-verification content="djBBokRFSWV_VRlSE51V5TZSPzMC6hml5l-Sb22WglE"><meta name=google-site-verification content="UOW6nOsvbyMeIySuamzbws4kNC_WqehamWfoxxtKjZ8"><meta name=google-site-verification content="hXU1Gsdba74DUbvbdUHRl9o0cQeiwXIhAdIllOG6p8E"><meta name=google-site-verification content="YFeHIAPk9lE76ubVMeq4P0sQVnzo2-a4k1oU_bPY8yE"><meta name=google-site-verification content="h8ICI4eDkvXmYaGDuLTLoWuXnLn-KUkChqYB-roMRsw"><meta name=google-site-verification content="9QW7feFNlCpMLPm7vAWEU-v14vdzb0Bb3RAk-8e_a18"><meta name=google-site-verification content="26kXLBOjaYRb2UwzWTDl1I1nzA2NxMunhp7SUtxGV6E"><meta name=google-site-verification content="jr3C8t6vKGPyN9GV3esdHY_xGYyQaUNznIl-Un2RObA"><meta name=google-site-verification content="WdlBpRU0ec1ieKqrTY_772OhG23FY45VQ4Lv9DyLJ_Y"><meta name=google-site-verification content="n9i6B9q4Xjr_etK2nQGZH1msoo7vIv9SXV8SQLOUA7c"><meta name=zd-site-verification content="ony3w7hk1vs6tfyrc51mld"><meta name=zd-site-verification content="gtuq65qdzt6n31viazi6hj"></head><body data-elastic-exclude><nav data-ga-section=header data-elastic-exclude><div class="header-wrapper gl-w-full gl-fixed gl-z-4"><div class=header><div class="header-top gl-flex gl-items-center"><a href=#skipTarget class="gl-sr-only skip-link">Skip to main content</a>
<a class=navbar-logo href=/><span class=gl-sr-only>Go to GitLab Docs homepage</span></a><div class="mobile-header gl-w-full gl-text-base"><div class=mobile-header-overlay></div><div class="header-right collapse gl-z-4 gl-border-t lg:gl-border-0"><div class="search-wrapper lg:gl-ml-4 lg:gl-grow"><div class="js-elastic-search-form gl-spinner-container"><span role=status aria-label=Loading class="gl-ml-3 gl-align-text-bottom! gl-spinner gl-spinner gl-spinner-sm"></span></div></div><div class="gl-flex gl-flex-col gl-gap-3 gl-mt-5 lg:gl-mt-0 lg:gl-flex-row lg:gl-items-center gl-ml-auto"><a class="whats-new gl-button btn-default btn-default-tertiary gl-hidden lg:gl-block" href=https://about.gitlab.com/releases/categories/releases/ target=_blank rel="noopener noreferrer">What's new?</a><div data-vue-app=versions-menu></div><div data-vue-app=appearance-toggle class="gl-hidden lg:gl-block"></div><div class="gl-flex gl-justify-evenly lg:gl-justify-normal gl-items-center gl-gap-5"><a class="whats-new gl-button btn-default btn-default-tertiary gl-w-full lg:gl-hidden hover:gl-no-underline" href=https://about.gitlab.com/releases/categories/releases/ target=_blank rel="noopener noreferrer">What's new?</a>
<a class="free-trial-btn cta-button gl-button btn-confirm gl-w-full hover:gl-no-underline" href="https://gitlab.com/-/trial_registrations/new?glm_source=docs.gitlab.com&amp;amp;glm_content=navigation-cta-docs" target=_blank rel="noopener noreferrer" role=button>Get free trial</a></div></div></div></div><button class="navbar-toggle gl-button btn-default lg:gl-hidden" data-toggle=collapse data-target=.header-right>
<span class=navbar-toggle-icon></span>
<span class=gl-sr-only>Toggle menu</span></button></div><div class="header-bottom gl-border-t lg:gl-border-b"><ul class="subheader-menu gl-hidden lg:gl-flex gl-list-none gl-text-base gl-space-x-5 gl-py-4 gl-pl-0 gl-mb-0"><li><a href=/user/ class=active>Use GitLab</a></li><li><a href=/user/gitlab_duo/>GitLab Duo</a></li><li><a href=/api/>Extend</a></li><li><a href=/install/>Install</a></li><li><a href=/administration/>Administer</a></li><li><a href=/subscriptions/>Subscribe</a></li><li><a href=/development/>Contribute</a></li><li><a href=/solutions/>Solutions</a></li></ul></div></div></div></nav><main data-ga-section=content-body><div id=js-version-banner></div><div class="template-single gl-flex gl-h-full"><div class=side-nav data-ga-section=side-nav data-vue-app=sidebar-menu></div><div data-pagefind-body class=main-content><div class=docs-content><div class="gl-flex gl-h-5 gl-items-center gl-my-6"><div data-vue-app=open-sidebar></div><div data-vue-app=breadcrumb-nav></div></div><hr class="gl-border-t gl-px-5 lg:gl-hidden"><div class="gl-pt-4 gl-mt-4 lg:gl-pt-0 lg:gl-mt-0 lg:gl-border-t-0"><h1 id=skipTarget class=gl-mb-6>CI/CD inputs</h1></div><div data-elastic-include><div class="availability gl-pl-4 gl-mb-5"><ul class="gl-list-none gl-p-0 gl-m-0"><li><span class=gl-font-bold>Tier</span>: Free, Premium, Ultimate</li><li><span class=gl-font-bold>Offering</span>: GitLab.com, GitLab Self-Managed, GitLab Dedicated</li></ul></div><div class="collapsible-section gl-my-5"><button class="gl-align-middle gl-text-left gl-border-0 gl-pl-0" type=button aria-expanded=false aria-controls=collapsible-1 aria-label="Toggle section" data-toggle=collapse data-target=#collapsible-1>History<span class="gl-ml-2 icon"></span></button><div id=collapsible-1 class="collapsible-list collapse" aria-hidden=true><ul><li><a href=https://gitlab.com/gitlab-org/gitlab/-/issues/391331>Introduced</a> in GitLab 15.11 as a beta feature.</li><li><a href=https://gitlab.com/gitlab-com/www-gitlab-com/-/merge_requests/134062>Made generally available</a> in GitLab 17.0.</li></ul></div></div><p>Use CI/CD inputs to increase the flexibility of CI/CD configuration. Inputs and <a href=/ci/variables/>CI/CD variables</a>
can be used in similar ways, but have different benefits:</p><ul><li>Inputs provide typed parameters for reusable templates with built-in validation at pipeline creation time.
To define specific values when the pipeline runs, use inputs instead of CI/CD variables.</li><li>CI/CD variables offer flexible values that can be defined at multiple levels, but can be modified
throughout pipeline execution. Use variables for values that need to be accessible in the job&rsquo;s runtime environment.
You can also use <a href=/ci/variables/predefined_variables/>predefined variables</a> with <code>rules</code>
for dynamic pipeline configuration.</li></ul><h2 id=cicd-inputs-and-variables-comparison>CI/CD Inputs and variables comparison</h2><p>Inputs:</p><ul><li><strong>Purpose</strong>: Defined in CI configurations (templates, components or <code>.gitlab-ci.yml</code>) and assigned values
when a pipeline is triggered, allowing consumers to customize reusable CI configurations.</li><li><strong>Modification</strong>: Once passed at pipeline initialization, input values are interpolated in the CI/CD
configuration and remain fixed for the entire pipeline run.</li><li><strong>Scope</strong>: Available only in the file they are defined, whether in the <code>.gitlab-ci.yml</code> or a file
being <code>include</code>d. You can pass them explicitly to other files - using <code>include:inputs</code> - or pipeline
using <code>trigger:inputs</code>.</li><li><strong>Validation</strong>: Provide robust validation capabilities including type checking, regex patterns,
predefined option lists, and helpful descriptions for users.</li></ul><p>CI/CD Variables:</p><ul><li><strong>Purpose</strong>: Values that can be set as environment variables during job execution and in various parts
of the pipeline for passing data between jobs.</li><li><strong>Modification</strong>: Can be dynamically generated or modified during pipeline execution through dotenv artifacts,
conditional rules, or directly in job scripts.</li><li><strong>Scope</strong>: Can be defined globally (affecting all jobs), at the job level (affecting only specific jobs),
or for the entire project or group through the GitLab UI.</li><li><strong>Validation</strong>: Simple key-value pairs with minimal built-in validation, though you can add some controls through
the GitLab UI for project variables.</li></ul><h2 id=define-input-parameters-with-specinputs>Define input parameters with <code>spec:inputs</code></h2><p>Use <code>spec:inputs</code> in the CI/CD configuration <a href=/ci/yaml/#header-keywords>header</a> to define input parameters that
can be passed to the configuration file.</p><p>Use the <code>$[[ inputs.input-id ]]</code> interpolation format outside the header section to declare where to use
the inputs.</p><p>For example:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>inputs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>job-stage</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>default</span><span class=p>:</span><span class=w> </span><span class=l>test</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>environment</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>default</span><span class=p>:</span><span class=w> </span><span class=l>production</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>scan-website</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>stage</span><span class=p>:</span><span class=w> </span><span class=l>$[[ inputs.job-stage ]]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=l>./scan-website $[[ inputs.environment ]]</span></span></span></code></pre></div></div><p>In this example, the inputs are <code>job-stage</code> and <code>environment</code>.</p><p>With <code>spec:inputs</code>:</p><ul><li>Inputs are mandatory if <code>default</code> is not specified.</li><li>Inputs are evaluated and populated when the configuration is fetched during pipeline creation.</li><li>A string containing an input must be less than 1 MB.</li><li>A string inside an input must be less than 1 KB.</li><li>Inputs can use CI/CD variables, but have the same <a href=/ci/yaml/includes/#use-variables-with-include>variable limitations as the <code>include</code> keyword</a>.</li><li>If the file that defines <code>spec:inputs</code> also contains job definitions, add a YAML document
separator (<code>---</code>) after the header.</li></ul><p>Then you set the values for the inputs when you:</p><ul><li><a href=/ci/inputs/#for-a-pipeline>Trigger a new pipeline</a> using this configuration file.
You should always set default values when using inputs to configure new pipelines
with any method other than <code>include</code>. Otherwise the pipeline could fail to start
if a new pipeline triggers automatically, including in:<ul><li>Merge request pipelines</li><li>Branch pipelines</li><li>Tag pipelines</li></ul></li><li><a href=/ci/inputs/#for-configuration-added-with-include>Include the configuration</a> in your pipeline.
Any inputs that are mandatory must be added to the <code>include:inputs</code> section, and are used
every time the configuration is included.</li></ul><h3 id=input-configuration>Input configuration</h3><p>To configure inputs, use:</p><ul><li><a href=/ci/yaml/#specinputsdefault><code>spec:inputs:default</code></a> to define default values for inputs
when not specified. When you specify a default, the inputs are no longer mandatory.</li><li><a href=/ci/yaml/#specinputsdescription><code>spec:inputs:description</code></a> to give a description to
a specific input. The description does not affect the input, but can help people
understand the input details or expected values.</li><li><a href=/ci/yaml/#specinputsoptions><code>spec:inputs:options</code></a> to specify a list of allowed values
for an input.</li><li><a href=/ci/yaml/#specinputsregex><code>spec:inputs:regex</code></a> to specify a regular expression
that the input must match.</li><li><a href=/ci/yaml/#specinputstype><code>spec:inputs:type</code></a> to force a specific input type, which
can be <code>string</code> (default when not specified), <code>array</code>, <code>number</code>, or <code>boolean</code>.</li></ul><p>You can define multiple inputs per CI/CD configuration file, and each input can have
multiple configuration parameters.</p><p>For example, in a file named <code>scan-website-job.yml</code>:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>inputs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>job-prefix</span><span class=p>:</span><span class=w>     </span><span class=c># Mandatory string input</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Define a prefix for the job name&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>job-stage</span><span class=p>:</span><span class=w>      </span><span class=c># Optional string input with a default value when not provided</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>default</span><span class=p>:</span><span class=w> </span><span class=l>test</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>environment</span><span class=p>:</span><span class=w>    </span><span class=c># Mandatory input that must match one of the options</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>options</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s1>&#39;test&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;staging&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;production&#39;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>concurrency</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>number </span><span class=w> </span><span class=c># Optional numeric input with a default value when not provided</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>default</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w>        </span><span class=c># Mandatory string input that must match the regular expression</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>regex</span><span class=p>:</span><span class=w> </span><span class=l>^v\d\.\d+(\.\d+)$</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>export_results</span><span class=p>:</span><span class=w> </span><span class=c># Optional boolean input with a default value when not provided</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>boolean</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>default</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=s2>&#34;$[[ inputs.job-prefix ]]-scan-website&#34;</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>stage</span><span class=p>:</span><span class=w> </span><span class=l>$[[ inputs.job-stage ]]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>echo &#34;scanning website -e $[[ inputs.environment ]] -c $[[ inputs.concurrency ]] -v $[[ inputs.version ]]&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>if $[[ inputs.export_results ]]; then echo &#34;export results&#34;; fi</span></span></span></code></pre></div></div><p>In this example:</p><ul><li><code>job-prefix</code> is a mandatory string input and must be defined.</li><li><code>job-stage</code> is optional. If not defined, the value is <code>test</code>.</li><li><code>environment</code> is a mandatory string input that must match one of the defined options.</li><li><code>concurrency</code> is an optional numeric input. When not specified, it defaults to <code>1</code>.</li><li><code>version</code> is a mandatory string input that must match the specified regular expression.</li><li><code>export_results</code> is an optional boolean input. When not specified, it defaults to <code>true</code>.</li></ul><h3 id=input-types>Input types</h3><p>You can specify that an input must use a specific type with the optional <code>spec:inputs:type</code> keyword.</p><p>The input types are:</p><ul><li><a href=/ci/inputs/#array-type><code>array</code></a></li><li><code>boolean</code></li><li><code>number</code></li><li><code>string</code> (default when not specified)</li></ul><p>When an input replaces an entire YAML value in the CI/CD configuration, it is interpolated
into the configuration as its specified type. For example:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>inputs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>array_input</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>array</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>boolean_input</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>boolean</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>number_input</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>number</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>string_input</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>test_job</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>allow_failure</span><span class=p>:</span><span class=w> </span><span class=l>$[[ inputs.boolean_input ]]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>needs</span><span class=p>:</span><span class=w> </span><span class=l>$[[ inputs.array_input ]]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>parallel</span><span class=p>:</span><span class=w> </span><span class=l>$[[ inputs.number_input ]]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=l>$[[ inputs.string_input ]]</span></span></span></code></pre></div></div><p>When an input is inserted into a YAML value as part of a larger string, the input
is always interpolated as a string. For example:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>inputs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>port</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>number</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>test_job</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=l>curl &#34;https://gitlab.com:$[[ inputs.port ]]&#34;</span></span></span></code></pre></div></div><h4 id=array-type>Array type</h4><div class="collapsible-section gl-my-5"><button class="gl-align-middle gl-text-left gl-border-0 gl-pl-0" type=button aria-expanded=false aria-controls=collapsible-2 aria-label="Toggle section" data-toggle=collapse data-target=#collapsible-2>History<span class="gl-ml-2 icon"></span></button><div id=collapsible-2 class="collapsible-list collapse" aria-hidden=true><ul><li><a href=https://gitlab.com/gitlab-org/gitlab/-/issues/407176>Introduced</a> in GitLab 16.11.</li></ul></div></div><p>The content of the items in an array type can be any valid YAML map, sequence, or scalar. More complex YAML features
like <a href=/ci/yaml/yaml_optimization/#reference-tags><code>!reference</code></a> cannot be used. When using the value of an array
input in a string (for example <code>echo "My rules: $[[ inputs.rules-config ]]"</code> in your <code>script:</code> section), you might
see unexpected results. The array input is converted to its string representation, which might not match your
expectations for complex YAML structures such as maps.</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>inputs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>rules-config</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>array</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>default</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=l>$CI_PIPELINE_SOURCE == &#34;merge_request_event&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>when</span><span class=p>:</span><span class=w> </span><span class=l>manual</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=l>$CI_PIPELINE_SOURCE == &#34;schedule&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>test_job</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w> </span><span class=l>$[[ inputs.rules-config ]]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=l>ls</span></span></span></code></pre></div></div><p>Array inputs must be formatted as JSON, for example <code>["array-input-1", "array-input-2"]</code>,
when manually passing inputs for:</p><ul><li><a href=/ci/pipelines/#run-a-pipeline-manually>Manually triggered pipelines</a>.</li><li>The <a href=/api/pipeline_triggers/#trigger-a-pipeline-with-a-token>pipeline triggers API</a>.</li><li>The <a href=/api/pipelines/#create-a-new-pipeline>pipelines API</a>.</li><li>Git <a href=/topics/git/commit/#push-options-for-gitlab-cicd>push options</a></li><li><a href=/ci/pipelines/schedules/#create-a-pipeline-schedule>Pipeline schedules</a></li></ul><h4 id=multi-line-input-string-values>Multi-line input string values</h4><p>Inputs support different value types. You can pass multi-string values using the following format:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>inputs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>closed_message</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Message to announce when an issue is closed.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>default</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;Hi {{author}} :wave:,
</span></span></span><span class=line><span class=cl><span class=s1>
</span></span></span><span class=line><span class=cl><span class=s1>        Based on the policy for inactive issues, this is now being closed.
</span></span></span><span class=line><span class=cl><span class=s1>
</span></span></span><span class=line><span class=cl><span class=s1>        If this issue requires further attention, reopen this issue.&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span></span></span></code></pre></div></div><h2 id=set-input-values>Set input values</h2><h3 id=for-configuration-added-with-include>For configuration added with <code>include</code></h3><div class="collapsible-section gl-my-5"><button class="gl-align-middle gl-text-left gl-border-0 gl-pl-0" type=button aria-expanded=false aria-controls=collapsible-3 aria-label="Toggle section" data-toggle=collapse data-target=#collapsible-3>History<span class="gl-ml-2 icon"></span></button><div id=collapsible-3 class="collapsible-list collapse" aria-hidden=true><ul><li><code>include:with</code> <a href=https://gitlab.com/gitlab-org/gitlab/-/issues/406780>renamed to <code>include:inputs</code></a> in GitLab 16.0.</li></ul></div></div><p>Use <a href=/ci/yaml/#includeinputs><code>include:inputs</code></a> to set the values for inputs
when the included configuration is added to the pipeline, including for:</p><ul><li><a href=/ci/components/>CI/CD components</a></li><li><a href=/ci/examples/#adding-templates-to-your-gitlab-installation>Custom CI/CD templates</a></li><li>Any other configuration added with <code>include</code>.</li></ul><p>For example, to include and set the input values for <code>scan-website-job.yml</code> from the
<a href=/ci/inputs/#input-configuration>input configuration example</a>:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>include</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>local</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;scan-website-job.yml&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>inputs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>job-prefix</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;some-service-&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>environment</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;staging&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>concurrency</span><span class=p>:</span><span class=w> </span><span class=m>2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;v1.3.2&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>export_results</span><span class=p>:</span><span class=w> </span><span class=kc>false</span></span></span></code></pre></div></div><p>In this example, the inputs for the included configuration are:</p><table><thead><tr><th>Input</th><th>Value</th><th>Details</th></tr></thead><tbody><tr><td><code>job-prefix</code></td><td><code>some-service-</code></td><td>Must be explicitly defined.</td></tr><tr><td><code>job-stage</code></td><td><code>test</code></td><td>Not defined in <code>include:inputs</code>, so the value comes from <code>spec:inputs:default</code> in the included configuration.</td></tr><tr><td><code>environment</code></td><td><code>staging</code></td><td>Must be explicitly defined, and must match one of the values in <code>spec:inputs:options</code> in the included configuration.</td></tr><tr><td><code>concurrency</code></td><td><code>2</code></td><td>Must be a numeric value to match the <code>spec:inputs:type</code> set to <code>number</code> in the included configuration. Overrides the default value.</td></tr><tr><td><code>version</code></td><td><code>v1.3.2</code></td><td>Must be explicitly defined, and must match the regular expression in the <code>spec:inputs:regex</code> in the included configuration.</td></tr><tr><td><code>export_results</code></td><td><code>false</code></td><td>Must be either <code>true</code> or <code>false</code> to match the <code>spec:inputs:type</code> set to <code>boolean</code> in the included configuration. Overrides the default value.</td></tr></tbody></table><h4 id=with-multiple-include-entries>With multiple <code>include</code> entries</h4><p>Inputs must be specified separately for each include entry. For example:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>include</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>component</span><span class=p>:</span><span class=w> </span><span class=l>$CI_SERVER_FQDN/the-namespace/the-project/the-component@1.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>inputs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>stage</span><span class=p>:</span><span class=w> </span><span class=l>my-stage</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>local</span><span class=p>:</span><span class=w> </span><span class=l>path/to/file.yml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>inputs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>stage</span><span class=p>:</span><span class=w> </span><span class=l>my-stage</span></span></span></code></pre></div></div><h3 id=for-a-pipeline>For a pipeline</h3><div class="collapsible-section gl-my-5"><button class="gl-align-middle gl-text-left gl-border-0 gl-pl-0" type=button aria-expanded=false aria-controls=collapsible-4 aria-label="Toggle section" data-toggle=collapse data-target=#collapsible-4>History<span class="gl-ml-2 icon"></span></button><div id=collapsible-4 class="collapsible-list collapse" aria-hidden=true><ul><li><a href=https://gitlab.com/groups/gitlab-org/-/epics/16321>Introduced</a> in GitLab 17.11.</li></ul></div></div><p>Inputs provide advantages over variables including type checking, validation and a clear contract.
Unexpected inputs are rejected.
Inputs for pipelines must be defined in the <a href=/ci/inputs/#define-input-parameters-with-specinputs><code>spec:inputs</code> header</a>
of the main <code>.gitlab-ci.yml</code> file. You cannot use inputs defined in included files for pipeline-level configuration.</p><div class="alert alert-type-note gl-rounded-lg"><div class=alert-icon></div><div class=gl-min-w-0><p>In <a href=/update/deprecations/#increased-default-security-for-use-of-pipeline-variables>GitLab 17.7</a>
and later, pipeline inputs are recommended over passing <a href=/ci/variables/#use-pipeline-variables>pipeline variables</a>.
For enhanced security, you should <a href=/ci/variables/#restrict-pipeline-variables>disable pipeline variables</a> when using inputs.</p></div></div><p>You should always set default values when defining inputs for pipelines.
Otherwise the pipeline could fail to start if a new pipeline triggers automatically.
For example, merge request pipelines can trigger for changes to a merge request&rsquo;s source branch.
You cannot manually set inputs for merge request pipelines, so if any input is missing a default,
the pipeline fails to create. This can also happen for branch pipelines, tag pipelines,
and other automatically triggered pipelines.</p><p>You can set input values with:</p><ul><li><a href=/ci/pipelines/downstream_pipelines/#pass-inputs-to-a-downstream-pipeline>Downstream pipelines</a></li><li><a href=/ci/pipelines/#run-a-pipeline-manually>Manually triggered pipelines</a>.</li><li>The <a href=/api/pipeline_triggers/#trigger-a-pipeline-with-a-token>pipeline triggers API</a></li><li>The <a href=/api/pipelines/#create-a-new-pipeline>pipelines API</a></li><li>Git <a href=/topics/git/commit/#push-options-for-gitlab-cicd>push options</a></li><li><a href=/ci/pipelines/schedules/#create-a-pipeline-schedule>Pipeline schedules</a></li><li>The <a href=/ci/pipelines/downstream_pipelines/#pass-inputs-to-a-downstream-pipeline><code>trigger</code> keyword</a></li></ul><p>A pipeline can take up to 20 inputs.</p><p>Feedback is welcome on <a href=https://gitlab.com/gitlab-org/gitlab/-/issues/533802>this issue</a>.</p><p>You can pass inputs to <a href=/ci/pipelines/downstream_pipelines/>downstream pipelines</a>,
if the downstream pipeline&rsquo;s configuration file uses <a href=/ci/inputs/#define-input-parameters-with-specinputs><code>spec:inputs</code></a>.</p><p>For example, with <a href=/ci/yaml/#triggerinputs><code>trigger:inputs</code></a>:</p><div data-vue-app=docs-tabs><div class=tab><button class=tab-title>Parent-child pipeline</button><div class=tab-content><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>trigger-job</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>trigger</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>strategy</span><span class=p>:</span><span class=w> </span><span class=l>mirror</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>include</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>local</span><span class=p>:</span><span class=w> </span><span class=l>path/to/child-pipeline.yml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>inputs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>job-name</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;defined&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=l>$CI_PIPELINE_SOURCE == &#39;merge_request_event&#39;</span></span></span></code></pre></div></div></div></div><div class=tab><button class=tab-title>Multi-project pipeline</button><div class=tab-content><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>trigger-job</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>trigger</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>strategy</span><span class=p>:</span><span class=w> </span><span class=l>mirror</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>project</span><span class=p>:</span><span class=w> </span><span class=l>project-group/my-downstream-project</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>inputs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>job-name</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;defined&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=l>$CI_PIPELINE_SOURCE == &#39;merge_request_event&#39;</span></span></span></code></pre></div></div></div></div></div><h2 id=specify-functions-to-manipulate-input-values>Specify functions to manipulate input values</h2><div class="collapsible-section gl-my-5"><button class="gl-align-middle gl-text-left gl-border-0 gl-pl-0" type=button aria-expanded=false aria-controls=collapsible-7 aria-label="Toggle section" data-toggle=collapse data-target=#collapsible-7>History<span class="gl-ml-2 icon"></span></button><div id=collapsible-7 class="collapsible-list collapse" aria-hidden=true><ul><li><a href=https://gitlab.com/gitlab-org/gitlab/-/issues/409462>Introduced</a> in GitLab 16.3.</li></ul></div></div><p>You can specify predefined functions in the interpolation block to manipulate the input value.
The format supported is the following:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=l>$[[ input.input-id | &lt;function1&gt; | &lt;function2&gt; | ... &lt;functionN&gt; ]]</span></span></span></code></pre></div></div><p>With functions:</p><ul><li>Only <a href=/ci/inputs/#predefined-interpolation-functions>predefined interpolation functions</a> are permitted.</li><li>A maximum of 3 functions may be specified in a single interpolation block.</li><li>The functions are executed in the sequence they are specified.</li></ul><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>inputs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>test</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>default</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;test $MY_VAR&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>test-job</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=l>echo $[[ inputs.test | expand_vars | truncate(5,8) ]]</span></span></span></code></pre></div></div><p>In this example, assuming the input uses the default value and <code>$MY_VAR</code> is an unmasked project variable with value <code>my value</code>:</p><ol><li>First, the function <a href=/ci/inputs/#expand_vars><code>expand_vars</code></a> expands the value to <code>test my value</code>.</li><li>Then <a href=/ci/inputs/#truncate><code>truncate</code></a> applies to <code>test my value</code> with a character offset of <code>5</code> and length <code>8</code>.</li><li>The output of <code>script</code> would be <code>echo my value</code>.</li></ol><h3 id=predefined-interpolation-functions>Predefined interpolation functions</h3><h4 id=expand_vars><code>expand_vars</code></h4><div class="collapsible-section gl-my-5"><button class="gl-align-middle gl-text-left gl-border-0 gl-pl-0" type=button aria-expanded=false aria-controls=collapsible-8 aria-label="Toggle section" data-toggle=collapse data-target=#collapsible-8>History<span class="gl-ml-2 icon"></span></button><div id=collapsible-8 class="collapsible-list collapse" aria-hidden=true><ul><li><a href=https://gitlab.com/gitlab-org/gitlab/-/issues/387632>Introduced</a> in GitLab 16.5.</li></ul></div></div><p>Use <code>expand_vars</code> to expand <a href=/ci/variables/>CI/CD variables</a> in the input value.</p><p>Only variables you can <a href=/ci/yaml/includes/#use-variables-with-include>use with the <code>include</code> keyword</a> and which are
<strong>not</strong> <a href=/ci/variables/#mask-a-cicd-variable>masked</a> can be expanded.
<a href=/ci/variables/where_variables_can_be_used/#nested-variable-expansion>Nested variable expansion</a> is not supported.</p><p>Example:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>inputs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>test</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>default</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;test $MY_VAR&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>test-job</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=l>echo $[[ inputs.test | expand_vars ]]</span></span></span></code></pre></div></div><p>In this example, if <code>$MY_VAR</code> is unmasked (exposed in job logs) with a value of <code>my value</code>, then the input
would expand to <code>test my value</code>.</p><h4 id=truncate><code>truncate</code></h4><div class="collapsible-section gl-my-5"><button class="gl-align-middle gl-text-left gl-border-0 gl-pl-0" type=button aria-expanded=false aria-controls=collapsible-9 aria-label="Toggle section" data-toggle=collapse data-target=#collapsible-9>History<span class="gl-ml-2 icon"></span></button><div id=collapsible-9 class="collapsible-list collapse" aria-hidden=true><ul><li><a href=https://gitlab.com/gitlab-org/gitlab/-/issues/409462>Introduced</a> in GitLab 16.3.</li></ul></div></div><p>Use <code>truncate</code> to shorten the interpolated value. For example:</p><ul><li><code>truncate(&lt;offset>,&lt;length>)</code></li></ul><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>offset</code></td><td>Integer</td><td>Number of characters to offset by.</td></tr><tr><td><code>length</code></td><td>Integer</td><td>Number of characters to return after the offset.</td></tr></tbody></table><p>Example:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=l>$[[ inputs.test | truncate(3,5) ]]</span></span></span></code></pre></div></div><p>Assuming the value of <code>inputs.test</code> is <code>0123456789</code>, then the output would be <code>34567</code>.</p><h4 id=posix_quote><code>posix_quote</code></h4><div class="collapsible-section gl-my-5"><button class="gl-align-middle gl-text-left gl-border-0 gl-pl-0" type=button aria-expanded=false aria-controls=collapsible-10 aria-label="Toggle section" data-toggle=collapse data-target=#collapsible-10>History<span class="gl-ml-2 icon"></span></button><div id=collapsible-10 class="collapsible-list collapse" aria-hidden=true><ul><li><a href=https://gitlab.com/gitlab-org/gitlab/-/issues/568289>Introduced</a> in GitLab 18.6.</li></ul></div></div><p>Use <code>posix_quote</code> to escape any POSIX <em>Bourne shell</em> control or meta characters that might be included in input values.
<code>posix_quote</code> escapes the characters by inserting <code>\</code> before any problematic characters in the input.</p><p>Example:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>inputs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>test</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>default</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>        A string with single &#39; and double &#34; quotes and   blanks</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>test-job</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=l>printf &#39;%s\n&#39; $[[ inputs.test | posix_quote ]]</span></span></span></code></pre></div></div><p>In this example, <code>posix_quote</code> escapes all the characters that could be shell control or metadata characters:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=console class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=line><span class=cl><span class=gp>$</span> <span class=nb>printf</span> <span class=s1>&#39;%s\n&#39;</span> A<span class=se>\ </span>string<span class=se>\ </span>with<span class=se>\ </span>single<span class=se>\ \&#39;\ </span>and<span class=se>\ </span>double<span class=se>\ \&#34;\ </span>quotes<span class=se>\ </span>and<span class=se>\ \ \ </span>blanks
</span></span><span class=line><span class=cl><span class=go>A string with single &#39; and double &#34; quotes and   blanks
</span></span></span></code></pre></div></div><p>The escaped input preserves all special characters and spacing exactly as provided.</p><div class="alert alert-type-warning gl-rounded-lg"><div class=alert-icon></div><div class=gl-min-w-0><p>Not using <code>posix_quote</code> can be a security risk if the input contains untrusted input.</p></div></div><p>Input values that do not escape shell control or metadata characters have risks:</p><ul><li>Shell code included in the string might be executed.</li><li>Single or double quotes might be used to escape any surrounding quoting.</li><li>Variable references could be used to access protected variables.</li><li>Input or output redirection might be used to read or write to local files.</li><li>Unescaped spaces are used by shells to split a string into multiple arguments.</li></ul><p>Escaping might be unnecessary if:</p><ul><li>The <a href=/ci/yaml/#specinputstype><code>spec:input:type</code></a> is <code>number</code> or <code>boolean</code>, which cannot contain problematic characters.</li><li>The input value is validated with <a href=/ci/yaml/#specinputsregex><code>spec:input:regex</code></a> to prevent problematic input.</li><li>The input value is from a trusted source.</li></ul><p>If you combine <code>posix_quote</code> with <code>expand_vars</code>, you must set <code>expand_vars</code> first.
Otherwise <code>posix_quote</code> would escape the <code>$</code> in the variable, preventing expansion.
For example:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>test-job</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=l>echo $[[ inputs.test | expand_vars | posix_quote ]]</span></span></span></code></pre></div></div><h2 id=troubleshooting>Troubleshooting</h2><h3 id=yaml-syntax-errors-when-using-inputs>YAML syntax errors when using <code>inputs</code></h3><p><a href=/ci/jobs/job_rules/#cicd-variable-expressions>CI/CD variable expressions</a>
in <code>rules:if</code> expect a comparison of a CI/CD variable with a string, otherwise
<a href=/ci/jobs/job_troubleshooting/#this-gitlab-ci-configuration-is-invalid-for-variable-expressions>a variety of syntax errors could be returned</a>.</p><p>You must ensure that expressions remain properly formatted after input values are
inserted into the configuration, which might require the use of additional quote characters.</p><p>For example:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>inputs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branch</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>default</span><span class=p>:</span><span class=w> </span><span class=l>$CI_DEFAULT_BRANCH</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>job-name</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=l>$CI_COMMIT_REF_NAME == $[[ inputs.branch ]]</span></span></span></code></pre></div></div><p>In this example:</p><ul><li>Using <code>include: inputs: branch: $CI_DEFAULT_BRANCH</code> is valid. The <code>if:</code> clause evaluates to
<code>if: $CI_COMMIT_REF_NAME == $CI_DEFAULT_BRANCH</code>, which is a valid variable expression.</li><li>Using <code>include: inputs: branch: main</code> is <strong>invalid</strong>. The <code>if:</code> clause evaluates to
<code>if: $CI_COMMIT_REF_NAME == main</code>, which is invalid because <code>main</code> is a string but is not quoted.</li></ul><p>Alternatively, add quotes to resolve some variable expression issues. For example:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>inputs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>environment</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>default</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;$ENVIRONMENT&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>$[[ inputs.environment | expand_vars ]] job</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=l>echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;&#34;$[[ inputs.environment | expand_vars ]]&#34; == &#34;production&#34;&#39;</span></span></span></code></pre></div></div><p>In this example, quoting the input block and also the entire variable expression
ensures valid <code>if:</code> syntax after the input is evaluated. The internal and external quotes
in the expression must not be the same character. You can use <code>"</code> for the internal quotes
and <code>'</code> for the external quotes, or the inverse. On the other hand, the job name does
not require any quoting.</p></div><div data-vue-app=back-to-top-button></div></div><div class="feedback gl-min-h-8" data-ga-section=feedback data-elastic-exclude><div data-component=docs-feedback></div></div></div><aside class=sidebar-right><div data-ga-section=toc data-vue-app=toc></div></aside></div></main><footer data-ga-section=footer><section data-ga-section=footer><div id=footer class="footer-section container gl-grid gl-grid-cols-2 gl-grid-rows-3 gl-grid-rows-auto gl-gap-8 lg:gl-grid-cols-5 lg:gl-grid-rows-1 lg:gl-justify-items-center gl-px-8 gl-py-8 lg:gl-py-10"><div class="gl-col-span-2 lg:gl-col-span-1 gl-row-start-1"><div class="docs-title gl-flex gl-items-center"><a href=/><img src=/gitlab-logo-footer.svg alt="GitLab Docs logo" class=logo width=176 height=24></a></div><ul class="docs-social gl-list-none gl-flex"><li><a href=https://www.facebook.com/gitlab class=facebook><span class=gl-sr-only>Facebook</span></a></li><li><a href=https://www.linkedin.com/company/gitlab-com class=linkedin><span class=gl-sr-only>LinkedIn</span></a></li><li><a href=https://twitter.com/gitlab class=twitter><span class=gl-sr-only>Twitter</span></a></li><li><a href=https://www.youtube.com/channel/UCnMGQ8QHMAnVIsI3xJrihhg class=youtube><span class=gl-sr-only>YouTube</span></a></li></ul><a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="license noopener noreferrer" class=gl-mt-0><img src=/by-sa.svg alt="Creative Commons License" width=80 height=15></a></div><div class="gl-col-span-1 gl-row-start-2 lg:gl-row-start-1"><div class="footer-section-title gl-heading-3">Company</div><ul class="gl-list-none gl-p-0"><li><a href=https://about.gitlab.com/company/>About GitLab</a></li><li><a href=https://about.gitlab.com/pricing/>View pricing</a></li><li><a href=https://about.gitlab.com/free-trial/>Try GitLab for free</a></li></ul></div><div class="gl-col-span-1 gl-row-start-2 lg:gl-row-start-1"><div class="footer-section-title gl-heading-3">Feedback</div><ul class="gl-list-none gl-p-0"><li><a href=https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/ci/inputs/_index.md>View page source</a></li><li><a href=https://gitlab.com/-/ide/project/gitlab-org/gitlab/edit/master/-/doc/ci/inputs/_index.md>Edit in web IDE</a></li><li><a href=https://about.gitlab.com/community/contribute/>Contribute to GitLab</a></li><li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Documentation">Suggest updates</a></li></ul></div><div class="gl-col-span-1 gl-row-start-3 lg:gl-row-start-1"><div class="footer-section-title gl-heading-3">Help & Community</div><ul class="gl-list-none gl-p-0"><li><a href=https://university.gitlab.com/pages/certifications>Get certified</a></li><li><a href=https://about.gitlab.com/support/>Get support</a></li><li><a href="https://forum.gitlab.com/new-topic?title=topic%20title&amp;body=topic%20body&amp;tags=docs-feedback">Post on the GitLab forum</a></li></ul></div><div class="gl-col-span-1 gl-row-start-3 lg:gl-row-start-1"><div class="footer-section-title gl-heading-3">Resources</div><ul class="gl-list-none gl-p-0"><li><a href=https://about.gitlab.com/terms/>Terms</a></li><li><a href=https://about.gitlab.com/privacy/>Privacy statement</a></li><li><a href=/legal/use_generative_ai/>Use of generative AI</a></li><li><a href=/legal/licensing_policy/>Acceptable use of user licenses</a></li><li><button id=ot-sdk-btn class=ot-sdk-show-settings></button></li></ul></div></div></section></footer><script type=module src=/vite/main.js></script><script async>(function(e,t,n,s,o){e[s]=e[s]||[],e[s].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],i=t.createElement(n),r=s!="dataLayer"?"&l="+s:"";i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+o+r,a.parentNode.insertBefore(i,a)})(window,document,"script","dataLayer","GTM-NJXWQL")</script><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJXWQL" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><script async>(function(){var e,t=!1;function n(){t===!1&&(t=!0,Munchkin.init("194-VVC-221",{useBeaconAPI:!0}))}e=document.createElement("script"),e.type="text/javascript",e.async=!0,e.src="https://munchkin.marketo.net/munchkin.js",e.onreadystatechange=function(){(this.readyState=="complete"||this.readyState=="loaded")&&n()},e.onload=n,document.getElementsByTagName("head")[0].appendChild(e)})()</script><script async src=https://cdn.bizible.com/scripts/bizible.js></script><script async>_linkedin_partner_id="30694",window._linkedin_data_partner_ids=window._linkedin_data_partner_ids||[],window._linkedin_data_partner_ids.push(_linkedin_partner_id),function(){var t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://snap.licdn.com/li.lms-analytics/insight.min.js",t.parentNode.insertBefore(e,t)}()</script><noscript><img height=1 width=1 style=display:none alt src="https://dc.ads.linkedin.com/collect/?pid=30694&fmt=gif"></noscript></body></html>