<!doctype html><html lang=en-us dir=ltr><head><script src=https://cdn.cookielaw.org/consent/7f944245-c5cd-4eed-a90e-dd955adfdd08/OtAutoBlock.js></script><script src=https://cdn.cookielaw.org/scripttemplates/otSDKStub.js data-domain-script=7f944245-c5cd-4eed-a90e-dd955adfdd08></script><script type=text/javascript>function OptanonWrapper(){}</script><script>const callback=(e)=>{for(const t of e)t.type==="childList"&&t.addedNodes.forEach(e=>{e.nodeName==="IMG"&&document.querySelectorAll('img:not([src^="http"]):not([data-ot-ignore])').forEach(e=>{e.setAttribute("data-ot-ignore","")})})},config={attributes:!0,childList:!0,subtree:!0,attributeFilter:["src"]},observer=new MutationObserver(callback);observer.observe(document.documentElement,config)</script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","GTM-NJXWQL"),gtag("consent","default",{analytics_storage:"granted",ad_storage:"granted",functionality_storage:"granted",wait_for_update:500}),gtag("consent","default",{analytics_storage:"denied",ad_storage:"denied",functionality_storage:"denied",region:["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","IS","LI","NO","GB","PE","RU"],wait_for_update:500}),window.geofeed=e=>{dataLayer.push({event:"OneTrustCountryLoad",oneTrustCountryId:e.country.toString()})};const json=document.createElement("script");json.setAttribute("src","https://geolocation.onetrust.com/cookieconsentpub/v1/geo/location/geofeed"),document.head.appendChild(json)</script><meta charset=utf-8><meta name=viewport content="width=device-width"><title>Configure CodeClimate-based Code Quality scanning (deprecated) | GitLab Docs</title><link rel=icon href=/favicon.ico sizes=any><link rel=icon href=/favicon.svg type=image/svg+xml><link rel=apple-touch-icon href=/apple-touch-icon.png><link rel=manifest href=/manifests/manifest.webmanifest><meta name=theme-color content="#FC6D26"><link rel=canonical href=https://docs.gitlab.com/ci/testing/code_quality_codeclimate_scanning/><meta name=description content="GitLab product documentation."><script type=application/ld+json>{"@context":"https://schema.org","@type":"WebSite","name":"GitLab Docs","url":"https://docs.gitlab.com/"}</script><link rel=preload href=/gitlab_ui/fonts/GitLabSans.woff2 type=font/woff2 as=font crossorigin><link rel=prefetch href=/gitlab_ui/fonts/GitLabSans-Italic.woff2 crossorigin><link rel=prefetch href=/gitlab_ui/fonts/GitLabMono.woff2 crossorigin><link rel=stylesheet href=/gitlab_ui/ui/index.css><link rel=stylesheet href=/vite/main.css><link rel=stylesheet href=/css/syntax-dark.min.css id=syntax-dark-theme><link rel=stylesheet href=/css/syntax-light.min.css id=syntax-light-theme><script>(function(){const p="gitlab-docs-theme",g="gitlab-docs-layout",e={LIGHT:"light",DARK:"dark",AUTO:"auto"},i={FIXED:"fixed",FLUID:"fluid"},d="light",f="fixed";let r=!1;const t=localStorage?.getItem(p),m=localStorage?.getItem(g),l=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?e.DARK:e.LIGHT;function h(){return t&&(t===e.LIGHT||t===e.DARK)?t:(t===e.AUTO&&(r=!0),l||d)}function u(){return m===i.FLUID?i.FLUID:f}const s=h(),c=u(),n=document.documentElement;n.classList.remove("gl-dark","gl-light"),n.classList.add(s===e.DARK?"gl-dark":"gl-light"),c===i.FLUID&&(n.classList.add("fluid"),n.classList.remove("fixed"));const a=document.getElementById("syntax-dark-theme"),o=document.getElementById("syntax-light-theme");a&&o&&(s===e.DARK?(a.disabled=!1,o.disabled=!0):(a.disabled=!0,o.disabled=!1)),window.__initialTheme=r?e.AUTO:s,window.__initialLayout=c})()</script><meta name=gitlab_docs_base_url content="/"><meta name=gitlab_docs_page_owner data-stage="Application Security Testing" data-group="Static Analysis"><meta class=elastic name=gitlab_docs_version content="18.6"><meta class=elastic name=gitlab_docs_section content="use_gitlab"><meta class=elastic name=gitlab_docs_breadcrumbs content="Use GitLab › Use CI/CD to build your application › Testing › Code quality"><script>window.pageMetadata={trail:[{path:"user/",title:"Use GitLab"},{path:"topics/build_your_application/",title:"Use CI/CD to build your application"},{path:"ci/testing/",title:"Testing"},{path:"ci/testing/code_quality/",title:"Code quality"},{path:"ci/testing/code_quality_codeclimate_scanning/",title:"CodeClimate-based scanning (deprecated)"}]}</script><meta name=gitlab_docs_legacy_path content="/ee/ci/testing/code_quality_codeclimate_scanning.html"><meta name=gitlab_docs_hugo_launch_version content="17.9"><script>const ELASTIC_CLOUD_ID="gitlab-docs-website:dXMtY2VudHJhbDEuZ2NwLmNsb3VkLmVzLmlvJDQwZTQyYTQzMTJiZjQyMzNiMzBiZTg0MTU5YjlkNmE1JGMxODg4Y2U5OTY0YzQzZjc5ZjQ1YTk5NDZmMjI0ODg0",ELASTIC_KEY="cDFpLWJaSUJXVHBqWWI4VGZKN3M6eENBSjl4WDRSRnlCUW94ajRQazhLQQ==",ELASTIC_INDEX="search-gitlab-docs-hugo"</script><script type=module src=/vite/elastic_search.js></script><script type=module src=/vite/history.js></script><script>const FS_IDENTIFIER="AIzaSyCLdi3jHHjkmLji9D8uj_RNPMHcdrYoIW4",RECAPTCHA_PUBLIC_KEY="6Le4R3UrAAAAALsIlK_siq0_UhPD-0rD-ImF1gfO"</script><meta name=google-site-verification content="AcGSBNaKDWnLgcYotlVibGy6STm2Y6_KJSaRxrA90xY"><meta name=google-site-verification content="6eFQOFLxYAer08ROqc3I-SAi44F9NmvH7PrUUBR3oCI"><meta name=google-site-verification content="xAUTWp3CDg-tU1LVVwsM9OrVhLR7L3SmiyKzkOuPNos"><meta name=google-site-verification content="F0zzwaMpiyWFcPQ1Lqu18qN3EnuQsqFXbySl_29yvHs"><meta name=google-site-verification content="nwo1bVaU0t9TZxZyM-aOI6-CofaH9GRL-uBPbdREWgc"><meta name=google-site-verification content="rWoHrtHEmIX0t28oOb1ZEDMYZb_EZA6rr6ZOl5otEPI"><meta name=google-site-verification content="fSxr8-uslxcuFL0N-oECp3Tm0RPNEGX97wbdayKOEL8"><meta name=google-site-verification content="ISxyLVnZqU8oY3jwrK7EO9o-2DOTvLJwPse7bZz6yhs"><meta name=google-site-verification content="x1WspIvz3ZHqS0gezfX_P-qiRDOeP2Oyrd68zrU2ErI"><meta name=google-site-verification content="DfXB2Za52GT3zs_vuLIAL4Mi3M3K4qxXcg7MAs0CUqo"><meta name=google-site-verification content="BCEBC2LC7A1NzO9Com1oBrWK88tV_QXfUL0i9mwXPL0"><meta name=google-site-verification content="a2lNcHMorfS43aoISjZt5_BBPo-H1UaTKMQdBgZO9iY"><meta name=google-site-verification content="0s16pP9MelY6wDHRf-izXb5pwLU01IogP-Uc_e8f3GU"><meta name=google-site-verification content="H474RNof35Xp8fLg02fZbg9Dzxdtfch6vtcjzpmUraU"><meta name=google-site-verification content="E0FlhpgBGeE7d1pQ6amdcIWPMDLDeu15-HLQVoDTguE"><meta name=google-site-verification content="opQd7_rXtPy-pX5CO_XZiztzeQEsXnB3j6Y1_dZAizA"><meta name=google-site-verification content="06Kq4AoXdmBOjOAkbPvnYGtSxnn4Q9QBqEO55PLlw5c"><meta name=google-site-verification content="djBBokRFSWV_VRlSE51V5TZSPzMC6hml5l-Sb22WglE"><meta name=google-site-verification content="UOW6nOsvbyMeIySuamzbws4kNC_WqehamWfoxxtKjZ8"><meta name=google-site-verification content="hXU1Gsdba74DUbvbdUHRl9o0cQeiwXIhAdIllOG6p8E"><meta name=google-site-verification content="YFeHIAPk9lE76ubVMeq4P0sQVnzo2-a4k1oU_bPY8yE"><meta name=google-site-verification content="h8ICI4eDkvXmYaGDuLTLoWuXnLn-KUkChqYB-roMRsw"><meta name=google-site-verification content="9QW7feFNlCpMLPm7vAWEU-v14vdzb0Bb3RAk-8e_a18"><meta name=google-site-verification content="26kXLBOjaYRb2UwzWTDl1I1nzA2NxMunhp7SUtxGV6E"><meta name=google-site-verification content="jr3C8t6vKGPyN9GV3esdHY_xGYyQaUNznIl-Un2RObA"><meta name=google-site-verification content="WdlBpRU0ec1ieKqrTY_772OhG23FY45VQ4Lv9DyLJ_Y"><meta name=google-site-verification content="n9i6B9q4Xjr_etK2nQGZH1msoo7vIv9SXV8SQLOUA7c"><meta name=zd-site-verification content="ony3w7hk1vs6tfyrc51mld"><meta name=zd-site-verification content="gtuq65qdzt6n31viazi6hj"></head><body data-elastic-exclude><nav data-ga-section=header data-elastic-exclude><div class="header-wrapper gl-w-full gl-fixed gl-z-4"><div class=header><div class="header-top gl-flex gl-items-center"><a href=#skipTarget class="gl-sr-only skip-link">Skip to main content</a>
<a class=navbar-logo href=/><span class=gl-sr-only>Go to GitLab Docs homepage</span></a><div class="mobile-header gl-w-full gl-text-base"><div class=mobile-header-overlay></div><div class="header-right collapse gl-z-4 gl-border-t lg:gl-border-0"><div class="search-wrapper lg:gl-ml-4 lg:gl-grow"><div class="js-elastic-search-form gl-spinner-container"><span role=status aria-label=Loading class="gl-ml-3 gl-align-text-bottom! gl-spinner gl-spinner gl-spinner-sm"></span></div></div><div class="gl-flex gl-flex-col gl-gap-3 gl-mt-5 lg:gl-mt-0 lg:gl-flex-row lg:gl-items-center gl-ml-auto"><a class="whats-new gl-button btn-default btn-default-tertiary gl-hidden lg:gl-block" href=https://about.gitlab.com/releases/categories/releases/ target=_blank rel="noopener noreferrer">What's new?</a><div data-vue-app=versions-menu></div><div data-vue-app=appearance-toggle class="gl-hidden lg:gl-block"></div><div class="gl-flex gl-justify-evenly lg:gl-justify-normal gl-items-center gl-gap-5"><a class="whats-new gl-button btn-default btn-default-tertiary gl-w-full lg:gl-hidden hover:gl-no-underline" href=https://about.gitlab.com/releases/categories/releases/ target=_blank rel="noopener noreferrer">What's new?</a>
<a class="free-trial-btn cta-button gl-button btn-confirm gl-w-full hover:gl-no-underline" href="https://gitlab.com/-/trial_registrations/new?glm_source=docs.gitlab.com&amp;amp;glm_content=navigation-cta-docs" target=_blank rel="noopener noreferrer" role=button>Get free trial</a></div></div></div></div><button class="navbar-toggle gl-button btn-default lg:gl-hidden" data-toggle=collapse data-target=.header-right>
<span class=navbar-toggle-icon></span>
<span class=gl-sr-only>Toggle menu</span></button></div><div class="header-bottom gl-border-t lg:gl-border-b"><ul class="subheader-menu gl-hidden lg:gl-flex gl-list-none gl-text-base gl-space-x-5 gl-py-4 gl-pl-0 gl-mb-0"><li><a href=/user/ class=active>Use GitLab</a></li><li><a href=/user/gitlab_duo/>GitLab Duo</a></li><li><a href=/api/>Extend</a></li><li><a href=/install/>Install</a></li><li><a href=/administration/>Administer</a></li><li><a href=/subscriptions/>Subscribe</a></li><li><a href=/development/>Contribute</a></li><li><a href=/solutions/>Solutions</a></li></ul></div></div></div></nav><main data-ga-section=content-body><div id=js-version-banner></div><div class="template-single gl-flex gl-h-full"><div class=side-nav data-ga-section=side-nav data-vue-app=sidebar-menu></div><div data-pagefind-body class=main-content><div class=docs-content><div class="gl-flex gl-h-5 gl-items-center gl-my-6"><div data-vue-app=open-sidebar></div><div data-vue-app=breadcrumb-nav></div></div><hr class="gl-border-t gl-px-5 lg:gl-hidden"><div class="gl-pt-4 gl-mt-4 lg:gl-pt-0 lg:gl-mt-0 lg:gl-border-t-0"><h1 id=skipTarget class=gl-mb-6>Configure CodeClimate-based Code Quality scanning (deprecated)</h1></div><div data-elastic-include><div class="availability gl-pl-4 gl-mb-5"><ul class="gl-list-none gl-p-0 gl-m-0"><li><span class=gl-font-bold>Tier</span>: Free, Premium, Ultimate</li><li><span class=gl-font-bold>Offering</span>: GitLab.com, GitLab Self-Managed, GitLab Dedicated</li></ul></div><div class="alert alert-type-warning gl-rounded-lg"><div class=alert-icon></div><div class=gl-min-w-0><p>This feature was <a href=/update/deprecations/#codeclimate-based-code-quality-scanning-will-be-removed>deprecated</a> in GitLab 17.3 and is planned for removal in 19.0.
<a href=/ci/testing/code_quality/#import-code-quality-results-from-a-cicd-job>Integrate the results from a supported tool directly</a> instead. This change is a breaking change.</p></div></div><p>Code Quality includes a built-in CI/CD template, <code>Code-Quality.gitlab-ci.yaml</code>.
This template runs a scan based on the open source CodeClimate scanning engine.</p><p>The CodeClimate engine runs:</p><ul><li>Basic maintainability checks for a <a href=https://docs.codeclimate.com/docs/supported-languages-for-maintainability>set of supported languages</a>.</li><li>A configurable set of <a href=https://docs.codeclimate.com/docs/list-of-engines>plugins</a>, which wrap open source scanners, to analyze your source code.</li></ul><h2 id=enable-codeclimate-based-scanning>Enable CodeClimate-based scanning</h2><p>Prerequisites:</p><ul><li>GitLab CI/CD configuration (<code>.gitlab-ci.yml</code>) must include the <code>test</code> stage.</li><li>If you&rsquo;re using instance runners, the Code Quality job must be configured for the
<a href=/ci/docker/using_docker_build/#use-docker-in-docker>Docker-in-Docker workflow</a>.
When using this workflow, the <code>/builds</code> volume must be mapped to allow reports to be saved.</li><li>If you&rsquo;re using private runners, you should use an
<a href=/ci/testing/code_quality_codeclimate_scanning/#use-private-runners>alternative configuration</a>
recommended for running Code Quality analysis more efficiently.</li><li>The runner must have enough disk space to store the generated Code Quality files. For example, on
the <a href=https://gitlab.com/gitlab-org/gitlab>GitLab project</a> the files are approximately 7 GB.</li></ul><p>To enable Code Quality, either:</p><ul><li><p>Enable <a href=/topics/autodevops/>Auto DevOps</a>, which includes
<a href=/topics/autodevops/stages/#auto-code-quality>Auto Code Quality</a>.</p></li><li><p>Include the <a href=https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/templates/Jobs/Code-Quality.gitlab-ci.yml>Code Quality template</a> in your
<code>.gitlab-ci.yml</code> file.</p><p>Example:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>   </span><span class=nt>include</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span>- <span class=nt>template</span><span class=p>:</span><span class=w> </span><span class=l>Jobs/Code-Quality.gitlab-ci.yml</span></span></span></code></pre></div></div><p>Code Quality now runs in pipelines.</p></li></ul><div class="alert alert-type-warning gl-rounded-lg"><div class=alert-icon></div><div class=gl-min-w-0><p>On GitLab Self-Managed, if a malicious actor compromises the Code Quality job definition they
could execute privileged Docker commands on the runner host. Having proper access control policies
mitigates this attack vector by allowing access only to trusted actors.</p></div></div><h2 id=disable-codeclimate-based-scanning>Disable CodeClimate-based scanning</h2><p>The <code>code_quality</code> job doesn&rsquo;t run if the <code>$CODE_QUALITY_DISABLED</code> CI/CD variable
is present. For more information about how to define a variable, see
<a href=/ci/variables/>GitLab CI/CD variables</a>.</p><p>To disable Code Quality, create a custom CI/CD variable named <code>CODE_QUALITY_DISABLED</code>, for either:</p><ul><li><a href=/ci/variables/#for-a-project>The whole project</a>.</li><li><a href=/ci/pipelines/#run-a-pipeline-manually>A single pipeline</a>.</li></ul><h2 id=configure-codeclimate-analysis-plugins>Configure CodeClimate analysis plugins</h2><p>By default, the <code>code_quality</code> job configures CodeClimate to:</p><ul><li>Use <a href="https://gitlab.com/gitlab-org/ci-cd/codequality/-/blob/master/codeclimate_defaults/.codeclimate.yml.template?ref_type=heads">a specific set of plugins</a>.</li><li>Use <a href="https://gitlab.com/gitlab-org/ci-cd/codequality/-/tree/master/codeclimate_defaults?ref_type=heads">default configurations</a> for those plugins.</li></ul><p>To scan more languages, you can enable more <a href=https://docs.codeclimate.com/docs/list-of-engines>plugins</a>.
You can also disable plugins that the <code>code_quality</code> job enables by default.</p><p>For example, to use the <a href=https://docs.codeclimate.com/docs/sonar-java>SonarJava analyzer</a>:</p><ol><li><p>Add a file named <code>.codeclimate.yml</code> to the root of your repository</p></li><li><p>Add the <a href=https://docs.codeclimate.com/docs/sonar-java#enable-the-plugin>enablement code</a>
for the plugin to the root of your repository to the <code>.codeclimate.yml</code> file:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;2&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>plugins</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>sonar-java</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span></span></span></code></pre></div></div></li></ol><p>This adds SonarJava to the <code>plugins:</code> section of the
<a href=https://gitlab.com/gitlab-org/ci-cd/codequality/-/blob/master/codeclimate_defaults/.codeclimate.yml.template>default <code>.codeclimate.yml</code></a>
included in your project.</p><p>Changes to the <code>plugins:</code> section do not affect the <code>exclude_patterns</code> section of the default
<code>.codeclimate.yml</code>. See the Code Climate documentation on
<a href=https://docs.codeclimate.com/docs/excluding-files-and-folders>excluding files and folders</a>
for more details.</p><h2 id=customize-scan-job-settings>Customize scan job settings</h2><p>You can change the behavior of the <code>code_quality</code> scan job by setting <a href=/ci/testing/code_quality_codeclimate_scanning/#available-cicd-variables>CI/CD variables</a> in your GitLab CI/CD YAML.</p><p>To configure the Code Quality job:</p><ol><li>Declare a job with the same name as the Code Quality job, after the template&rsquo;s inclusion.</li><li>Specify additional keys in the job&rsquo;s stanza.</li></ol><p>For an example, see <a href=/ci/testing/code_quality_codeclimate_scanning/#output-in-only-html-format>Download output in HTML format</a>.</p><h3 id=available-cicd-variables>Available CI/CD variables</h3><p>Code Quality can be customized by defining available CI/CD variables:</p><table><thead><tr><th>CI/CD variable</th><th>Description</th></tr></thead><tbody><tr><td><code>CODECLIMATE_DEBUG</code></td><td>Set to enable <a href=https://github.com/codeclimate/codeclimate#environment-variables>Code Climate debug mode</a>.</td></tr><tr><td><code>CODECLIMATE_DEV</code></td><td>Set to enable <code>--dev</code> mode which lets you run engines not known to the CLI.</td></tr><tr><td><code>CODECLIMATE_PREFIX</code></td><td>Set a prefix to use with all <code>docker pull</code> commands in CodeClimate engines. Useful for <a href=https://github.com/codeclimate/codeclimate/pull/948>offline scanning</a>. For more information, see <a href=/ci/testing/code_quality_codeclimate_scanning/#use-a-private-container-image-registry>Use a private container registry</a>.</td></tr><tr><td><code>CODECLIMATE_REGISTRY_USERNAME</code></td><td>Set to specify the username for the registry domain parsed from <code>CODECLIMATE_PREFIX</code>.</td></tr><tr><td><code>CODECLIMATE_REGISTRY_PASSWORD</code></td><td>Set to specify the password for the registry domain parsed from <code>CODECLIMATE_PREFIX</code>.</td></tr><tr><td><code>CODE_QUALITY_DISABLED</code></td><td>Prevents the Code Quality job from running.</td></tr><tr><td><code>CODE_QUALITY_IMAGE</code></td><td>Set to a fully prefixed image name. Image must be accessible from your job environment.</td></tr><tr><td><code>ENGINE_MEMORY_LIMIT_BYTES</code></td><td>Set the memory limit for engines. Default: 1,024,000,000 bytes.</td></tr><tr><td><code>REPORT_STDOUT</code></td><td>Set to print the report to <code>STDOUT</code> instead of generating the usual report file.</td></tr><tr><td><code>REPORT_FORMAT</code></td><td>Set to control the format of the generated report file. Either <code>json</code> or <code>html</code>.</td></tr><tr><td><code>SOURCE_CODE</code></td><td>Path to the source code to scan. Must be the absolute path to a directory where cloned sources are stored.</td></tr><tr><td><code>TIMEOUT_SECONDS</code></td><td>Custom timeout per engine container for the <code>codeclimate analyze</code> command. Default: 900 seconds (15 minutes)</td></tr></tbody></table><h3 id=output>Output</h3><p>Code Quality outputs a report containing details of issues found. The content of this report is
processed internally and the results shown in the UI. The report is also output as a job artifact of
the <code>code_quality</code> job, named <code>gl-code-quality-report.json</code>. You can optionally output the report in
HTML format. For example, you could publish the HTML format file on GitLab Pages for even easier
reviewing.</p><h4 id=output-in-json-and-html-format>Output in JSON and HTML format</h4><p>To output the Code Quality report in JSON and HTML format, you create an additional job. This requires
Code Quality to be run twice, once each for file format.</p><p>To output the Code Quality report in HTML format, add another job to your template by using
<code>extends: code_quality</code>:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>include</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>template</span><span class=p>:</span><span class=w> </span><span class=l>Jobs/Code-Quality.gitlab-ci.yml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>code_quality_html</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>extends</span><span class=p>:</span><span class=w> </span><span class=l>code_quality</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>variables</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>REPORT_FORMAT</span><span class=p>:</span><span class=w> </span><span class=l>html</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>artifacts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>paths</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>gl-code-quality-report.html]</span></span></span></code></pre></div></div><p>Both the JSON and HTML files are output as job artifacts. The HTML file is contained in the
<code>artifacts.zip</code> job artifact.</p><h4 id=output-in-only-html-format>Output in only HTML format</h4><p>To download the Code Quality report in only HTML format, set <code>REPORT_FORMAT</code> to <code>html</code>, overriding
the default definition of the <code>code_quality</code> job.</p><div class="alert alert-type-note gl-rounded-lg"><div class=alert-icon></div><div class=gl-min-w-0><p>This does not create a JSON format file, so Code Quality results are not shown in the merge request
widget, pipeline report, or changes view.</p></div></div><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>include</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>template</span><span class=p>:</span><span class=w> </span><span class=l>Jobs/Code-Quality.gitlab-ci.yml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>code_quality</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>variables</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>REPORT_FORMAT</span><span class=p>:</span><span class=w> </span><span class=l>html</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>artifacts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>paths</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>gl-code-quality-report.html]</span></span></span></code></pre></div></div><p>The HTML file is output as a job artifact.</p><h2 id=use-code-quality-with-merge-request-pipelines>Use Code Quality with merge request pipelines</h2><p>The default Code Quality configuration does not allow the <code>code_quality</code> job to run on
<a href=/ci/pipelines/merge_request_pipelines/>merge request pipelines</a>.</p><p>To enable Code Quality to run on merge request pipelines, overwrite the code quality <code>rules</code>,
or <a href=/ci/yaml/#workflow><code>workflow: rules</code></a>, so that they match your current <code>rules</code>.</p><p>For example:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>include</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>template</span><span class=p>:</span><span class=w> </span><span class=l>Jobs/Code-Quality.gitlab-ci.yml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>code_quality</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=l>$CODE_QUALITY_DISABLED</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>when</span><span class=p>:</span><span class=w> </span><span class=l>never</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=l>$CI_PIPELINE_SOURCE == &#34;merge_request_event&#34;</span><span class=w> </span><span class=c># Run code quality job in merge request pipelines</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=l>$CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH     </span><span class=w> </span><span class=c># Run code quality job in pipelines on the default branch (but not in other branch pipelines)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=l>$CI_COMMIT_TAG                              </span><span class=w> </span><span class=c># Run code quality job in pipelines for tags</span></span></span></code></pre></div></div><h2 id=change-how-codeclimate-images-are-downloaded>Change how CodeClimate images are downloaded</h2><p>The CodeClimate engine downloads container images to run each of its plugins.
By default, the images are downloaded from Docker Hub.
You can change the image source to improve performance, work around Docker Hub rate limits, or use a private registry.</p><h3 id=use-the-dependency-proxy-to-download-images>Use the Dependency Proxy to download images</h3><p>You can use a Dependency Proxy to reduce the time taken to download dependencies.</p><p>Prerequisites:</p><ul><li><a href=/user/packages/dependency_proxy/>Dependency Proxy</a> enabled in the project&rsquo;s
group.</li></ul><p>To reference the Dependency Proxy, configure the following variables in the <code>.gitlab-ci.yml</code> file:</p><ul><li><code>CODE_QUALITY_IMAGE</code></li><li><code>CODECLIMATE_PREFIX</code></li><li><code>CODECLIMATE_REGISTRY_USERNAME</code></li><li><code>CODECLIMATE_REGISTRY_PASSWORD</code></li></ul><p>For example:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>include</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>template</span><span class=p>:</span><span class=w> </span><span class=l>Jobs/Code-Quality.gitlab-ci.yml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>code_quality</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>variables</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c>## You must add a trailing slash to `$CI_DEPENDENCY_PROXY_GROUP_IMAGE_PREFIX`.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>CODECLIMATE_PREFIX</span><span class=p>:</span><span class=w> </span><span class=l>$CI_DEPENDENCY_PROXY_GROUP_IMAGE_PREFIX/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>CODECLIMATE_REGISTRY_USERNAME</span><span class=p>:</span><span class=w> </span><span class=l>$CI_DEPENDENCY_PROXY_USER</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>CODECLIMATE_REGISTRY_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>$CI_DEPENDENCY_PROXY_PASSWORD</span></span></span></code></pre></div></div><h3 id=use-docker-hub-with-authentication>Use Docker Hub with authentication</h3><p>You can use Docker Hub as an alternate source of the Code Quality images.</p><p>Prerequisites:</p><ul><li>Add the username and password as <a href=/ci/variables/#for-a-project>protected CI/CD variables</a> in the project.</li></ul><p>To use DockerHub, configure the following variables in the <code>.gitlab-ci.yml</code> file:</p><ul><li><code>CODECLIMATE_PREFIX</code></li><li><code>CODECLIMATE_REGISTRY_USERNAME</code></li><li><code>CODECLIMATE_REGISTRY_PASSWORD</code></li></ul><p>Example:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>include</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>template</span><span class=p>:</span><span class=w> </span><span class=l>Jobs/Code-Quality.gitlab-ci.yml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>code_quality</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>variables</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>CODECLIMATE_PREFIX</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;registry-1.docker.io/&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>CODECLIMATE_REGISTRY_USERNAME</span><span class=p>:</span><span class=w> </span><span class=l>$DOCKERHUB_USERNAME</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>CODECLIMATE_REGISTRY_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>$DOCKERHUB_PASSWORD</span></span></span></code></pre></div></div><h3 id=use-a-private-container-image-registry>Use a private container image registry</h3><p>Using a private container image registry can reduce the time taken to download images, and also
reduce external dependencies. You must configure the registry prefix to be passed down
to CodeClimate&rsquo;s subsequent <code>docker pull</code> commands for individual engines, because of
the nested method of container execution.</p><p>The following variables can address all of the required image pulls:</p><ul><li><code>CODE_QUALITY_IMAGE</code>: A fully prefixed image name that can be located anywhere
accessible from your job environment. GitLab container registry can be used here
to host your own copy.</li><li><code>CODECLIMATE_PREFIX</code>: The domain of your intended container image registry. This
is a configuration option supported by <a href=https://github.com/codeclimate/codeclimate/pull/948>CodeClimate CLI</a>.
You must:<ul><li>Include a trailing slash (<code>/</code>).</li><li>Not include a protocol prefix, such as <code>https://</code>.</li></ul></li><li><code>CODECLIMATE_REGISTRY_USERNAME</code>: An optional variable to specify the username for the registry domain parsed from <code>CODECLIMATE_PREFIX</code>.</li><li><code>CODECLIMATE_REGISTRY_PASSWORD</code>: An optional variable to specify the password for the registry domain parsed from <code>CODECLIMATE_PREFIX</code>.</li></ul><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>include</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>template</span><span class=p>:</span><span class=w> </span><span class=l>Jobs/Code-Quality.gitlab-ci.yml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>code_quality</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>variables</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>CODE_QUALITY_IMAGE</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;my-private-registry.local:12345/codequality:0.85.24&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>CODECLIMATE_PREFIX</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;my-private-registry.local:12345/&#34;</span></span></span></code></pre></div></div><p>This example is specific to GitLab Code Quality. For more general instructions on how to configure
DinD with a registry mirror, see
<a href=/ci/docker/using_docker_build/#enable-registry-mirror-for-dockerdind-service>Enable registry mirror for Docker-in-Docker service</a>.</p><h4 id=required-images>Required images</h4><p>The following images are required for the <a href=https://gitlab.com/gitlab-org/ci-cd/codequality/-/blob/master/codeclimate_defaults/.codeclimate.yml.template>default <code>.codeclimate.yml</code></a>:</p><ul><li><code>codeclimate/codeclimate-structure:latest</code></li><li><code>codeclimate/codeclimate-csslint:latest</code></li><li><code>codeclimate/codeclimate-coffeelint:latest</code></li><li><code>codeclimate/codeclimate-duplication:latest</code></li><li><code>codeclimate/codeclimate-eslint:latest</code></li><li><code>codeclimate/codeclimate-fixme:latest</code></li><li><code>codeclimate/codeclimate-rubocop:rubocop-0-92</code></li></ul><p>If you are using a custom <code>.codeclimate.yml</code> configuration file, you must add the specified plugins in your private container registry.</p><h2 id=change-runner-configuration>Change Runner configuration</h2><p>CodeClimate runs separate containers for each of its analysis steps.
You may need to adjust your Runner configuration so that CodeClimate-based scans can run, or so that they run faster.</p><h3 id=use-private-runners>Use private runners</h3><p>If you have private runners, you should use this configuration for improved performance of Code
Quality because:</p><ul><li>Privileged mode is not used.</li><li>Docker-in-Docker is not used.</li><li>Docker images, including all CodeClimate images, are cached, and not re-fetched for subsequent jobs.</li></ul><p>This alternative configuration uses socket binding to share the Runner&rsquo;s Docker daemon
with the job environment. Before implementing this configuration, consider its
<a href=/ci/docker/using_docker_build/#use-docker-socket-binding>limitations</a>.</p><p>To use private runners:</p><ol><li><p>Register a new runner:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=shell class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ gitlab-runner register --executor <span class=s2>&#34;docker&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --docker-image<span class=o>=</span><span class=s2>&#34;docker:cli&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --url <span class=s2>&#34;https://gitlab.com/&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --description <span class=s2>&#34;cq-sans-dind&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --docker-volumes <span class=s2>&#34;/cache&#34;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --docker-volumes <span class=s2>&#34;/builds:/builds&#34;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --docker-volumes <span class=s2>&#34;/var/run/docker.sock:/var/run/docker.sock&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --registration-token<span class=o>=</span><span class=s2>&#34;&lt;project_token&gt;&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --non-interactive</span></span></code></pre></div></div></li><li><p><strong>Optional, but recommended</strong>: Set the builds directory to <code>/tmp/builds</code>,
so job artifacts are periodically purged from the runner host. If you skip
this step, you must clean up the default builds directory (<code>/builds</code>) yourself.
You can do this by adding the following two flags to <code>gitlab-runner register</code>
in the previous step.</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=shell class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>--builds-dir <span class=s2>&#34;/tmp/builds&#34;</span>
</span></span><span class=line><span class=cl>--docker-volumes <span class=s2>&#34;/tmp/builds:/tmp/builds&#34;</span> <span class=c1># Use this instead of --docker-volumes &#34;/builds:/builds&#34;</span></span></span></code></pre></div></div><p>The resulting configuration:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=toml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=p>[[</span><span class=nx>runners</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>  <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;cq-sans-dind&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;https://gitlab.com/&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>token</span> <span class=p>=</span> <span class=s2>&#34;&lt;project_token&gt;&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>executor</span> <span class=p>=</span> <span class=s2>&#34;docker&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>builds_dir</span> <span class=p>=</span> <span class=s2>&#34;/tmp/builds&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>runners</span><span class=p>.</span><span class=nx>docker</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=nx>tls_verify</span> <span class=p>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>    <span class=nx>image</span> <span class=p>=</span> <span class=s2>&#34;docker:cli&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>privileged</span> <span class=p>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>    <span class=nx>disable_entrypoint_overwrite</span> <span class=p>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>    <span class=nx>oom_kill_disable</span> <span class=p>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>    <span class=nx>disable_cache</span> <span class=p>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>    <span class=nx>volumes</span> <span class=p>=</span> <span class=p>[</span><span class=s2>&#34;/cache&#34;</span><span class=p>,</span> <span class=s2>&#34;/var/run/docker.sock:/var/run/docker.sock&#34;</span><span class=p>,</span> <span class=s2>&#34;/tmp/builds:/tmp/builds&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=nx>shm_size</span> <span class=p>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>runners</span><span class=p>.</span><span class=nx>cache</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=nx>runners</span><span class=p>.</span><span class=nx>cache</span><span class=p>.</span><span class=nx>s3</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=nx>runners</span><span class=p>.</span><span class=nx>cache</span><span class=p>.</span><span class=nx>gcs</span><span class=p>]</span></span></span></code></pre></div></div></li><li><p>Apply two overrides to the <code>code_quality</code> job created by the template:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>include</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>template</span><span class=p>:</span><span class=w> </span><span class=l>Jobs/Code-Quality.gitlab-ci.yml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>code_quality</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>services</span><span class=p>:</span><span class=w>            </span><span class=c># Shut off Docker-in-Docker</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>tags</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>cq-sans-dind    </span><span class=w> </span><span class=c># Set this job to only run on our new specialized runner</span></span></span></code></pre></div></div></li></ol><p>Code Quality now runs in standard Docker mode.</p><h3 id=run-codeclimate-rootless-with-private-runners>Run CodeClimate rootless with private runners</h3><p>If you are using private runners and would like to run the Code Quality scans <a href=https://docs.docker.com/engine/security/rootless/>in rootless Docker mode</a> code quality requires some special changes to allow it to run properly. This may require having a runner dedicated to running only code quality jobs because changes in socket binding may cause problems in other jobs.</p><p>To use a rootless private runner:</p><ol><li><p>Register a new runner:</p><p>Replace <code>/run/user/&lt;gitlab-runner-user>/docker.sock</code> with the path to the local <code>docker.sock</code> for the <code>gitlab-runner</code> user.</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=shell class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ gitlab-runner register --executor <span class=s2>&#34;docker&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --docker-image<span class=o>=</span><span class=s2>&#34;docker:cli&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --url <span class=s2>&#34;https://gitlab.com/&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --description <span class=s2>&#34;cq-rootless&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --tag-list <span class=s2>&#34;cq-rootless&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --locked<span class=o>=</span><span class=s2>&#34;false&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --access-level<span class=o>=</span><span class=s2>&#34;not_protected&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --docker-volumes <span class=s2>&#34;/cache&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --docker-volumes <span class=s2>&#34;/tmp/builds:/tmp/builds&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --docker-volumes <span class=s2>&#34;/run/user/&lt;gitlab-runner-user&gt;/docker.sock:/run/user/&lt;gitlab-runner-user&gt;/docker.sock&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --token <span class=s2>&#34;&lt;project_token&gt;&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --non-interactive <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --builds-dir <span class=s2>&#34;/tmp/builds&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --env <span class=s2>&#34;DOCKER_HOST=unix:///run/user/&lt;gitlab-runner-user&gt;/docker.sock&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --docker-host <span class=s2>&#34;unix:///run/user/&lt;gitlab-runner-user&gt;/docker.sock&#34;</span></span></span></code></pre></div></div><p>The resulting configuration:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=toml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=p>[[</span><span class=nx>runners</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>  <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;cq-rootless&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;https://gitlab.com/&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>token</span> <span class=p>=</span> <span class=s2>&#34;&lt;project_token&gt;&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>executor</span> <span class=p>=</span> <span class=s2>&#34;docker&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>builds_dir</span> <span class=p>=</span> <span class=s2>&#34;/tmp/builds&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>environment</span> <span class=p>=</span> <span class=p>[</span><span class=s2>&#34;DOCKER_HOST=unix:///run/user/&lt;gitlab-runner-user&gt;/docker.sock&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>runners</span><span class=p>.</span><span class=nx>docker</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=nx>tls_verify</span> <span class=p>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>    <span class=nx>image</span> <span class=p>=</span> <span class=s2>&#34;docker:cli&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>privileged</span> <span class=p>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>    <span class=nx>disable_entrypoint_overwrite</span> <span class=p>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>    <span class=nx>oom_kill_disable</span> <span class=p>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>    <span class=nx>disable_cache</span> <span class=p>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>    <span class=nx>volumes</span> <span class=p>=</span> <span class=p>[</span><span class=s2>&#34;/cache&#34;</span><span class=p>,</span> <span class=s2>&#34;/run/user/&lt;gitlab-runner-user&gt;/docker.sock:/run/user/&lt;gitlab-runner-user&gt;/docker.sock&#34;</span><span class=p>,</span> <span class=s2>&#34;/tmp/builds:/tmp/builds&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=nx>shm_size</span> <span class=p>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=nx>host</span> <span class=p>=</span> <span class=s2>&#34;unix:///run/user/&lt;gitlab-runner-user&gt;/docker.sock&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>runners</span><span class=p>.</span><span class=nx>cache</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=nx>runners</span><span class=p>.</span><span class=nx>cache</span><span class=p>.</span><span class=nx>s3</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=nx>runners</span><span class=p>.</span><span class=nx>cache</span><span class=p>.</span><span class=nx>gcs</span><span class=p>]</span></span></span></code></pre></div></div></li><li><p>Apply the following overrides to the <code>code_quality</code> job created by the template:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>code_quality</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>services</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>variables</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>DOCKER_SOCKET_PATH</span><span class=p>:</span><span class=w> </span><span class=l>/run/user/997/docker.sock</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>tags</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>cq-rootless</span></span></span></code></pre></div></div></li></ol><p>Code Quality now runs in standard Docker mode and rootless.</p><p>The same configuration is required if your goal is to <a href=https://docs.gitlab.com/runner/executors/docker.html#use-podman-to-run-docker-commands>use rootless Podman to run Docker</a> with code quality. Make sure to replace <code>/run/user/&lt;gitlab-runner-user>/docker.sock</code> with the correct <code>podman.sock</code> path in your system, for example: <code>/run/user/&lt;gitlab-runner-user>/podman/podman.sock</code>.</p><h3 id=configure-kubernetes-or-openshift-runners>Configure Kubernetes or OpenShift runners</h3><p>You must set up Docker in a Docker container (Docker-in-Docker) to use Code Quality. The Kubernetes executor <a href=https://docs.gitlab.com/runner/executors/kubernetes/#using-dockerdind>supports Docker-in-Docker</a>.</p><p>To ensure Code Quality jobs can run on a Kubernetes executor:</p><ul><li>If you&rsquo;re using TLS to communicate with the Docker daemon, the executor <a href=https://docs.gitlab.com/runner/executors/kubernetes/#other-configtoml-settings>must be running in privileged mode</a>. Additionally, the certificate directory must be <a href=/ci/docker/using_docker_build/#docker-in-docker-with-tls-enabled-in-kubernetes>specified as a volume mount</a>.</li><li>It is possible that the DinD service doesn&rsquo;t start up fully before the Code Quality job starts. This is a limitation documented in
<a href=https://docs.gitlab.com/runner/executors/kubernetes/troubleshooting.html#docker-cannot-connect-to-the-docker-daemon-at-tcpdocker2375-is-the-docker-daemon-running>Troubleshooting the Kubernetes executor</a>. To resolve the issue, use <code>before_script</code> to wait for the Docker daemon to fully boot up. For an example, see the configuration in the <code>.gitlab-ci.yml</code> file described in the following section.</li></ul><h4 id=kubernetes>Kubernetes</h4><p>To run Code Quality in Kubernetes:</p><ul><li>The Docker in Docker service must be added as a service container in the <code>config.toml</code> file.</li><li>The Docker daemon in the service container must listen on a TCP and UNIX socket, as both sockets are required by Code Quality.</li><li>The Docker socket must be shared with a volume.</li></ul><p>Due to a <a href=https://docs.docker.com/reference/cli/docker/container/run/#privileged>Docker requirement</a>, the privileged flag
must be enabled for the service container.</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=toml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=p>[</span><span class=nx>runners</span><span class=p>.</span><span class=nx>kubernetes</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>runners</span><span class=p>.</span><span class=nx>kubernetes</span><span class=p>.</span><span class=nx>service_container_security_context</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>privileged</span> <span class=p>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl><span class=nx>allow_privilege_escalation</span> <span class=p>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>runners</span><span class=p>.</span><span class=nx>kubernetes</span><span class=p>.</span><span class=nx>volumes</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[[</span><span class=nx>runners</span><span class=p>.</span><span class=nx>kubernetes</span><span class=p>.</span><span class=nx>volumes</span><span class=p>.</span><span class=nx>empty_dir</span><span class=p>]]</span>
</span></span><span class=line><span class=cl><span class=nx>mount_path</span> <span class=p>=</span> <span class=s2>&#34;/var/run/&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;docker-sock&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[[</span><span class=nx>runners</span><span class=p>.</span><span class=nx>kubernetes</span><span class=p>.</span><span class=nx>services</span><span class=p>]]</span>
</span></span><span class=line><span class=cl><span class=nx>alias</span> <span class=p>=</span> <span class=s2>&#34;dind&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>command</span> <span class=p>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;--host=tcp://0.0.0.0:2375&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;--host=unix://var/run/docker.sock&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;--storage-driver=overlay2&#34;</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>entrypoint</span> <span class=p>=</span> <span class=p>[</span><span class=s2>&#34;dockerd&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;docker:20.10.12-dind&#34;</span></span></span></code></pre></div></div><div class="alert alert-type-note gl-rounded-lg"><div class=alert-icon></div><div class=gl-min-w-0><p>If you use the <a href=https://docs.gitlab.com/runner/install/kubernetes.html>GitLab Runner Helm Chart</a>, you can use
the previous Kubernetes configuration in the <a href=https://docs.gitlab.com/runner/install/kubernetes_helm_chart_configuration.html><code>config</code> field</a>
of the <code>values.yaml</code> file.
x</p></div></div><p>To ensure that you use the <code>overlay2</code> <a href=https://docs.docker.com/storage/storagedriver/select-storage-driver/>storage driver</a>, which offers the best overall performance:</p><ul><li>Specify the <code>DOCKER_HOST</code> that the Docker CLI communicates with.</li><li>Set the <code>DOCKER_DRIVER</code> variable to empty.</li></ul><p>Use the <code>before_script</code> section to wait for the Docker daemon to fully boot up. Since GitLab Runner v16.9, this can also be done <a href=https://docs.gitlab.com/runner/executors/kubernetes/#define-a-list-of-services>by just setting the <code>HEALTHCHECK_TCP_PORT</code> variable</a>.</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>include</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>template</span><span class=p>:</span><span class=w> </span><span class=l>Code-Quality.gitlab-ci.yml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>code_quality</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>services</span><span class=p>:</span><span class=w> </span><span class=p>[]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>variables</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>DOCKER_HOST</span><span class=p>:</span><span class=w> </span><span class=l>tcp://dind:2375</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>DOCKER_DRIVER</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>before_script</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>while ! docker info &gt; /dev/null 2&gt;&amp;1; do sleep 1; done</span></span></span></code></pre></div></div><h4 id=openshift>OpenShift</h4><p>For OpenShift, you should use the <a href=https://docs.gitlab.com/runner/install/operator.html>GitLab Runner Operator</a>.
To give the Docker daemon in the service container permissions to initialize its storage,
you must mount the <code>/var/lib</code> directory as a volume mount.</p><div class="alert alert-type-note gl-rounded-lg"><div class=alert-icon></div><div class=gl-min-w-0><p>If you cannot to mount the <code>/var/lib</code> directory as a volume mount, you can set <code>--storage-driver</code> to <code>vfs</code> instead.
If you opt for the <code>vfs</code> value, it might have a negative
impact on <a href=https://docs.docker.com/storage/storagedriver/select-storage-driver/>performance</a>.</p></div></div><p>To configure permissions for the Docker daemon:</p><ol><li>Create a <code>config.toml</code> file with this configuration template to customize the runner&rsquo;s configuration:</li></ol><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=toml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=p>[[</span><span class=nx>runners</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>runners</span><span class=p>.</span><span class=nx>kubernetes</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>runners</span><span class=p>.</span><span class=nx>kubernetes</span><span class=p>.</span><span class=nx>service_container_security_context</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>privileged</span> <span class=p>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl><span class=nx>allow_privilege_escalation</span> <span class=p>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>runners</span><span class=p>.</span><span class=nx>kubernetes</span><span class=p>.</span><span class=nx>volumes</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[[</span><span class=nx>runners</span><span class=p>.</span><span class=nx>kubernetes</span><span class=p>.</span><span class=nx>volumes</span><span class=p>.</span><span class=nx>empty_dir</span><span class=p>]]</span>
</span></span><span class=line><span class=cl><span class=nx>mount_path</span> <span class=p>=</span> <span class=s2>&#34;/var/run/&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;docker-sock&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[[</span><span class=nx>runners</span><span class=p>.</span><span class=nx>kubernetes</span><span class=p>.</span><span class=nx>volumes</span><span class=p>.</span><span class=nx>empty_dir</span><span class=p>]]</span>
</span></span><span class=line><span class=cl><span class=nx>mount_path</span> <span class=p>=</span> <span class=s2>&#34;/var/lib/&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;docker-data&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[[</span><span class=nx>runners</span><span class=p>.</span><span class=nx>kubernetes</span><span class=p>.</span><span class=nx>services</span><span class=p>]]</span>
</span></span><span class=line><span class=cl><span class=nx>alias</span> <span class=p>=</span> <span class=s2>&#34;dind&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>command</span> <span class=p>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;--host=tcp://0.0.0.0:2375&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;--host=unix://var/run/docker.sock&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;--storage-driver=overlay2&#34;</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>entrypoint</span> <span class=p>=</span> <span class=p>[</span><span class=s2>&#34;dockerd&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;docker:20.10.12-dind&#34;</span></span></span></code></pre></div></div><ol><li><p><a href=https://docs.gitlab.com/runner/configuration/configuring_runner_operator.html#customize-configtoml-with-a-configuration-template>Set the custom configuration to your runner</a>.</p></li><li><p>Optional. Attach a <a href=https://docs.openshift.com/container-platform/3.11/admin_guide/manage_scc.html><code>privileged</code> service account</a>
to the build Pod. This depends on your OpenShift cluster setup:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=shell class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>oc create sa dind-sa
</span></span><span class=line><span class=cl>oc adm policy add-scc-to-user anyuid -z dind-sa
</span></span><span class=line><span class=cl>oc adm policy add-scc-to-user -z dind-sa privileged</span></span></code></pre></div></div></li><li><p>Set the permissions in the <a href=https://docs.gitlab.com/runner/executors/kubernetes/#other-configtoml-settings><code>[runners.kubernetes]</code> section</a>.</p></li><li><p>Set the job definition stays the same as in Kubernetes case:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>include</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>template</span><span class=p>:</span><span class=w> </span><span class=l>Code-Quality.gitlab-ci.yml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>code_quality</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>services</span><span class=p>:</span><span class=w> </span><span class=p>[]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>variables</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>DOCKER_HOST</span><span class=p>:</span><span class=w> </span><span class=l>tcp://dind:2375</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>DOCKER_DRIVER</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>before_script</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>while ! docker info &gt; /dev/null 2&gt;&amp;1; do sleep 1; done</span></span></span></code></pre></div></div></li></ol><h4 id=volumes-and-docker-storage>Volumes and Docker storage</h4><p>Docker stores all of its data in the <code>/var/lib</code> volume, which could result in a large volume. To reuse Docker-in-Docker storage across the cluster,
you can use <a href=https://kubernetes.io/docs/concepts/storage/persistent-volumes/>Persistent Volumes</a> as an alternative.</p></div><div data-vue-app=back-to-top-button></div></div><div class="feedback gl-min-h-8" data-ga-section=feedback data-elastic-exclude><div data-component=docs-feedback></div></div></div><aside class=sidebar-right><div data-ga-section=toc data-vue-app=toc></div></aside></div></main><footer data-ga-section=footer><section data-ga-section=footer><div id=footer class="footer-section container gl-grid gl-grid-cols-2 gl-grid-rows-3 gl-grid-rows-auto gl-gap-8 lg:gl-grid-cols-5 lg:gl-grid-rows-1 lg:gl-justify-items-center gl-px-8 gl-py-8 lg:gl-py-10"><div class="gl-col-span-2 lg:gl-col-span-1 gl-row-start-1"><div class="docs-title gl-flex gl-items-center"><a href=/><img src=/gitlab-logo-footer.svg alt="GitLab Docs logo" class=logo width=176 height=24></a></div><ul class="docs-social gl-list-none gl-flex"><li><a href=https://www.facebook.com/gitlab class=facebook><span class=gl-sr-only>Facebook</span></a></li><li><a href=https://www.linkedin.com/company/gitlab-com class=linkedin><span class=gl-sr-only>LinkedIn</span></a></li><li><a href=https://twitter.com/gitlab class=twitter><span class=gl-sr-only>Twitter</span></a></li><li><a href=https://www.youtube.com/channel/UCnMGQ8QHMAnVIsI3xJrihhg class=youtube><span class=gl-sr-only>YouTube</span></a></li></ul><a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="license noopener noreferrer" class=gl-mt-0><img src=/by-sa.svg alt="Creative Commons License" width=80 height=15></a></div><div class="gl-col-span-1 gl-row-start-2 lg:gl-row-start-1"><div class="footer-section-title gl-heading-3">Company</div><ul class="gl-list-none gl-p-0"><li><a href=https://about.gitlab.com/company/>About GitLab</a></li><li><a href=https://about.gitlab.com/pricing/>View pricing</a></li><li><a href=https://about.gitlab.com/free-trial/>Try GitLab for free</a></li></ul></div><div class="gl-col-span-1 gl-row-start-2 lg:gl-row-start-1"><div class="footer-section-title gl-heading-3">Feedback</div><ul class="gl-list-none gl-p-0"><li><a href=https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/ci/testing/code_quality_codeclimate_scanning.md>View page source</a></li><li><a href=https://gitlab.com/-/ide/project/gitlab-org/gitlab/edit/master/-/doc/ci/testing/code_quality_codeclimate_scanning.md>Edit in web IDE</a></li><li><a href=https://about.gitlab.com/community/contribute/>Contribute to GitLab</a></li><li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Documentation">Suggest updates</a></li></ul></div><div class="gl-col-span-1 gl-row-start-3 lg:gl-row-start-1"><div class="footer-section-title gl-heading-3">Help & Community</div><ul class="gl-list-none gl-p-0"><li><a href=https://university.gitlab.com/pages/certifications>Get certified</a></li><li><a href=https://about.gitlab.com/support/>Get support</a></li><li><a href="https://forum.gitlab.com/new-topic?title=topic%20title&amp;body=topic%20body&amp;tags=docs-feedback">Post on the GitLab forum</a></li></ul></div><div class="gl-col-span-1 gl-row-start-3 lg:gl-row-start-1"><div class="footer-section-title gl-heading-3">Resources</div><ul class="gl-list-none gl-p-0"><li><a href=https://about.gitlab.com/terms/>Terms</a></li><li><a href=https://about.gitlab.com/privacy/>Privacy statement</a></li><li><a href=/legal/use_generative_ai/>Use of generative AI</a></li><li><a href=/legal/licensing_policy/>Acceptable use of user licenses</a></li><li><button id=ot-sdk-btn class=ot-sdk-show-settings></button></li></ul></div></div></section></footer><script type=module src=/vite/main.js></script><script async>(function(e,t,n,s,o){e[s]=e[s]||[],e[s].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],i=t.createElement(n),r=s!="dataLayer"?"&l="+s:"";i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+o+r,a.parentNode.insertBefore(i,a)})(window,document,"script","dataLayer","GTM-NJXWQL")</script><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJXWQL" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><script async>(function(){var e,t=!1;function n(){t===!1&&(t=!0,Munchkin.init("194-VVC-221",{useBeaconAPI:!0}))}e=document.createElement("script"),e.type="text/javascript",e.async=!0,e.src="https://munchkin.marketo.net/munchkin.js",e.onreadystatechange=function(){(this.readyState=="complete"||this.readyState=="loaded")&&n()},e.onload=n,document.getElementsByTagName("head")[0].appendChild(e)})()</script><script async src=https://cdn.bizible.com/scripts/bizible.js></script><script async>_linkedin_partner_id="30694",window._linkedin_data_partner_ids=window._linkedin_data_partner_ids||[],window._linkedin_data_partner_ids.push(_linkedin_partner_id),function(){var t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://snap.licdn.com/li.lms-analytics/insight.min.js",t.parentNode.insertBefore(e,t)}()</script><noscript><img height=1 width=1 style=display:none alt src="https://dc.ads.linkedin.com/collect/?pid=30694&fmt=gif"></noscript></body></html>