<!doctype html><html lang=en-us dir=ltr><head><script src=https://cdn.cookielaw.org/consent/7f944245-c5cd-4eed-a90e-dd955adfdd08/OtAutoBlock.js></script><script src=https://cdn.cookielaw.org/scripttemplates/otSDKStub.js data-domain-script=7f944245-c5cd-4eed-a90e-dd955adfdd08></script><script type=text/javascript>function OptanonWrapper(){}</script><script>const callback=(e)=>{for(const t of e)t.type==="childList"&&t.addedNodes.forEach(e=>{e.nodeName==="IMG"&&document.querySelectorAll('img:not([src^="http"]):not([data-ot-ignore])').forEach(e=>{e.setAttribute("data-ot-ignore","")})})},config={attributes:!0,childList:!0,subtree:!0,attributeFilter:["src"]},observer=new MutationObserver(callback);observer.observe(document.documentElement,config)</script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","GTM-NJXWQL"),gtag("consent","default",{analytics_storage:"granted",ad_storage:"granted",functionality_storage:"granted",wait_for_update:500}),gtag("consent","default",{analytics_storage:"denied",ad_storage:"denied",functionality_storage:"denied",region:["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","IS","LI","NO","GB","PE","RU"],wait_for_update:500}),window.geofeed=e=>{dataLayer.push({event:"OneTrustCountryLoad",oneTrustCountryId:e.country.toString()})};const json=document.createElement("script");json.setAttribute("src","https://geolocation.onetrust.com/cookieconsentpub/v1/geo/location/geofeed"),document.head.appendChild(json)</script><meta charset=utf-8><meta name=viewport content="width=device-width"><title>Debugging CI/CD pipelines | GitLab Docs</title><link rel=icon href=/favicon.ico sizes=any><link rel=icon href=/favicon.svg type=image/svg+xml><link rel=apple-touch-icon href=/apple-touch-icon.png><link rel=manifest href=/manifests/manifest.webmanifest><meta name=theme-color content="#FC6D26"><link rel=canonical href=https://docs.gitlab.com/ci/debugging/><meta name=description content="Configuration validation, warnings, errors, and troubleshooting."><script type=application/ld+json>{"@context":"https://schema.org","@type":"WebSite","name":"GitLab Docs","url":"https://docs.gitlab.com/"}</script><link rel=preload href=/gitlab_ui/fonts/GitLabSans.woff2 type=font/woff2 as=font crossorigin><link rel=prefetch href=/gitlab_ui/fonts/GitLabSans-Italic.woff2 crossorigin><link rel=prefetch href=/gitlab_ui/fonts/GitLabMono.woff2 crossorigin><link rel=stylesheet href=/gitlab_ui/ui/index.css><link rel=stylesheet href=/vite/main.css><link rel=stylesheet href=/css/syntax-dark.min.css id=syntax-dark-theme><link rel=stylesheet href=/css/syntax-light.min.css id=syntax-light-theme><script>(function(){const p="gitlab-docs-theme",g="gitlab-docs-layout",e={LIGHT:"light",DARK:"dark",AUTO:"auto"},i={FIXED:"fixed",FLUID:"fluid"},d="light",f="fixed";let r=!1;const t=localStorage?.getItem(p),m=localStorage?.getItem(g),l=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?e.DARK:e.LIGHT;function h(){return t&&(t===e.LIGHT||t===e.DARK)?t:(t===e.AUTO&&(r=!0),l||d)}function u(){return m===i.FLUID?i.FLUID:f}const s=h(),c=u(),n=document.documentElement;n.classList.remove("gl-dark","gl-light"),n.classList.add(s===e.DARK?"gl-dark":"gl-light"),c===i.FLUID&&(n.classList.add("fluid"),n.classList.remove("fixed"));const a=document.getElementById("syntax-dark-theme"),o=document.getElementById("syntax-light-theme");a&&o&&(s===e.DARK?(a.disabled=!1,o.disabled=!0):(a.disabled=!0,o.disabled=!1)),window.__initialTheme=r?e.AUTO:s,window.__initialLayout=c})()</script><meta name=gitlab_docs_base_url content="/"><meta name=gitlab_docs_page_owner data-stage=Verify data-group="Pipeline Authoring"><meta class=elastic name=gitlab_docs_version content="18.6"><meta class=elastic name=gitlab_docs_section content="use_gitlab"><meta class=elastic name=gitlab_docs_breadcrumbs content="Use GitLab â€º Use CI/CD to build your application"><script>window.pageMetadata={trail:[{path:"user/",title:"Use GitLab"},{path:"topics/build_your_application/",title:"Use CI/CD to build your application"},{path:"ci/debugging/",title:"Debugging"}]}</script><meta name=gitlab_docs_legacy_path content="/ee/ci/debugging.html"><meta name=gitlab_docs_hugo_launch_version content="17.9"><script>const ELASTIC_CLOUD_ID="gitlab-docs-website:dXMtY2VudHJhbDEuZ2NwLmNsb3VkLmVzLmlvJDQwZTQyYTQzMTJiZjQyMzNiMzBiZTg0MTU5YjlkNmE1JGMxODg4Y2U5OTY0YzQzZjc5ZjQ1YTk5NDZmMjI0ODg0",ELASTIC_KEY="cDFpLWJaSUJXVHBqWWI4VGZKN3M6eENBSjl4WDRSRnlCUW94ajRQazhLQQ==",ELASTIC_INDEX="search-gitlab-docs-hugo"</script><script type=module src=/vite/elastic_search.js></script><script type=module src=/vite/history.js></script><script>const FS_IDENTIFIER="AIzaSyCLdi3jHHjkmLji9D8uj_RNPMHcdrYoIW4",RECAPTCHA_PUBLIC_KEY="6Le4R3UrAAAAALsIlK_siq0_UhPD-0rD-ImF1gfO"</script><meta name=google-site-verification content="AcGSBNaKDWnLgcYotlVibGy6STm2Y6_KJSaRxrA90xY"><meta name=google-site-verification content="6eFQOFLxYAer08ROqc3I-SAi44F9NmvH7PrUUBR3oCI"><meta name=google-site-verification content="xAUTWp3CDg-tU1LVVwsM9OrVhLR7L3SmiyKzkOuPNos"><meta name=google-site-verification content="F0zzwaMpiyWFcPQ1Lqu18qN3EnuQsqFXbySl_29yvHs"><meta name=google-site-verification content="nwo1bVaU0t9TZxZyM-aOI6-CofaH9GRL-uBPbdREWgc"><meta name=google-site-verification content="rWoHrtHEmIX0t28oOb1ZEDMYZb_EZA6rr6ZOl5otEPI"><meta name=google-site-verification content="fSxr8-uslxcuFL0N-oECp3Tm0RPNEGX97wbdayKOEL8"><meta name=google-site-verification content="ISxyLVnZqU8oY3jwrK7EO9o-2DOTvLJwPse7bZz6yhs"><meta name=google-site-verification content="x1WspIvz3ZHqS0gezfX_P-qiRDOeP2Oyrd68zrU2ErI"><meta name=google-site-verification content="DfXB2Za52GT3zs_vuLIAL4Mi3M3K4qxXcg7MAs0CUqo"><meta name=google-site-verification content="BCEBC2LC7A1NzO9Com1oBrWK88tV_QXfUL0i9mwXPL0"><meta name=google-site-verification content="a2lNcHMorfS43aoISjZt5_BBPo-H1UaTKMQdBgZO9iY"><meta name=google-site-verification content="0s16pP9MelY6wDHRf-izXb5pwLU01IogP-Uc_e8f3GU"><meta name=google-site-verification content="H474RNof35Xp8fLg02fZbg9Dzxdtfch6vtcjzpmUraU"><meta name=google-site-verification content="E0FlhpgBGeE7d1pQ6amdcIWPMDLDeu15-HLQVoDTguE"><meta name=google-site-verification content="opQd7_rXtPy-pX5CO_XZiztzeQEsXnB3j6Y1_dZAizA"><meta name=google-site-verification content="06Kq4AoXdmBOjOAkbPvnYGtSxnn4Q9QBqEO55PLlw5c"><meta name=google-site-verification content="djBBokRFSWV_VRlSE51V5TZSPzMC6hml5l-Sb22WglE"><meta name=google-site-verification content="UOW6nOsvbyMeIySuamzbws4kNC_WqehamWfoxxtKjZ8"><meta name=google-site-verification content="hXU1Gsdba74DUbvbdUHRl9o0cQeiwXIhAdIllOG6p8E"><meta name=google-site-verification content="YFeHIAPk9lE76ubVMeq4P0sQVnzo2-a4k1oU_bPY8yE"><meta name=google-site-verification content="h8ICI4eDkvXmYaGDuLTLoWuXnLn-KUkChqYB-roMRsw"><meta name=google-site-verification content="9QW7feFNlCpMLPm7vAWEU-v14vdzb0Bb3RAk-8e_a18"><meta name=google-site-verification content="26kXLBOjaYRb2UwzWTDl1I1nzA2NxMunhp7SUtxGV6E"><meta name=google-site-verification content="jr3C8t6vKGPyN9GV3esdHY_xGYyQaUNznIl-Un2RObA"><meta name=google-site-verification content="WdlBpRU0ec1ieKqrTY_772OhG23FY45VQ4Lv9DyLJ_Y"><meta name=google-site-verification content="n9i6B9q4Xjr_etK2nQGZH1msoo7vIv9SXV8SQLOUA7c"><meta name=zd-site-verification content="ony3w7hk1vs6tfyrc51mld"><meta name=zd-site-verification content="gtuq65qdzt6n31viazi6hj"></head><body data-elastic-exclude><nav data-ga-section=header data-elastic-exclude><div class="header-wrapper gl-w-full gl-fixed gl-z-4"><div class=header><div class="header-top gl-flex gl-items-center"><a href=#skipTarget class="gl-sr-only skip-link">Skip to main content</a>
<a class=navbar-logo href=/><span class=gl-sr-only>Go to GitLab Docs homepage</span></a><div class="mobile-header gl-w-full gl-text-base"><div class=mobile-header-overlay></div><div class="header-right collapse gl-z-4 gl-border-t lg:gl-border-0"><div class="search-wrapper lg:gl-ml-4 lg:gl-grow"><div class="js-elastic-search-form gl-spinner-container"><span role=status aria-label=Loading class="gl-ml-3 gl-align-text-bottom! gl-spinner gl-spinner gl-spinner-sm"></span></div></div><div class="gl-flex gl-flex-col gl-gap-3 gl-mt-5 lg:gl-mt-0 lg:gl-flex-row lg:gl-items-center gl-ml-auto"><a class="whats-new gl-button btn-default btn-default-tertiary gl-hidden lg:gl-block" href=https://about.gitlab.com/releases/categories/releases/ target=_blank rel="noopener noreferrer">What's new?</a><div data-vue-app=versions-menu></div><div data-vue-app=appearance-toggle class="gl-hidden lg:gl-block"></div><div class="gl-flex gl-justify-evenly lg:gl-justify-normal gl-items-center gl-gap-5"><a class="whats-new gl-button btn-default btn-default-tertiary gl-w-full lg:gl-hidden hover:gl-no-underline" href=https://about.gitlab.com/releases/categories/releases/ target=_blank rel="noopener noreferrer">What's new?</a>
<a class="free-trial-btn cta-button gl-button btn-confirm gl-w-full hover:gl-no-underline" href="https://gitlab.com/-/trial_registrations/new?glm_source=docs.gitlab.com&amp;amp;glm_content=navigation-cta-docs" target=_blank rel="noopener noreferrer" role=button>Get free trial</a></div></div></div></div><button class="navbar-toggle gl-button btn-default lg:gl-hidden" data-toggle=collapse data-target=.header-right>
<span class=navbar-toggle-icon></span>
<span class=gl-sr-only>Toggle menu</span></button></div><div class="header-bottom gl-border-t lg:gl-border-b"><ul class="subheader-menu gl-hidden lg:gl-flex gl-list-none gl-text-base gl-space-x-5 gl-py-4 gl-pl-0 gl-mb-0"><li><a href=/user/ class=active>Use GitLab</a></li><li><a href=/user/gitlab_duo/>GitLab Duo</a></li><li><a href=/api/>Extend</a></li><li><a href=/install/>Install</a></li><li><a href=/administration/>Administer</a></li><li><a href=/subscriptions/>Subscribe</a></li><li><a href=/development/>Contribute</a></li><li><a href=/solutions/>Solutions</a></li></ul></div></div></div></nav><main data-ga-section=content-body><div id=js-version-banner></div><div class="template-single gl-flex gl-h-full"><div class=side-nav data-ga-section=side-nav data-vue-app=sidebar-menu></div><div data-pagefind-body class=main-content><div class=docs-content><div class="gl-flex gl-h-5 gl-items-center gl-my-6"><div data-vue-app=open-sidebar></div><div data-vue-app=breadcrumb-nav></div></div><hr class="gl-border-t gl-px-5 lg:gl-hidden"><div class="gl-pt-4 gl-mt-4 lg:gl-pt-0 lg:gl-mt-0 lg:gl-border-t-0"><h1 id=skipTarget class=gl-mb-6>Debugging CI/CD pipelines</h1></div><div data-elastic-include><div class="availability gl-pl-4 gl-mb-5"><ul class="gl-list-none gl-p-0 gl-m-0"><li><span class=gl-font-bold>Tier</span>: Free, Premium, Ultimate</li><li><span class=gl-font-bold>Offering</span>: GitLab.com, GitLab Self-Managed, GitLab Dedicated</li></ul></div><p>GitLab provides several tools to help make it easier to debug your CI/CD configuration.</p><p>If you are unable to resolve pipeline issues, you can get help from:</p><ul><li>The <a href=https://forum.gitlab.com/>GitLab community forum</a></li><li>GitLab <a href=https://about.gitlab.com/support/>Support</a></li></ul><p>If you are having issues with a specific CI/CD feature, see the related troubleshooting section
for that feature:</p><ul><li><a href=/ci/caching/#troubleshooting>Caching</a></li><li><a href=/ci/jobs/ci_job_token/#troubleshooting>CI/CD job tokens</a></li><li><a href=/user/packages/container_registry/troubleshoot_container_registry/>Container registry</a></li><li><a href=/ci/docker/docker_build_troubleshooting/>Docker</a></li><li><a href=/ci/pipelines/downstream_pipelines_troubleshooting/>Downstream pipelines</a></li><li><a href=/ci/environments/#troubleshooting>Environments</a></li><li><a href=https://docs.gitlab.com/runner/faq/>GitLab Runner</a></li><li><a href=/ci/secrets/id_token_authentication/#troubleshooting>ID tokens</a></li><li><a href=/ci/jobs/job_troubleshooting/>Jobs</a></li><li><a href=/ci/jobs/job_artifacts_troubleshooting/>Job artifacts</a></li><li><a href=/ci/pipelines/mr_pipeline_troubleshooting/>Merge request pipelines</a>
<a href=/ci/pipelines/merged_results_pipelines/#troubleshooting>merged results pipelines</a>
and <a href=/ci/pipelines/merge_trains/#troubleshooting>merge trains</a></li><li><a href=/ci/pipeline_editor/#troubleshooting>Pipeline editor</a></li><li><a href=/ci/variables/variables_troubleshooting/>Variables</a></li><li><a href=/ci/yaml/includes/#troubleshooting>YAML <code>includes</code> keyword</a></li><li><a href=/ci/yaml/script_troubleshooting/>YAML <code>script</code> keyword</a></li></ul><h2 id=debugging-techniques>Debugging techniques</h2><h3 id=verify-syntax>Verify syntax</h3><p>An early source of problems can be incorrect syntax. The pipeline shows a <code>yaml invalid</code>
badge and does not start running if any syntax or formatting problems are found.</p><h4 id=edit-gitlab-ciyml-with-the-pipeline-editor>Edit <code>.gitlab-ci.yml</code> with the pipeline editor</h4><p>The <a href=/ci/pipeline_editor/>pipeline editor</a> is the recommended editing
experience (rather than the single file editor or the Web IDE). It includes:</p><ul><li>Code completion suggestions that ensure you are only using accepted keywords.</li><li>Automatic syntax highlighting and validation.</li><li>The <a href=/ci/pipeline_editor/#visualize-ci-configuration>CI/CD configuration visualization</a>,
a graphical representation of your <code>.gitlab-ci.yml</code> file.</li></ul><h4 id=edit-gitlab-ciyml-locally>Edit <code>.gitlab-ci.yml</code> locally</h4><p>If you prefer to edit your pipeline configuration locally, you can use the
GitLab CI/CD schema in your editor to verify basic syntax issues. Any
<a href=https://www.schemastore.org/>editor with Schemastore support</a> uses
the GitLab CI/CD schema by default.</p><p>If you need to link to the schema directly, use this URL:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=plaintext class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=cl>https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/editor/schema/ci.json</span></span></code></pre></div></div><p>To see the full list of custom tags covered by the CI/CD schema, check the
latest version of the schema.</p><h4 id=verify-syntax-with-ci-lint-tool>Verify syntax with CI Lint tool</h4><p>You can use the <a href=/ci/yaml/lint/>CI Lint tool</a> to verify that the syntax of a CI/CD configuration
snippet is correct. Paste in full <code>.gitlab-ci.yml</code> files or individual job configurations,
to verify the basic syntax.</p><p>When a <code>.gitlab-ci.yml</code> file is present in a project, you can also use the CI Lint
tool to <a href=/ci/yaml/lint/#simulate-a-pipeline>simulate the creation of a full pipeline</a>.
It does deeper verification of the configuration syntax.</p><h3 id=use-pipeline-names>Use pipeline names</h3><p>Use <a href=/ci/yaml/#workflowname><code>workflow:name</code></a> to give names to all your pipeline types,
which makes it easier to identify pipelines in the pipelines list. For example:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>variables</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>PIPELINE_NAME</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Default pipeline name&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>workflow</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;$PIPELINE_NAME&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;$CI_PIPELINE_SOURCE == &#34;merge_request_event&#34;&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>variables</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>PIPELINE_NAME</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Merge request pipeline&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;$CI_PIPELINE_SOURCE == &#34;schedule&#34; &amp;&amp; $PIPELINE_SCHEDULE_TYPE == &#34;hourly_deploy&#34;&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>variables</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>PIPELINE_NAME</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Hourly deployment pipeline&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;$CI_PIPELINE_SOURCE == &#34;schedule&#34;&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>variables</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>PIPELINE_NAME</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Other scheduled pipeline&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;$CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>variables</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>PIPELINE_NAME</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Default branch pipeline&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;$CI_COMMIT_BRANCH =~ /^\d{1,2}\.\d{1,2}-stable$/&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>variables</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>PIPELINE_NAME</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Stable branch pipeline&#34;</span></span></span></code></pre></div></div><h3 id=cicd-variables>CI/CD variables</h3><h4 id=verify-variables>Verify variables</h4><p>A key part of troubleshooting CI/CD is to verify which variables are present in a
pipeline, and what their values are. A lot of pipeline configuration is dependent
on variables, and verifying them is one of the fastest ways to find the source of
a problem.</p><p><a href=/ci/variables/variables_troubleshooting/#list-all-variables>Export the full list of variables</a>
available in each problematic job. Check if the variables you expect are present,
and check if their values are what you expect.</p><h4 id=use-variables-to-add-flags-to-cli-commands>Use variables to add flags to CLI commands</h4><p>You can define CI/CD variables that are not used in standard pipeline runs, but can
be used for debugging on demand. If you add a variable like in the following example,
you can add it during manual runs of the <a href=/ci/pipelines/#run-a-pipeline-manually>pipeline</a>
or <a href=/ci/jobs/job_control/#run-a-manual-job>individual job</a> to modify the command&rsquo;s behavior.
For example:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>my-flaky-job</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>variables</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>DEBUG_VARS</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>my-test-command $DEBUG_VARS /test-dirs</span></span></span></code></pre></div></div><p>In this example, <code>DEBUG_VARS</code> is blank by default in standard pipelines. If you need to
debug the job&rsquo;s behavior, run the pipeline manually and set <code>DEBUG_VARS</code> to <code>--verbose</code>
for additional output.</p><h3 id=dependencies>Dependencies</h3><p>Dependency-related issues are another common source of unexpected issues in pipelines.</p><h4 id=verify-dependency-versions>Verify dependency versions</h4><p>To validate that the correct versions of dependencies are being used in jobs, you can
output them before running the main script commands. For example:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>job</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>before_script</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>node --version</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>yarn --version</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>my-javascript-tests.sh</span></span></span></code></pre></div></div><h4 id=pin-versions>Pin versions</h4><p>While you might want to always use the latest version of a dependency or image,
an update could include breaking changes unexpectedly. Consider pinning
key dependencies and images to avoid surprise changes. For example:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>variables</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ALPINE_VERSION</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;3.18.6&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>job1</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>alpine:$ALPINE_VERSION </span><span class=w> </span><span class=c># This will never change unexpectedly</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>my-test-script.sh</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>job2</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>alpine:latest </span><span class=w> </span><span class=c># This might suddenly change</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>my-test-script.sh</span></span></span></code></pre></div></div><p>You should still regularly check the dependency and image updates, as there might be
important security updates. Then you can manually update the version as part of a process that
verifies the updated image or dependency still works with your pipeline.</p><h3 id=verify-job-output>Verify job output</h3><h4 id=make-output-verbose>Make output verbose</h4><p>If you use <code>--silent</code> to reduce the amount of output in a job log, it can make it
difficult to identify what went wrong in a job. Additionally, consider using <code>--verbose</code>
when possible, for additional details.</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>job1</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>my-test-tool --silent        </span><span class=w> </span><span class=c># If this fails, it might be impossible to identify the issue.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>my-other-test-tool --verbose </span><span class=w> </span><span class=c># This command will likely be easier to debug.</span></span></span></code></pre></div></div><h4 id=save-output-and-reports-as-artifacts>Save output and reports as artifacts</h4><p>Some tools might generate files that are only needed while the job is running,
but the content of these files could be used for debugging. You can save them for
later analysis with <a href=/ci/yaml/#artifacts><code>artifacts</code></a>:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>job1</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>my-tool --json-output my-output.json</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>artifacts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>my-output.json</span></span></span></code></pre></div></div><p>Reports configured with <a href=/ci/yaml/artifacts_reports/><code>artifacts:reports</code></a> are not available
for download by default, but could also contain information to help with debugging.
Use the same technique to make these reports available for inspection:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=yaml class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>job1</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>rspec --format RspecJunitFormatter --out rspec.xml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>artifacts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>reports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>junit</span><span class=p>:</span><span class=w> </span><span class=l>rspec.xml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>rspec.xmp</span></span></span></code></pre></div></div><div class="alert alert-type-warning gl-rounded-lg"><div class=alert-icon></div><div class=gl-min-w-0><p>Do not save tokens, passwords, or other sensitive information in artifacts,
as they could be viewed by any user with access to the pipelines.</p></div></div><h3 id=run-the-jobs-commands-locally>Run the job&rsquo;s commands locally</h3><p>You can use a tool like <a href=https://rancherdesktop.io/>Rancher Desktop</a> or similar alternatives
to run the job&rsquo;s container image on your local machine. Then, run the job&rsquo;s <code>script</code> commands
in the container and verify the behavior.</p><h3 id=troubleshoot-a-failed-job-with-root-cause-analysis>Troubleshoot a failed job with Root Cause Analysis</h3><p>You can use GitLab Duo Root Cause Analysis in GitLab Duo Chat to <a href=/user/gitlab_duo_chat/examples/#troubleshoot-failed-cicd-jobs-with-root-cause-analysis>troubleshoot failed CI/CD jobs</a>.</p><h2 id=job-configuration-issues>Job configuration issues</h2><p>A lot of common pipeline issues can be fixed by analyzing the behavior of the <code>rules</code>
or <code>only/except</code> configuration used to <a href=/ci/jobs/job_control/>control when jobs are added to a pipeline</a>.
You shouldn&rsquo;t use these two configurations in the same pipeline, as they behave differently.
It&rsquo;s hard to predict how a pipeline runs with this mixed behavior. <code>rules</code> is the preferred
choice for controlling jobs, as <code>only</code> and <code>except</code> are no longer being actively developed.</p><p>If your <code>rules</code> or <code>only/except</code> configuration makes use of <a href=/ci/variables/predefined_variables/>predefined variables</a>
like <code>CI_PIPELINE_SOURCE</code>, <code>CI_MERGE_REQUEST_ID</code>, you should <a href=/ci/debugging/#verify-variables>verify them</a>
as the first troubleshooting step.</p><h3 id=jobs-or-pipelines-dont-run-when-expected>Jobs or pipelines don&rsquo;t run when expected</h3><p>The <code>rules</code> or <code>only/except</code> keywords are what determine whether or not a job is
added to a pipeline. If a pipeline runs, but a job is not added to the pipeline,
it&rsquo;s usually due to <code>rules</code> or <code>only/except</code> configuration issues.</p><p>If a pipeline does not seem to run at all, with no error message, it may also be
due to <code>rules</code> or <code>only/except</code> configuration, or the <code>workflow: rules</code> keyword.</p><p>If you are converting from <code>only/except</code> to the <code>rules</code> keyword, you should check
the <a href=/ci/yaml/#rules><code>rules</code> configuration details</a> carefully. The behavior
of <code>only/except</code> and <code>rules</code> is different and can cause unexpected behavior when migrating
between the two.</p><p>The <a href=/ci/jobs/job_rules/#common-if-clauses-with-predefined-variables>common <code>if</code> clauses for <code>rules</code></a>
can be very helpful for examples of how to write rules that behave the way you expect.</p><p>If a pipeline contains only jobs in the <code>.pre</code> or <code>.post</code> stages, it does not run.
There must be at least one other job in a different stage.</p><h3 id=unexpected-behavior-when-gitlab-ciyml-file-contains-a-byte-order-mark-bom>Unexpected behavior when <code>.gitlab-ci.yml</code> file contains a byte order mark (BOM)</h3><p>A <a href=https://en.wikipedia.org/wiki/Byte_order_mark>UTF-8 Byte-Order Mark (BOM)</a> in
the <code>.gitlab-ci.yml</code> file or other included configuration files can lead to incorrect
pipeline behavior. The byte order mark affects parsing of the file, causing some configuration
to be ignored - jobs might be missing, and variables could have the wrong values.
Some text editors could insert a BOM character if configured to do so.</p><p>If your pipeline has confusing behavior, you can check for the presence of BOM characters
with a tool capable of displaying them. The pipeline editor cannot display the characters,
so you must use an external tool. See <a href=https://gitlab.com/gitlab-org/gitlab/-/issues/354026>issue 354026</a>
for more details.</p><h3 id=a-job-with-the-changes-keyword-runs-unexpectedly>A job with the <code>changes</code> keyword runs unexpectedly</h3><p>A common reason a job is added to a pipeline unexpectedly is because the <code>changes</code>
keyword always evaluates to true in certain cases. For example, <code>changes</code> is always
true in certain pipeline types, including scheduled pipelines and pipelines for tags.</p><p>The <code>changes</code> keyword is used in combination with <a href=/ci/yaml/deprecated_keywords/#onlychanges--exceptchanges><code>only/except</code></a>
or <a href=/ci/yaml/#ruleschanges><code>rules</code></a>. It&rsquo;s recommended to only use <code>changes</code> with
<code>if</code> sections in <code>rules</code> or <code>only/except</code> configuration that ensures the job is only added to
branch pipelines or merge request pipelines.</p><h3 id=two-pipelines-run-at-the-same-time>Two pipelines run at the same time</h3><p>Two pipelines can run when pushing a commit to a branch that has an open merge request
associated with it. Usually one pipeline is a merge request pipeline, and the other
is a branch pipeline.</p><p>This situation is usually caused by the <code>rules</code> configuration, and there are several ways to
<a href=/ci/jobs/job_rules/#avoid-duplicate-pipelines>prevent duplicate pipelines</a>.</p><h3 id=no-pipeline-or-the-wrong-type-of-pipeline-runs>No pipeline or the wrong type of pipeline runs</h3><p>Before a pipeline can run, GitLab evaluates all the jobs in the configuration and tries
to add them to all available pipeline types. A pipeline does not run if no jobs are added
to it at the end of the evaluation.</p><p>If a pipeline did not run, it&rsquo;s likely that all the jobs had <code>rules</code> or <code>only/except</code> that
blocked them from being added to the pipeline.</p><p>If the wrong pipeline type ran, then the <code>rules</code> or <code>only/except</code> configuration should
be checked to make sure the jobs are added to the correct pipeline type. For
example, if a merge request pipeline did not run, the jobs may have been added to
a branch pipeline instead.</p><p>It&rsquo;s also possible that your <a href=/ci/yaml/#workflow><code>workflow: rules</code></a> configuration
blocked the pipeline, or allowed the wrong pipeline type.</p><p>If you are using pull mirroring, you can check the <a href=/user/project/repository/mirror/troubleshooting/#pull-mirroring-is-not-triggering-pipelines>troubleshooting entry for pull mirroring pipelines</a>.</p><h3 id=pipeline-with-many-jobs-fails-to-start>Pipeline with many jobs fails to start</h3><p>A Pipeline that has more jobs than the instance&rsquo;s defined <a href=/administration/settings/continuous_integration/#set-cicd-limits>CI/CD limits</a>
fails to start.</p><p>To reduce the number of jobs in a single pipeline, you can split your <code>.gitlab-ci.yml</code>
configuration into more independent <a href=/ci/pipelines/pipeline_architectures/#parent-child-pipelines>parent-child pipelines</a>.</p><h2 id=pipeline-warnings>Pipeline warnings</h2><p>Pipeline configuration warnings are shown when you:</p><ul><li><a href=/ci/yaml/lint/>Validate configuration with the CI Lint tool</a>.</li><li><a href=/ci/pipelines/#run-a-pipeline-manually>Manually run a pipeline</a>.</li></ul><h3 id=job-may-allow-multiple-pipelines-to-run-for-a-single-action-warning><code>Job may allow multiple pipelines to run for a single action</code> warning</h3><p>When you use <a href=/ci/yaml/#rules><code>rules</code></a> with a <code>when</code> clause without an <code>if</code>
clause, multiple pipelines may run. Usually this occurs when you push a commit to
a branch that has an open merge request associated with it.</p><p>To <a href=/ci/jobs/job_rules/#avoid-duplicate-pipelines>prevent duplicate pipelines</a>, use
<a href=/ci/yaml/#workflow><code>workflow: rules</code></a> or rewrite your rules to control
which pipelines can run.</p><h2 id=pipeline-errors>Pipeline errors</h2><h3 id=a-cicd-pipeline-must-run-and-be-successful-before-merge-message><code>A CI/CD pipeline must run and be successful before merge</code> message</h3><p>This message is shown if the <a href=/user/project/merge_requests/auto_merge/#require-a-successful-pipeline-for-merge><strong>Pipelines must succeed</strong></a>
setting is enabled in the project and a pipeline has not yet run successfully.
This also applies if the pipeline has not been created yet, or if you are waiting
for an external CI service.</p><p>If you don&rsquo;t use pipelines for your project, then you should disable <strong>Pipelines must succeed</strong>
so you can accept merge requests.</p><h3 id=checking-ability-to-merge-automatically-message><code>Checking ability to merge automatically</code> message</h3><p>If your merge request is stuck with a <code>Checking ability to merge automatically</code>
message that does not disappear after a few minutes, you can try one of these workarounds:</p><ul><li>Refresh the merge request page.</li><li>Close & Re-open the merge request.</li><li>Rebase the merge request with the <code>/rebase</code> <a href=/user/project/quick_actions/>quick action</a>.</li><li>If you have already confirmed the merge request is ready to be merged, you can merge
it with the <code>/merge</code> quick action.</li></ul><p>This issue is <a href=https://gitlab.com/gitlab-org/gitlab/-/issues/229352>resolved</a> in GitLab 15.5.</p><h3 id=checking-pipeline-status-message><code>Checking pipeline status</code> message</h3><p>This message displays with a spinning status icon (<span> <svg role="img" aria-label="spinner" class="gl-icon s16"><use href="/gitlab_ui/svgs-latest/icons.svg#spinner"/><title>spinner</title></svg> </span>) when the merge request
does not yet have a pipeline associated with the latest commit. This might be because:</p><ul><li>GitLab hasn&rsquo;t finished creating the pipeline yet.</li><li>You are using an external CI service and GitLab hasn&rsquo;t heard back from the service yet.</li><li>You are not using CI/CD pipelines in your project.</li><li>You are using CI/CD pipelines in your project, but your configuration prevented a pipeline from running on the source branch for your merge request.</li><li>The latest pipeline was deleted (this is a <a href=https://gitlab.com/gitlab-org/gitlab/-/issues/214323>known issue</a>).</li><li>The source branch of the merge request is on a private fork.</li></ul><p>After the pipeline is created, the message updates with the pipeline status.</p><p>In some of these cases, the message might get stuck with the icon spinning endlessly
if the <a href=/user/project/merge_requests/auto_merge/#require-a-successful-pipeline-for-merge><strong>Pipelines must succeed</strong></a>
setting is enabled. See <a href=https://gitlab.com/gitlab-org/gitlab/-/issues/334281>issue 334281</a>
for more details.</p><h3 id=project-groupproject-not-found-or-access-denied-message><code>Project &lt;group/project> not found or access denied</code> message</h3><p>This message is shown if configuration is added with <a href=/ci/yaml/#include><code>include</code></a> and either:</p><ul><li>The configuration refers to a project that can&rsquo;t be found.</li><li>The user that is running the pipeline is unable to access any included projects.</li></ul><p>To resolve this, check that:</p><ul><li>The path of the project is in the format <code>my-group/my-project</code> and does not include
any folders in the repository.</li><li>The user running the pipeline is a <a href=/user/project/members/#add-users-to-a-project>member of the projects</a>
that contain the included files. Users must also have the <a href=/user/permissions/#cicd>permission</a>
to run CI/CD jobs in the same projects.</li></ul><h3 id=the-parsed-yaml-is-too-big-message><code>The parsed YAML is too big</code> message</h3><p>This message displays when the YAML configuration is too large or nested too deeply.
YAML files with a large number of includes, and thousands of lines overall, are
more likely to hit this memory limit. For example, a YAML file that is 200 kb is
likely to hit the default memory limit.</p><p>To reduce the configuration size, you can:</p><ul><li>Check the length of the expanded CI/CD configuration in the pipeline editor&rsquo;s
<a href=/ci/pipeline_editor/#view-full-configuration>Full configuration</a> tab. Look for
duplicated configuration that can be removed or simplified.</li><li>Move long or repeated <code>script</code> sections into standalone scripts in the project.</li><li>Use <a href=/ci/pipelines/downstream_pipelines/#parent-child-pipelines>parent and child pipelines</a> to move some
work to jobs in an independent child pipeline.</li></ul><p>On GitLab Self-Managed, you can <a href=/administration/instance_limits/#maximum-size-and-depth-of-cicd-configuration-yaml-files>increase the size limits</a>.</p><h3 id=500-error-when-editing-the-gitlab-ciyml-file><code>500</code> error when editing the <code>.gitlab-ci.yml</code> file</h3><p>A loop of included configuration files can cause a <code>500</code> error when editing the <code>.gitlab-ci.yml</code> file
with the <a href=/user/project/repository/web_editor/>web editor</a>.</p><p>Ensure that included configuration files do not create a loop of references to each other.</p><h3 id=failed-to-pull-image-messages><code>Failed to pull image</code> messages</h3><div class="collapsible-section gl-my-5"><button class="gl-align-middle gl-text-left gl-border-0 gl-pl-0" type=button aria-expanded=false aria-controls=collapsible-3 aria-label="Toggle section" data-toggle=collapse data-target=#collapsible-3>History<span class="gl-ml-2 icon"></span></button><div id=collapsible-3 class="collapsible-list collapse" aria-hidden=true><ul><li><strong>Allow access to this project with a CI_JOB_TOKEN</strong> setting <a href=https://gitlab.com/gitlab-org/gitlab/-/issues/411406>renamed to <strong>Limit access to this project</strong></a> in GitLab 16.3.</li></ul></div></div><p>A runner might return a <code>Failed to pull image</code> message when trying to pull a container image
in a CI/CD job.</p><p>The runner authenticates with a <a href=/ci/jobs/ci_job_token/>CI/CD job token</a>
when fetching a container image defined with <a href=/ci/yaml/#image><code>image</code></a>
from another project&rsquo;s container registry.</p><p>If the job token settings prevent access to the other project&rsquo;s container registry,
the runner returns an error message.</p><p>For example:</p><ul><li><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=plaintext class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=cl>WARNING: Failed to pull image with policy &#34;always&#34;: Error response from daemon: pull access denied for registry.example.com/path/to/project, repository does not exist or may require &#39;docker login&#39;: denied: requested access to the resource is denied</span></span></code></pre></div></div></li><li><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=plaintext class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=cl>WARNING: Failed to pull image with policy &#34;&#34;: image pull failed: rpc error: code = Unknown desc = failed to pull and unpack image &#34;registry.example.com/path/to/project/image:v1.2.3&#34;: failed to resolve reference &#34;registry.example.com/path/to/project/image:v1.2.3&#34;: pull access denied, repository does not exist or may require authorization: server message: insufficient_scope: authorization failed</span></span></code></pre></div></div></li></ul><p>These errors can happen if the following are both true:</p><ul><li>The <a href=/ci/jobs/ci_job_token/#limit-job-token-scope-for-public-or-internal-projects><strong>Limit access to this project</strong></a>
option is enabled in the private project hosting the image.</li><li>The job attempting to fetch the image is running in a project that is not listed in
the private project&rsquo;s allowlist.</li></ul><p>To resolve this issue, add any projects with CI/CD jobs that fetch images from the container
registry to the target project&rsquo;s <a href=/ci/jobs/ci_job_token/#add-a-group-or-project-to-the-job-token-allowlist>job token allowlist</a>.</p><p>These errors might also happen when trying to use a <a href=/user/project/settings/project_access_tokens/>project access token</a>
to access images in another project. Project access tokens are scoped to one project,
and therefore cannot access images in other projects. You must use <a href=/security/tokens/>a different token type</a>
with wider scope.</p><h4 id=random-or-intermittent-failed-to-pull-image-errors>Random or intermittent <code>Failed to pull image</code> errors</h4><p>You might experience intermittent <code>Failed to pull image</code> errors in your CI/CD jobs.</p><p>This issue can occur when users have different permissions to access images, combined with how runners cache those images.
Bot users are commonly affected because they often have different permissions than other project members.</p><p>For example, your pipeline images might be hosted in a container registry in a different project.
If all users can access both projects, this is not a problem. However, if a user (like a bot user)
cannot access the project hosting the images, they can get <code>Failed to pull image</code> errors.</p><p>The error becomes intermittent when the runner successfully fetches and caches the image
for a user with permission to access the image. This runner now has the image available
and does not need to access the other project to fetch the image. All users, including users
without access to the other project, can run CI/CD jobs with this image. However, if the runner
has never fetched and cached the image, users without permission to access the image project
get the <code>Failed to pull image</code> error.</p><p>To resolve this issue, make sure all users that run pipelines, including bot users,
can access the project that hosts the pulled images.</p><h3 id=something-went-wrong-on-our-end-message-or-500-error-when-running-a-pipeline><code>Something went wrong on our end</code> message or <code>500</code> error when running a pipeline</h3><p>You might receive the following pipeline errors:</p><ul><li>A <code>Something went wrong on our end</code> message when pushing or creating merge requests.</li><li>A <code>500</code> error when using the API to trigger a pipeline.</li></ul><p>These errors can happen if records of internal IDs become out of sync after a project is imported.</p><p>To resolve this, see the <a href=https://gitlab.com/gitlab-org/gitlab/-/issues/352382#workaround>workaround in issue 352382</a>.</p><h3 id=config-should-be-an-array-of-hashes-error-message><code>config should be an array of hashes</code> error message</h3><p>You might see an error similar to the following when using <a href=/ci/yaml/yaml_optimization/#reference-tags><code>!reference</code> tags</a>
with the <a href=/ci/yaml/#parallelmatrix><code>parallel:matrix</code> keyword</a>:</p><div class=codeblock-wrapper><div data-vue-app=codeblock-toolbar data-code-language=plaintext class=codeblock-toolbar></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=cl>This GitLab CI configuration is invalid: jobs:my_job_name:parallel:matrix config should be an array of hashes.</span></span></code></pre></div></div><p>The <code>parallel:matrix</code> keyword does not support multiple <code>!reference</code> tags at the same time.
Try using <a href=/ci/yaml/yaml_optimization/#anchors>YAML anchors</a> instead.</p><p><a href=https://gitlab.com/gitlab-org/gitlab/-/issues/439828>Issue 439828</a> proposes improving
<code>!reference</code> tag support in <code>parallel:matrix</code>.</p></div><div data-vue-app=back-to-top-button></div></div><div class="feedback gl-min-h-8" data-ga-section=feedback data-elastic-exclude><div data-component=docs-feedback></div></div></div><aside class=sidebar-right><div data-ga-section=toc data-vue-app=toc></div></aside></div></main><footer data-ga-section=footer><section data-ga-section=footer><div id=footer class="footer-section container gl-grid gl-grid-cols-2 gl-grid-rows-3 gl-grid-rows-auto gl-gap-8 lg:gl-grid-cols-5 lg:gl-grid-rows-1 lg:gl-justify-items-center gl-px-8 gl-py-8 lg:gl-py-10"><div class="gl-col-span-2 lg:gl-col-span-1 gl-row-start-1"><div class="docs-title gl-flex gl-items-center"><a href=/><img src=/gitlab-logo-footer.svg alt="GitLab Docs logo" class=logo width=176 height=24></a></div><ul class="docs-social gl-list-none gl-flex"><li><a href=https://www.facebook.com/gitlab class=facebook><span class=gl-sr-only>Facebook</span></a></li><li><a href=https://www.linkedin.com/company/gitlab-com class=linkedin><span class=gl-sr-only>LinkedIn</span></a></li><li><a href=https://twitter.com/gitlab class=twitter><span class=gl-sr-only>Twitter</span></a></li><li><a href=https://www.youtube.com/channel/UCnMGQ8QHMAnVIsI3xJrihhg class=youtube><span class=gl-sr-only>YouTube</span></a></li></ul><a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="license noopener noreferrer" class=gl-mt-0><img src=/by-sa.svg alt="Creative Commons License" width=80 height=15></a></div><div class="gl-col-span-1 gl-row-start-2 lg:gl-row-start-1"><div class="footer-section-title gl-heading-3">Company</div><ul class="gl-list-none gl-p-0"><li><a href=https://about.gitlab.com/company/>About GitLab</a></li><li><a href=https://about.gitlab.com/pricing/>View pricing</a></li><li><a href=https://about.gitlab.com/free-trial/>Try GitLab for free</a></li></ul></div><div class="gl-col-span-1 gl-row-start-2 lg:gl-row-start-1"><div class="footer-section-title gl-heading-3">Feedback</div><ul class="gl-list-none gl-p-0"><li><a href=https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/ci/debugging.md>View page source</a></li><li><a href=https://gitlab.com/-/ide/project/gitlab-org/gitlab/edit/master/-/doc/ci/debugging.md>Edit in web IDE</a></li><li><a href=https://about.gitlab.com/community/contribute/>Contribute to GitLab</a></li><li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Documentation">Suggest updates</a></li></ul></div><div class="gl-col-span-1 gl-row-start-3 lg:gl-row-start-1"><div class="footer-section-title gl-heading-3">Help & Community</div><ul class="gl-list-none gl-p-0"><li><a href=https://university.gitlab.com/pages/certifications>Get certified</a></li><li><a href=https://about.gitlab.com/support/>Get support</a></li><li><a href="https://forum.gitlab.com/new-topic?title=topic%20title&amp;body=topic%20body&amp;tags=docs-feedback">Post on the GitLab forum</a></li></ul></div><div class="gl-col-span-1 gl-row-start-3 lg:gl-row-start-1"><div class="footer-section-title gl-heading-3">Resources</div><ul class="gl-list-none gl-p-0"><li><a href=https://about.gitlab.com/terms/>Terms</a></li><li><a href=https://about.gitlab.com/privacy/>Privacy statement</a></li><li><a href=/legal/use_generative_ai/>Use of generative AI</a></li><li><a href=/legal/licensing_policy/>Acceptable use of user licenses</a></li><li><button id=ot-sdk-btn class=ot-sdk-show-settings></button></li></ul></div></div></section></footer><script type=module src=/vite/main.js></script><script async>(function(e,t,n,s,o){e[s]=e[s]||[],e[s].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],i=t.createElement(n),r=s!="dataLayer"?"&l="+s:"";i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+o+r,a.parentNode.insertBefore(i,a)})(window,document,"script","dataLayer","GTM-NJXWQL")</script><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJXWQL" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><script async>(function(){var e,t=!1;function n(){t===!1&&(t=!0,Munchkin.init("194-VVC-221",{useBeaconAPI:!0}))}e=document.createElement("script"),e.type="text/javascript",e.async=!0,e.src="https://munchkin.marketo.net/munchkin.js",e.onreadystatechange=function(){(this.readyState=="complete"||this.readyState=="loaded")&&n()},e.onload=n,document.getElementsByTagName("head")[0].appendChild(e)})()</script><script async src=https://cdn.bizible.com/scripts/bizible.js></script><script async>_linkedin_partner_id="30694",window._linkedin_data_partner_ids=window._linkedin_data_partner_ids||[],window._linkedin_data_partner_ids.push(_linkedin_partner_id),function(){var t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://snap.licdn.com/li.lms-analytics/insight.min.js",t.parentNode.insertBefore(e,t)}()</script><noscript><img height=1 width=1 style=display:none alt src="https://dc.ads.linkedin.com/collect/?pid=30694&fmt=gif"></noscript></body></html>